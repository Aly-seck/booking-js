{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///timekit-booking.min.js","webpack:///webpack/bootstrap 4555b606cfbe0984f607","webpack:///./src/main.js","webpack:///./~/timekit-sdk/src/timekit.js","webpack:///./~/timekit-sdk/~/axios/index.js","webpack:///./~/timekit-sdk/~/axios/lib/axios.js","webpack:///./~/timekit-sdk/~/axios/lib/defaults.js","webpack:///./~/timekit-sdk/~/axios/lib/utils.js","webpack:///./~/timekit-sdk/~/axios/lib/helpers/deprecatedMethod.js","webpack:///./~/timekit-sdk/~/axios/lib/core/dispatchRequest.js","webpack:///(webpack)/~/node-libs-browser/~/process/browser.js","webpack:///./~/timekit-sdk/~/axios/lib/adapters/xhr.js","webpack:///./~/timekit-sdk/~/axios/lib/helpers/buildUrl.js","webpack:///./~/timekit-sdk/~/axios/lib/helpers/cookies.js","webpack:///./~/timekit-sdk/~/axios/lib/helpers/parseHeaders.js","webpack:///./~/timekit-sdk/~/axios/lib/helpers/transformData.js","webpack:///./~/timekit-sdk/~/axios/lib/helpers/urlIsSameOrigin.js","webpack:///./~/timekit-sdk/~/axios/lib/core/InterceptorManager.js","webpack:///./~/timekit-sdk/~/axios/~/es6-promise/dist/es6-promise.js","webpack:///(webpack)/~/node-libs-browser/~/timers-browserify/main.js","webpack:///(webpack)/buildin/module.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///./~/timekit-sdk/~/axios/lib/helpers/spread.js","webpack:///./~/timekit-sdk/~/base-64/base64.js","webpack:///./~/timekit-sdk/~/humps/humps.js","webpack:///./~/fullcalendar/dist/fullcalendar.js","webpack:///external \"jQuery\"","webpack:///./~/moment/moment.js","webpack:///./~/moment/locale en-gb","webpack:///./~/moment/locale/en-gb.js","webpack:///./src/utils.js","webpack:///./src/templates.js","webpack:///./src/defaultConfig.js","webpack:///./~/fullcalendar/dist/fullcalendar.css?dd33","webpack:///./~/fullcalendar/dist/fullcalendar.css","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./src/styles/fullcalendar-theme.scss?f6ad","webpack:///./src/styles/fullcalendar-theme.scss","webpack:///./src/styles/booking.scss?c4c9","webpack:///./src/styles/booking.scss"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_25__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","TimekitBooking","TB","calendarTarget","timekitSetup","args","$","extend","config","timekitConfig","timekit","configure","setUser","email","apiToken","timekitFindTime","callback","emails","findTime","then","response","utils","log","renderTimezoneHelper","localTzOffset","Date","getTimezoneOffset","timezoneHelperTarget","targetEl","append","getUserTimezone","hostTzOffset","data","utc_offset","tzOffsetDiff","tzOffsetDiffAbs","Math","abs","aheadOfHost","template","templates","timezoneHelper","hostName","name","html","initializeCalendar","defaultView","height","deviceWidth","window","width","eventClick","clickCalendarTimeslot","fullCalendar","renderCalendarEvents","eventData","events","showBookingPage","calEvent","jsEvent","view","init","suppliedConfig","undefined","localization","showTimezoneHelper","styling","fullCalendarCore","fullCalendarTheme","general","fullCalender","apply","arguments","Timekit","userEmail","userApiToken","includes","app","apiBaseUrl","apiVersion","convertResponseToCamelcase","encodeAuthHeader","base64","encode","buildUrl","endpoint","TK","makeRequest","url","headers","Timekit-App","Authorization","inputTimestampFormat","outputTimestampFormat","timezone","length","params","include","join","humps","decamelizeKeys","interceptor","axios","interceptors","use","camelizeKeys","error","Promise","reject","request","eject","custom","attr","getConfig","getUser","Array","prototype","slice","getAccounts","method","accountGoogleSignup","shouldAutoRedirect","location","href","getAccountGoogleCalendars","accountSync","auth","r","api_token","getApps","getApp","slug","createApp","updateApp","deleteApp","getCalendars","getCalendar","createCalendar","deleteCalendar","getContacts","getEvents","getEvent","createEvent","deleteEvent","getAvailability","findTimeBulk","getMeetings","getMeeting","createMeeting","updateMeeting","setMeetingAvailability","bookMeeting","inviteToMeeting","createUser","getUserInfo","updateUser","resetUserPassword","getUserProperties","getUserProperty","key","setUserProperties","defaults","deprecatedMethod","dispatchRequest","InterceptorManager","P","polyfill","merge","transformRequest","transformResponse","withCredentials","chain","promise","resolve","forEach","unshift","fulfilled","rejected","push","shift","success","fn","status","all","promises","spread","createShortMethods","createShortMethodsWithData","PROTECTION_PREFIX","DEFAULT_CONTENT_TYPE","Content-Type","isFormData","isArrayBuffer","isArrayBufferView","buffer","isObject","isFile","isBlob","isUndefined","JSON","stringify","replace","parse","e","common","Accept","patch","post","put","xsrfCookieName","xsrfHeaderName","isArray","val","toString","ArrayBuffer","isView","isString","isNumber","isDate","trim","str","obj","isArrayLike","isNaN","i","l","hasOwnProperty","result","Object","instead","docs","console","warn","process","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","setTimeout","len","run","clearTimeout","Item","fun","array","noop","nextTick","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","Error","cwd","chdir","dir","umask","cookies","parseHeaders","transformData","urlIsSameOrigin","requestHeaders","XMLHttpRequest","ActiveXObject","open","toUpperCase","onreadystatechange","readyState","responseHeaders","getAllResponseHeaders","responseData","indexOf","responseType","responseText","statusText","xsrfValue","read","toLowerCase","setRequestHeader","DataView","send","encodeURIComponent","parts","v","toISOString","write","value","expires","path","domain","secure","cookie","toGMTString","document","match","RegExp","decodeURIComponent","remove","now","parsed","split","line","substr","fns","urlResolve","msie","urlParsingNode","setAttribute","protocol","host","search","hash","hostname","port","pathname","charAt","originUrl","test","navigator","userAgent","createElement","requestUrl","handlers","h","__WEBPACK_AMD_DEFINE_RESULT__","setImmediate","global","lib$es6$promise$utils$$objectOrFunction","x","lib$es6$promise$utils$$isFunction","lib$es6$promise$utils$$isMaybeThenable","lib$es6$promise$asap$$setScheduler","scheduleFn","lib$es6$promise$asap$$customSchedulerFn","lib$es6$promise$asap$$setAsap","asapFn","lib$es6$promise$asap$$asap","lib$es6$promise$asap$$useNextTick","node","lib$es6$promise$asap$$flush","lib$es6$promise$asap$$useVertxTimer","lib$es6$promise$asap$$vertxNext","lib$es6$promise$asap$$useMutationObserver","iterations","observer","lib$es6$promise$asap$$BrowserMutationObserver","createTextNode","observe","characterData","lib$es6$promise$asap$$useMessageChannel","channel","MessageChannel","port1","onmessage","port2","postMessage","lib$es6$promise$asap$$useSetTimeout","lib$es6$promise$asap$$len","lib$es6$promise$asap$$queue","arg","lib$es6$promise$asap$$attemptVertex","vertx","runOnLoop","runOnContext","lib$es6$promise$$internal$$noop","lib$es6$promise$$internal$$selfFullfillment","TypeError","lib$es6$promise$$internal$$cannotReturnOwn","lib$es6$promise$$internal$$getThen","lib$es6$promise$$internal$$GET_THEN_ERROR","lib$es6$promise$$internal$$tryThen","fulfillmentHandler","rejectionHandler","lib$es6$promise$$internal$$handleForeignThenable","thenable","sealed","lib$es6$promise$$internal$$resolve","lib$es6$promise$$internal$$fulfill","reason","lib$es6$promise$$internal$$reject","_label","lib$es6$promise$$internal$$handleOwnThenable","_state","lib$es6$promise$$internal$$FULFILLED","_result","lib$es6$promise$$internal$$REJECTED","lib$es6$promise$$internal$$subscribe","lib$es6$promise$$internal$$handleMaybeThenable","maybeThenable","constructor","lib$es6$promise$$internal$$publishRejection","_onerror","lib$es6$promise$$internal$$publish","lib$es6$promise$$internal$$PENDING","_subscribers","parent","child","onFulfillment","onRejection","subscribers","settled","detail","lib$es6$promise$$internal$$invokeCallback","lib$es6$promise$$internal$$ErrorObject","lib$es6$promise$$internal$$tryCatch","lib$es6$promise$$internal$$TRY_CATCH_ERROR","succeeded","failed","hasCallback","lib$es6$promise$$internal$$initializePromise","resolver","lib$es6$promise$enumerator$$Enumerator","Constructor","input","enumerator","_instanceConstructor","_validateInput","_input","_remaining","_init","_enumerate","_validationError","lib$es6$promise$promise$all$$all","entries","lib$es6$promise$enumerator$$default","lib$es6$promise$promise$race$$race","lib$es6$promise$utils$$isArray","lib$es6$promise$promise$resolve$$resolve","object","lib$es6$promise$promise$reject$$reject","lib$es6$promise$promise$$needsResolver","lib$es6$promise$promise$$needsNew","lib$es6$promise$promise$$Promise","_id","lib$es6$promise$promise$$counter","lib$es6$promise$polyfill$$polyfill","local","self","Function","cast","lib$es6$promise$promise$$default","lib$es6$promise$utils$$_isArray","lib$es6$promise$asap$$scheduleFlush","lib$es6$promise$asap$$browserWindow","lib$es6$promise$asap$$browserGlobal","MutationObserver","WebKitMutationObserver","lib$es6$promise$asap$$isNode","lib$es6$promise$asap$$isWorker","Uint8ClampedArray","importScripts","_eachEntry","entry","_settledAt","_willSettleAt","state","lib$es6$promise$promise$all$$default","lib$es6$promise$promise$race$$default","lib$es6$promise$promise$resolve$$default","lib$es6$promise$promise$reject$$default","race","_setScheduler","_setAsap","_asap","catch","lib$es6$promise$polyfill$$default","lib$es6$promise$umd$$ES6Promise","clearImmediate","Timeout","clearFn","_clearFn","immediateIds","nextImmediateId","setInterval","clearInterval","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","webpackPolyfill","deprecate","paths","children","arr","freeExports","freeGlobal","InvalidCharacterError","message","TABLE","REGEX_SPACE_CHARACTERS","decode","String","bitStorage","bitCounter","output","position","fromCharCode","a","b","padding","charCodeAt","__WEBPACK_AMD_DEFINE_FACTORY__","_processKeys","convert","separator","ignoreNumbers","_isObject","_isDate","_isRegExp","_isBoolean","_isArray","separateWords","string","regexp","camelize","_isNumerical","chr","pascalize","camelized","decamelize","depascalize","pascalizeKeys","depascalizeKeys","__WEBPACK_AMD_DEFINE_ARRAY__","moment","mergeOptions","optionObjs","mergeProps","complexOptions","massageOverrides","subObj","overrides","views","each","isPlainObject","inArray","subName","subVal","compensateScroll","rowEls","scrollbarWidths","left","css","border-left-width","margin-left","right","border-right-width","margin-right","uncompensateScroll","disableCursor","addClass","enableCursor","removeClass","distributeHeight","els","availableHeight","shouldRedistribute","minOffset1","floor","minOffset2","flexEls","flexOffsets","flexHeights","usedHeight","undistributeHeight","el","minOffset","naturalOffset","outerHeight","naturalHeight","newHeight","matchCellWidths","maxInnerWidth","find","innerEl","innerWidth","outerWidth","setPotentialScroller","containerEl","scrollHeight","clientHeight","unsetScroller","getScrollParent","scrollParent","parents","filter","eq","ownerDocument","getOuterRect","offset","top","bottom","getClientRect","getScrollbarWidths","getCssFloat","clientWidth","getContentRect","leftRightWidth","widths","innerHeight","getIsLeftRtlScrollbars","_isLeftRtlScrollbars","computeIsLeftRtlScrollbars","border","overflow","direction","appendTo","res","prop","parseFloat","isPrimaryMouseButton","ev","which","ctrlKey","intersectRects","rect1","rect2","max","min","constrainPoint","point","rect","getRectCenter","diffPoints","point1","point2","parseFieldSpecs","token","specs","tokens","field","substring","order","func","compareByFieldSpecs","obj1","obj2","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","type","localeCompare","intersectionToSeg","subjectRange","constraintRange","segStart","segEnd","isStart","isEnd","subjectStart","start","subjectEnd","end","constraintStart","constraintEnd","clone","diffDayTime","duration","days","stripTime","diff","ms","time","diffDay","diffByUnit","unit","round","computeIntervalUnit","intervalUnits","computeRangeAs","isInt","isDuration","as","divideRangeByDuration","dur","months","durationHasTime","asMonths","asDays","divideDurationByDuration","dur1","dur2","months1","months2","multiplyDuration","n","Boolean","hours","minutes","seconds","milliseconds","isNativeDate","isTimeString","propObjs","complexProps","complexObjs","j","props","dest","createObject","proto","f","copyOwnProps","src","hasOwnProp","copyNativeMethods","names","hasOwnPropMethod","isAtomic","applyAll","functions","thisObj","isFunction","ret","firstDefined","htmlEscape","s","stripHtmlEntities","text","cssToStr","cssProps","statements","capitaliseFirstLetter","compareNumbers","proxy","methodName","debounce","wait","timeoutId","context","timestamp","later","last","makeMoment","parseAsUTC","parseZone","isAmbigTime","isAmbigZone","ambigMatch","mom","isSingleString","isMoment","transferAmbigs","ambigDateOfMonthRegex","ambigTimeOrZoneRegex","exec","utc","_ambigTime","_ambigZone","utcOffset","zone","_fullCalendar","commonlyAmbiguate","inputs","preserveTime","anyAmbigTime","anyAmbigZone","moms","fc","stripZone","setMomentValues","year","month","date","oldMomentFormat","formatStr","oldMomentProto","format","formatDate","formatDateWithChunks","getFormatStringChunks","chunks","formatDateWithChunk","chunk","maybeStr","tokenOverrides","maybe","formatRange","date1","date2","isRTL","localeData","lang","longDateFormat","formatRangeWithChunks","chunkStr","leftI","rightI","middleI","leftStr","rightStr","middleStr1","middleStr2","middleStr","formatSimilarChunk","similarUnitMap","isSame","formatStringChunkCache","chunkFormatString","chunker","Class","isCellsEqual","cell1","cell2","grid","row","col","isBgEvent","event","rendering","getEventRendering","isInverseBgEvent","source","groupEventsById","eventsById","compareNormalRanges","range1","range2","eventStartMS","getDraggedElMeta","eventProps","startTime","stick","prefix","dataAttrPrefix","isDaySegCollision","seg","otherSegs","otherSeg","leftCol","rightCol","compareDaySegCols","buildSlotSegLevels","segs","levels","computeSlotSegCollisions","level","computeForwardSlotSegs","k","forwardSegs","computeSlotSegPressures","forwardSeg","forwardPressure","results","isSlotSegCollision","seg1","seg2","Calendar_constructor","element","render","content","elementVisible","calcSize","renderView","initialRender","tm","options","theme","prependTo","header","t","Header","headerElement","prepend","handleWindowResize","windowResizeProxy","windowResize","windowResizeDelay","resize","destroy","currentView","removeElement","unbind","is","viewType","ignoreWindowResize","deactivateButton","freezeContentHeight","viewsByType","instantiateView","setElement","activateButton","massageCurrentDate","displaying","isWithin","intervalStart","intervalEnd","display","unfreezeContentHeight","updateHeaderTitle","updateTodayButton","getAndRenderEvents","updateSize","shouldRecalc","_calcSize","suggestedViewHeight","contentHeight","aspectRatio","target","trigger","_element","refetchEvents","destroyEvents","fetchAndRenderEvents","renderEvents","displayEvents","clearEvents","lazyFetching","isFetchNeeded","fetchEvents","reportEvents","_events","reportEventChange","updateTitle","getNow","disableButton","enableButton","select","buildSelectRange","unselect","prev","computePrevDate","next","computeNextDate","prevYear","add","nextYear","today","gotoDate","dateInput","incrementDate","delta","zoomTo","newDate","spec","getViewSpec","getUnitViewSpec","getDate","getView","option","triggerWith","initOptions","rerenderEvents","changeView","getMomentLocaleData","monthNames","_months","monthNamesShort","_monthsShort","dayNames","_weekdays","dayNamesShort","_weekdaysShort","firstDay","_week","dow","_fullCalendar_weekCalc","weekCalc","weekNumberCalculation","defaultAllDayEventDuration","defaultTimedEventDuration","hasTime","_locale","_lang","getIsAmbigTimezone","rezoneDate","toArray","getEventEnd","getDefaultEventEnd","allDay","humanizeDuration","locale","humanize","EventManager","defaultDate","getSuggestedViewHeight","isHeightAuto","initialize","populateInstanceComputableOptions","instanceComputableOptions","langCode","langData","calendar","sections","renderSection","sectionEl","buttonStr","groupEl","groupChildren","isOnlyButtons","buttonName","customButtonProps","viewSpec","buttonClick","overrideText","defaultText","themeIcon","normalIcon","innerHtml","classes","button","customButtons","click","viewsWithButtons","buttonTextOverride","buttonTextDefault","buttonText","themeButtonIcons","icon","buttonIcons","hasClass","mousedown","not","mouseup","hover","first","removeAttr","getViewsWithButtons","rangeStart","rangeEnd","cache","fetchID","currentFetchID","sources","pendingSourceCnt","fetchEventSource","_fetchEventSource","eventInputs","eventInput","abstractEvent","isArraySource","buildEventFromInput","expandEvent","fetchers","sourceFetchers","pushLoading","popLoading","customData","complete","startParam","endParam","timezoneParam","ajax","ajaxDefaults","addEventSource","sourceInput","buildEventSource","normalizers","sourceNormalizers","className","origArray","map","removeEventSource","grep","isSourcesEqual","source1","source2","getSourcePrimitive","googleCalendarId","updateEvent","mutateEvent","getMiscEventProps","isMiscEventPropName","renderEvent","stickySource","removeEvents","eventID","clientEvents","out","eventDataTransform","eventGUID","_recurring","isValid","allDayDefault","assignDatesToEvent","normalizeEventRange","backupEventDates","normalizeEventRangeTimes","isAfter","forceEventDuration","range","ensureVisibleEventRange","_rangeStart","_rangeEnd","dowHash","endTime","isBefore","day","newProps","largeUnit","diffDates","date0","oldProps","clearEnd","startDelta","endDelta","durationDelta","undoFunc","miscProps","_start","_end","_allDay","subtract","mutateEvents","dateDelta","undo","isAmbigTimezone","undoFunctions","valueOf","getBusinessHoursEvents","wholeDay","optionVal","businessHours","defaultVal","isEventRangeAllowed","constraint","eventConstraint","overlap","eventOverlap","isRangeAllowed","isSelectionRangeAllowed","selectConstraint","selectOverlap","isExternalDropRangeAllowed","constraintEvents","anyContainment","peerEvents","peerEvent","peerOverlap","constraintToEvents","eventContainsRange","getPeerEvents","eventIntersectsRange","constraintInput","eventStart","eventEnd","eventSources","getEventCache","fcViews","singleRes","removeData","Calendar","dayIDs","allowValueOptimization","setUTCValues","setLocalValues","newMomentProto","week","weeks","isoWeek","dayHours","wasAmbigTime","hasZone","wasAmbigZone","tzo","units","_d","setTime","UTC","updateOffset","T","Y","M","D","d","A","H","members","subClass","superClass","mixin","Emitter","callbackHash","getCallbacks","callbacks","fireWith","Callbacks","Popover","isHidden","documentMousedownProxy","margin","show","hide","_this","parentEl","autoHide","documentMousedown","closest","viewportTop","viewportLeft","viewportOffset","origin","offsetParent","windowEl","viewportEl","scrollTop","scrollLeft","viewportConstrain","GridCoordMap","rowCoords","colCoords","bounds","build","computeRowCoords","computeColCoords","computeBounds","clear","getCell","y","coords","cell","rowCnt","colCnt","hitRow","hitCol","inBounds","ComboCoordMap","coordMaps","DragListener","isListening","isDragging","originX","originY","mousemoveProxy","mouseupProxy","subjectEl","subjectHref","scrollEl","scrollBounds","scrollTopVel","scrollLeftVel","scrollIntervalId","scrollHandlerProxy","scrollSensitivity","scrollSpeed","scrollIntervalMs","preventDefault","startListening","distance","startDrag","scroll","pageX","pageY","listenStart","mousemove","minDistance","distanceSq","dx","dy","drag","dragStart","updateScroll","stopListening","stopDrag","stopScrolling","dragStop","listenStop","computeScrollBounds","topCloseness","bottomCloseness","leftCloseness","rightCloseness","sensitivity","topVel","leftVel","setScrollVel","constrainScrollVel","scrollWidth","scrollIntervalFunc","frac","scrollStop","scrollHandler","CellDragListener","coordMap","origCell","coordAdjust","subjectRect","origPoint","computeCoords","subjectCenter","cellOver","cellOut","cellDone","MouseFollower","sourceEl","top0","left0","mouseY0","mouseX0","topDelta","leftDelta","isFollowing","isAnimating","updatePosition","stop","shouldRevert","revertDuration","animate","getEl","visibility","opacity","zIndex","sourceOffset","RowRenderer","cellHtml","opt","rowHtml","rowType","renderCell","getHtmlRenderer","rowCellHtml","bookendCells","cells","intro","outro","prependHtml","appendHtml","rendererName","generalName","specificName","provider","renderer","Grid","elsByFill","externalDragStartProxy","colHeadFormat","eventTimeFormat","displayEventTime","displayEventEnd","cellDuration","computeColHeadFormat","computeEventTimeFormat","computeDisplayEventTime","computeDisplayEventEnd","setRange","rangeUpdated","processRangeOptions","rangeToSegs","getRowData","getColData","computeCellRange","computeCellDate","getRowEl","getColEl","getCellDayEl","items","dayMousedown","bindSegHandlers","bindGlobalHandlers","unbindGlobalHandlers","renderSkeleton","renderDates","unrenderDates","dayClickCell","selectionRange","isSelectable","dragListener","isOrig","computeSelection","renderSelection","unrenderSelection","triggerDayClick","reportSelection","renderRangeHelper","sourceSeg","fakeEvent","fabricateHelperEvent","renderHelper","editable","unrenderHelper","renderHighlight","selectionRangeToSegs","unrenderHighlight","firstCell","lastCell","dates","sort","renderFill","unrenderFill","highlightSegClasses","renderFillSegEls","segElMethod","renderedSegs","fillSegHtml","fillSegTag","classesMethod","cssMethod","headHtml","widgetHeaderClass","headCellHtml","bgCellHtml","getDayClasses","widgetContentClass","intervalDuration","highlightStateClass","mousedOverSeg","isDraggingSeg","isResizingSeg","isDraggingExternal","eventsToSegs","bgSegs","fgSegs","renderBgSegs","renderFgSegs","unrenderEvents","triggerSegMouseout","unrenderFgSegs","unrenderBgSegs","getEventSegs","renderFgSegEls","disableResizing","fgSegHtml","resolveEventEl","bgEventSegEl","bgEventSegClasses","bgEventSegCss","background-color","backgroundColor","color","businessHoursSegClasses","mouseenter","triggerSegMouseover","mouseleave","isEventResizable","segResizeMousedown","isEventDraggable","segDragMousedown","dropLocation","mouseFollower","segDragStart","hideEvent","computeEventDrop","renderDrag","unrenderDrag","showEvent","segDragStop","reportEventDrop","startCell","endCell","dragEnd","applyDragOpacity","style","externalDragStart","ui","accept","listenToExternalDrag","meta","computeExternalDrop","reportExternalDrop","resizeLocation","segResizeStart","computeEventStartResize","computeEventEndResize","renderEventResize","unrenderEventResize","segResizeStop","reportEventResize","computeEventResize","defaultDuration","getEventTimeText","displayEnd","getSegClasses","isDraggable","isResizable","getEventSkinCss","eventColor","sourceColor","optionColor","border-color","borderColor","textColor","rangeToSegsFunc","eventRanges","eventsToRanges","eventRangeToSegs","ranges","eventGroup","eventsToInverseRanges","eventsToNormalRanges","eventDurationMS","normalRange","viewStart","viewEnd","normalRanges","inverseRanges","event0","eventRange","sortSegs","compareSegs","eventOrderSpecs","DayGrid","numbersVisible","bottomCoordPadding","breakOnWeeks","cellDates","dayToCellOffsets","dayEls","helperEls","isRigid","cellCnt","dayRowHtml","removeSegPopover","renderBusinessHours","dayCellHtml","updateCellDates","ceil","offsets","isHiddenDay","index","rowFirst","rowLast","segFirst","segLast","computeDayRange","dateToCellOffset","rowStructs","helperNodes","renderSegRows","rowNode","skeletonTop","rowEl","skeletonEl","tbodyEl","nodes","renderFillRow","trEl","startCol","endCol","popoverSegs","allDaySegs","rowStruct","pop","segRows","groupSegRows","renderSegRow","timeText","titleHtml","isResizableFromStart","isEventResizableFromStart","isResizableFromEnd","isEventResizableFromEnd","skinCss","timeHtml","rowSegs","emptyCellsUntil","td","loneCellMatrix","parseInt","tr","cellMatrix","levelSegs","segLevels","buildSegLevels","levelCnt","tbody","segMatrix","segPopover","limitRows","levelLimit","rowLevelLimit","unlimitRow","computeRowLevelLimit","limitRow","iterInnerHeights","childNode","trHeight","rowHeight","trEls","segsBelow","getCellSegs","moreLink","renderMoreLink","moreWrap","moreNodes","limitedNodes","totalSegsBelow","colSegsBelow","rowspan","segMoreNodes","moreTd","get","after","moreEls","limitedEls","hiddenSegs","getMoreLinkText","clickOption","moreEl","dayEl","allSegs","reslicedAllSegs","resliceDaySegs","reslicedHiddenSegs","showSegPopover","topEl","renderSegPopoverContent","isTheme","segContainer","dayDate","dayStart","dayEnd","dayRange","num","startLevel","TimeGrid","slotDuration","snapDuration","minTime","maxTime","colDates","labelFormat","labelInterval","slatEls","slatTops","helperEl","businessHourSegs","processOptions","renderHtml","slatRowHtml","slotBgCellHtml","slotDate","isLabeled","axisHtml","slotTime","axisStyleAttr","computeLabelInterval","slotsPerLabel","AGENDA_STOCK_SUB_DURATIONS","skipHiddenDays","reverse","computeSnapTime","colDate","colRange","isResize","computeSlatTops","updateSegVerticals","originTop","computeTimeTop","computeDateTop","startOfDayDate","slatIndex","slatRemainder","slatTop","slatBottom","slatCoverage","tops","tableEl","renderSegTable","segCols","colSegs","tdEl","groupSegCols","eventSkeletonEl","computeSegVerticals","placeSlotSegs","generateSegPositionCss","level0","computeSlotSegCoords","seriesBackwardPressure","seriesBackwardCoord","forwardCoord","sortForwardSlotSegs","backwardCoord","generateSegVerticalCss","fullTimeText","startTimeText","isMultiDayEvent","shouldOverlap","compareForwardSlotSegs","View","isSkeletonRendered","isEventsRendered","intervalUnit","isSelected","scrollerEl","nextDayThreshold","isHiddenDayHash","initThemingProps","initHiddenDays","setDate","computeRange","startOf","computeTitle","computeTitleFormat","unrenderSkeleton","scrollState","queryScroll","when","displayView","forceScroll","computeInitialScroll","triggerRender","clearView","triggerUnrender","unrenderBusinessHours","updateHeight","updateWidth","setScroll","setHeight","isAuto","computeScrollerHeight","totalHeight","both","otherHeight","previousScrollState","triggerEventRender","triggerEventUnrender","renderedEventSegEach","startEditable","mutateResult","triggerEventDrop","triggerExternalDrop","durationEditable","triggerEventResize","triggerSelect","destroySelection","ignore","hiddenDays","dayCnt","inc","isExclusive","endTimeMS","startDay","endDay","dirDefaults","langDefaults","viewSpecCache","loadingLevel","langOptionHash","rtlDefaults","buildViewSpec","viewTypes","singleUnit","requestedViewType","viewOverrides","specChain","defaultsChain","overridesChain","class","buildViewSpecOptions","buildViewSpecButtonText","queryButtonText","isValidViewType","titleRangeSeparator","monthYearFormat","center","weekends","weekNumbers","weekNumberTitle","scrollTime","dragOpacity","dragRevertDuration","dragScroll","unselectAuto","dropAccept","eventOrder","eventLimit","eventLimitText","eventLimitClick","dayPopoverFormat","englishDefaults","langs","datepickerLang","dpLangCode","dpOptions","fcOptions","weekHeader","dpComputableOptions","datepicker","regional","en","setDefaults","newFcOptions","momOptions","momComputableOptions","prevText","nextText","currentText","showMonthAfterYear","yearSuffix","dayOfMonthFormat","mediumTimeFormat","smallTimeFormat","extraSmallTimeFormat","hourFormat","noMeridiemTimeFormat","smallDayDateFormat","weekFormat","smallWeekFormat","dataType","otherEvent","BasicView","dayGrid","dayNumbersVisible","weekNumbersVisible","weekNumberWidth","headRowEl","weekday","hasRigidRows","headIntroHtml","weekNumberStyleAttr","numberIntroHtml","dayIntroHtml","introHtml","numberCellHtml","scrollerHeight","setGridHeight","MonthView","isFixedWeeks","weekMode","basic","basicDay","basicWeek","fixedWeekCount","AgendaView","timeGrid","axisWidth","noScrollRowEls","bottomRuleEl","bottomRuleHeight","weekText","slotBgIntroHtml","AGENDA_ALL_DAY_EVENT_LIMIT","timedSegs","dayEvents","timedEvents","daySegs","agenda","allDaySlot","allDayText","slotEventOverlap","agendaDay","agendaWeek","utils_hooks__hooks","hookCallback","setHookCallback","create_utc__createUTC","strict","createLocalOrUTC","defaultParsingFlags","empty","unusedTokens","unusedInput","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","iso","getParsingFlags","_pf","valid__isValid","_isValid","flags","getTime","invalidWeekday","_strict","bigHour","valid__createInvalid","NaN","copyConfig","to","from","_isAMomentObject","_i","_f","_l","_tzm","_isUTC","_offset","momentProperties","Moment","updateInProgress","absFloor","number","toInt","argumentForCoercion","coercedNumber","isFinite","compareArrays","array1","array2","dontConvert","lengthDiff","diffs","Locale","normalizeLocale","chooseLocale","loadLocale","oldLocale","locales","globalLocale","_abbr","locale_locales__getSetGlobalLocale","values","locale_locales__getLocale","defineLocale","abbr","set","addUnitAlias","shorthand","lowerCase","aliases","normalizeUnits","normalizeObjectUnits","inputObject","normalizedProp","normalizedInput","makeGetSet","keepTime","get_set__set","get_set__get","getSet","zeroFill","targetLength","forceSign","absNumber","zerosToFill","sign","pow","addFormatToken","padded","ordinal","formatTokenFunctions","removeFormattingTokens","makeFormatFunction","formattingTokens","formatMoment","expandFormat","formatFunctions","invalidDate","replaceLongDateFormatTokens","localFormattingTokens","lastIndex","sth","addRegexToken","regex","strictRegex","regexes","isStrict","getParseRegexForToken","unescapeFormat","matched","p1","p2","p3","p4","addParseToken","addWeekParseToken","_w","addTimeToArrayFromToken","_a","daysInMonth","getUTCDate","localeMonths","localeMonthsShort","localeMonthsParse","monthName","_monthsParse","_longMonthsParse","_shortMonthsParse","monthsShort","setMonth","dayOfMonth","monthsParse","getSetMonth","getDaysInMonth","checkOverflow","MONTH","DATE","YEAR","HOUR","MINUTE","SECOND","MILLISECOND","_overflowDayOfYear","msg","suppressDeprecationWarnings","firstTime","stack","deprecateSimple","deprecations","configFromISO","from_string__isoRegex","isoDates","isoTimes","matchOffset","configFromStringAndFormat","configFromString","aspNetJsonRegex","createFromInputFallback","createDate","setFullYear","createUTCDate","setUTCFullYear","daysInYear","isLeapYear","getIsLeapYear","weekOfYear","firstDayOfWeek","firstDayOfWeekOfYear","adjustedMoment","daysToDayOfWeek","local__createLocal","dayOfYear","localeWeek","doy","localeFirstDayOfWeek","localeFirstDayOfYear","getSetWeek","getSetISOWeek","dayOfYearFromWeeks","week1Jan","janX","getUTCDay","getSetDayOfYear","currentDateArray","_useUTC","getUTCFullYear","getUTCMonth","getFullYear","getMonth","configFromArray","currentDate","yearToUse","dayOfYearFromWeekInfo","_dayOfYear","_nextDay","setUTCMinutes","getUTCMinutes","w","weekYear","temp","GG","W","E","gg","ISO_8601","parsedInput","skipped","stringLength","totalParsedInputLength","meridiemFixWrap","_meridiem","hour","meridiem","isPm","meridiemHour","isPM","configFromStringAndArray","tempConfig","bestMoment","scoreToBeat","currentScore","score","configFromObject","minute","second","millisecond","createFromConfig","prepareConfig","preparse","configFromInput","isUTC","pickBy","moments","Duration","years","quarters","quarter","_milliseconds","_days","_data","_bubble","offsetFromString","matches","chunkOffset","cloneWithOffset","model","getDateOffset","getSetOffset","keepLocalTime","localAdjust","_changeInProgress","add_subtract__addSubtract","create__createDuration","getSetZone","setOffsetToUTC","setOffsetToLocal","setOffsetToParsedOffset","hasAlignedHourOffset","isDaylightSavingTime","isDaylightSavingTimeShifted","_isDSTShifted","other","isLocal","isUtcOffset","isUtc","diffRes","aspNetRegex","create__isoRegex","parseIso","momentsDifference","inp","positiveMomentsDifference","base","createAdder","period","tmp","isAdding","moment_calendar__calendar","formats","sod","inputMs","endOf","isBetween","asFloat","that","zoneDelta","monthDiff","anchor2","adjust","wholeMonthDiff","anchor","moment_format__toISOString","toDate","inputString","defaultFormat","postformat","withoutSuffix","fromNow","toNow","newLocaleData","isoWeekday","to_type__valueOf","unix","toObject","moment_valid__isValid","parsingFlags","invalidAt","addWeekYearFormatToken","getter","weeksInYear","getSetWeekYear","getSetISOWeekYear","getISOWeeksInYear","getWeeksInYear","weekInfo","getSetQuarter","parseWeekday","weekdaysParse","localeWeekdays","localeWeekdaysShort","localeWeekdaysMin","_weekdaysMin","localeWeekdaysParse","weekdayName","_weekdaysParse","weekdays","weekdaysShort","weekdaysMin","getSetDayOfWeek","getDay","getSetLocaleDayOfWeek","getSetISODayOfWeek","lowercase","matchMeridiem","_meridiemParse","localeIsPM","localeMeridiem","isLower","parseMs","getZoneAbbr","getZoneName","moment__createUnix","moment__createInZone","locale_calendar__calendar","_calendar","_longDateFormat","formatUpper","_invalidDate","_ordinal","preParsePostFormat","relative__relativeTime","isFuture","_relativeTime","pastFuture","locale_set__set","_ordinalParseLenient","_ordinalParse","lists__get","setter","list","count","lists__listMonths","lists__listMonthsShort","lists__listWeekdays","lists__listWeekdaysShort","lists__listWeekdaysMin","duration_abs__abs","mathAbs","duration_add_subtract__addSubtract","duration_add_subtract__add","duration_add_subtract__subtract","absCeil","bubble","monthsFromDays","monthsToDays","daysToMonths","duration_as__valueOf","makeAs","alias","duration_get__get","makeGetter","substituteTimeAgo","relativeTime","duration_humanize__relativeTime","posNegDuration","thresholds","duration_humanize__getSetRelativeTimeThreshold","threshold","limit","withSuffix","iso_string__toISOString","iso_string__abs","total","asSeconds","match1","match2","match3","match4","match6","match1to2","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchTimestamp","matchWord","defaultLocaleMonths","defaultLocaleMonthsShort","parseTwoDigitYear","getSetYear","defaultLocaleWeek","prototypeMin","prototypeMax","add_subtract__add","add_subtract__subtract","isoWeekYear","getSetDayOfMonth","defaultLocaleWeekdays","defaultLocaleWeekdaysShort","defaultLocaleWeekdaysMin","_isPm","defaultLocaleMeridiemParse","getSetHour","getSetMinute","getSetSecond","getSetMillisecond","momentPrototype__proto","toJSON","isoWeeks","isoWeeksInYear","isDST","isDSTShifted","zoneAbbr","zoneName","momentPrototype","defaultCalendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","defaultLongDateFormat","LTS","LT","L","LL","LLL","LLLL","defaultInvalidDate","defaultOrdinal","defaultOrdinalParse","defaultRelativeTime","future","past","mm","hh","dd","MM","yy","prototype__proto","firstDayOfYear","ordinalParse","asMilliseconds","asMinutes","asHours","asWeeks","asYears","duration_prototype__proto","toIsoString","invalid","relativeTimeThreshold","_moment","webpackContext","req","webpackContextResolve","./en-gb","./en-gb.js","keys","en_gb","tzText","avatar","debug","filters","and","business_hours","exclude_weekend","invite","columnFormat","timeFormat","dateFormat","locals","mediaQuery","alreadyImportedModules","addStylesToDom","styles","domStyle","stylesInDom","refs","addStyle","listToStyles","newStyles","media","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","removeStyleElement","parentNode","removeChild","idx","splice","createStyleElement","createLinkElement","linkElement","rel","update","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","bind","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","applyToTag","newObj","styleSheet","cssText","replaceText","cssNode","childNodes","unescape","blob","oldSrc","memoize","memo","isOldIE","getElementsByTagName","newList","mayRemove","textStore","replacement"],"mappings":"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","file":"timekit-booking.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jQuery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"timekitBooking\"] = factory(require(\"jQuery\"));\n\telse\n\t\troot[\"timekitBooking\"] = factory(root[\"jQuery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_25__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jQuery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"timekitBooking\"] = factory(require(\"jQuery\"));\n\telse\n\t\troot[\"timekitBooking\"] = factory(root[\"jQuery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_25__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// External depenencies\n\tvar timekit = __webpack_require__(1);\n\tvar fullcalendar = __webpack_require__(24);\n\tvar moment = __webpack_require__(26);\n\tvar $ = __webpack_require__(25);\n\t\n\t// Internal dependencies\n\tvar utils = __webpack_require__(29);\n\tvar templates = __webpack_require__(30);\n\tvar config = __webpack_require__(31);\n\t\n\t/*!\n\t * Booking.js\n\t * Version: 1.0.0\n\t * http://booking.timekit.io\n\t *\n\t * Copyright 2015 Timekit, Inc.\n\t * Timekit Booking.js is freely distributable under the MIT license.\n\t *\n\t */\n\t\n\tfunction TimekitBooking() {\n\t\n\t  var TB = {};\n\t  var calendarTarget = '';\n\t\n\t  // Setup the Timekit SDK with correct credentials\n\t  var timekitSetup = function() {\n\t    var args = {};\n\t\n\t    $.extend(args, config.timekitConfig);\n\t\n\t    timekit.configure(args);\n\t    timekit.setUser(config.email, config.apiToken);\n\t  };\n\t\n\t  // Fetch availabile time through Timekit SDK\n\t  var timekitFindTime = function(callback) {\n\t    var args = { emails: [config.email] };\n\t\n\t    $.extend(args, config.findTime);\n\t\n\t    timekit.findTime(args)\n\t    .then(function(response){\n\t      callback(response);\n\t    }).catch(function(response){\n\t      utils.log('An error with FindTime occured');\n\t      utils.log(response);\n\t    });\n\t  };\n\t\n\t  // Calculate and display timezone helper\n\t  var renderTimezoneHelper = function() {\n\t    var localTzOffset = (new Date()).getTimezoneOffset()/60*-1;\n\t    var localTzFormatted = (localTzOffset > 0 ? \"+\" : \"\") + localTzOffset;\n\t\n\t    var timezoneHelperTarget = $('<div class=\"bookingjs-timezonehelper\"><span>Loading...</span></div>');\n\t    $(config.targetEl).append(timezoneHelperTarget);\n\t\n\t    timekit.getUserTimezone({\n\t      email: config.email\n\t    }).then(function(response){\n\t\n\t      var hostTzOffset = response.data.utc_offset;\n\t      var tzOffsetDiff = localTzOffset - hostTzOffset;\n\t      var tzOffsetDiffAbs = Math.abs(tzOffsetDiff);\n\t\n\t      var aheadOfHost = true;\n\t      if (tzOffsetDiff < 0) {\n\t        aheadOfHost = false;\n\t      }\n\t\n\t      var template = templates.timezoneHelper({\n\t        tzOffsetDiff: tzOffsetDiff,\n\t        tzOffsetDiffAbs: tzOffsetDiffAbs,\n\t        aheadOfHost: aheadOfHost,\n\t        hostName: config.name\n\t      });\n\t\n\t      timezoneHelperTarget.html(template);\n\t\n\t    });\n\t  };\n\t\n\t  // Setup and render FullCalendar\n\t  var initializeCalendar = function() {\n\t\n\t    var defaultView = 'agendaWeek';\n\t    var height = 600;\n\t    var deviceWidth = $(window).width();\n\t\n\t    if (deviceWidth < 480) {\n\t      defaultView = 'basicDay';\n\t      height = 530; //1132\n\t    }\n\t\n\t    var args = {\n\t      defaultView: defaultView,\n\t      height: height,\n\t      eventClick: clickCalendarTimeslot\n\t    };\n\t\n\t    $.extend(args, config.fullCalendar);\n\t\n\t    calendarTarget = $('<div class=\"bookingjs-calendar\">');\n\t    $(config.targetEl).append(calendarTarget);\n\t    calendarTarget.fullCalendar(args);\n\t  };\n\t\n\t  // Render the supplied calendar events in FullCalendar\n\t  var renderCalendarEvents = function(eventData) {\n\t    calendarTarget.fullCalendar('addEventSource', {\n\t      events: eventData\n\t    });\n\t  };\n\t\n\t  var renderBookingPage = function() {\n\t\n\t    // var el = $(\n\t    //     '<div class=\"bookingjs-bookcard\">' +\n\t    //       '<a href=\"\"><' +\n\t    //     '</div>'\n\t    //   );\n\t    // $(config.targetEl).append(el);\n\t  };\n\t\n\t  var showBookingPage = function() {\n\t\n\t  };\n\t\n\t  var hideBookingPage = function() {\n\t\n\t  };\n\t\n\t  // Event handler when a timeslot is clicked in FullCalendar\n\t  var clickCalendarTimeslot = function(calEvent, jsEvent, view) {\n\t    // $('#bookmeform_start').val(moment(calEvent.start).format());\n\t    // $('#bookmeform_end').val(moment(calEvent.end).format());\n\t    // $('#chosendate').text(moment(calEvent.start).format('D. MMMM YYYY'));\n\t    // $('#chosentime').text(moment(calEvent.start).format('h:mm a') + ' to ' + moment(calEvent.end).format('h:mm a'));\n\t    // $('.bookme_create').show().css('opacity','1');\n\t    showBookingPage();\n\t  };\n\t\n\t  var submitBookingForm = function() {\n\t\n\t  };\n\t\n\t  // Create new event through Timekit SDK\n\t  var timekitCreateEvent = function(data, callback) {\n\t    var args = {\n\t      start: data.start,\n\t      end: data.end,\n\t      what: config.name + ' x '+ data.name,\n\t      where: data.where,\n\t      calendar_id: config.calendar,\n\t      participants: [\n\t        data.email,\n\t        config.email\n\t      ]\n\t    };\n\t\n\t    $.extend(args, config.createEvent);\n\t\n\t    timekit.createEvent(args)\n\t    .then(function(response){\n\t      callback(response);\n\t    }).catch(function(response){\n\t      utils.log('An error with CreateEvent occured');\n\t      utils.log(response);\n\t    });\n\t  };\n\t\n\t  // Render the booking completed page when booking was successful\n\t  var renderBookingCompleted = function() {\n\t    // $('#bookmeform_block .w-form-done').show();\n\t    // $('#bookmeform_block .w-form-fail').hide();\n\t    // $('#bookmeform').hide();\n\t  };\n\t\n\t  // Exposed initilization method\n\t  TB.init = function(suppliedConfig) {\n\t\n\t    // Check whether a config is supplied\n\t    if(suppliedConfig === undefined || typeof suppliedConfig !== 'object') {\n\t      utils.log('No configuration was supplied. Please supply a config object upon library initialization');\n\t      return;\n\t    }\n\t\n\t    // Extend the default config with supplied settings\n\t    $.extend(config, suppliedConfig);\n\t\n\t    // Initialize FullCalendar\n\t    initializeCalendar();\n\t\n\t    // Setup Timekit SDK config\n\t    timekitSetup();\n\t\n\t    // Get availability through Timekit SDK\n\t    timekitFindTime(function(response){\n\t      // Render available timeslots in FullCalendar\n\t      renderCalendarEvents(response.data);\n\t    });\n\t\n\t    // Show timezone helper if enabled\n\t    if (config.localization.showTimezoneHelper) {\n\t      renderTimezoneHelper();\n\t    }\n\t\n\t    // Includes stylesheets if enabled\n\t    if (config.styling.fullCalendarCore) {\n\t      __webpack_require__(32);\n\t    }\n\t    if (config.styling.fullCalendarTheme) {\n\t      __webpack_require__(36);\n\t    }\n\t    if (config.styling.general) {\n\t      __webpack_require__(38);\n\t    }\n\t\n\t  };\n\t\n\t  // Expose the fullCalendar object for advanced puppeting\n\t  TB.fullCalender = function() {\n\t    if (calendarTarget.fullCalendar === undefined) { return undefined; }\n\t    return calendarTarget.fullCalendar.apply(calendarTarget, arguments);\n\t  };\n\t\n\t  return TB;\n\t\n\t}\n\t\n\tmodule.exports = new TimekitBooking();\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*!\n\t * Timekit JavaScript SDK\n\t * Version: 1.1.0\n\t * http://timekit.io\n\t *\n\t * Copyright 2015 Timekit, Inc.\n\t * The Timekit JavaScript SDK is freely distributable under the MIT license.\n\t *\n\t */\n\tvar axios = __webpack_require__(2);\n\tvar base64 = __webpack_require__(22);\n\tvar humps = __webpack_require__(23);\n\t\n\tfunction Timekit() {\n\t\n\t  /**\n\t   * Auth variables for login gated API methods\n\t   * @type {String}\n\t   */\n\t  var userEmail;\n\t  var userApiToken;\n\t  var includes;\n\t\n\t  /**\n\t   * Default config\n\t   * @type {Object}\n\t   */\n\t  var config = {\n\t    app: 'demo',\n\t    apiBaseUrl: 'https://api.timekit.io/',\n\t    apiVersion: 'v2',\n\t    convertResponseToCamelcase: false\n\t  };\n\t\n\t  /**\n\t   * Generate base64 string for basic auth purposes\n\t   * @type {Function}\n\t   * @return {String}\n\t   */\n\t\n\t  var encodeAuthHeader = function() {\n\t    return base64.encode(userEmail + ':' + userApiToken);\n\t  };\n\t\n\t  /**\n\t   * Build absolute URL for API call\n\t   * @type {Function}\n\t   * @return {String}\n\t   */\n\t  var buildUrl = function(endpoint) {\n\t    return config.apiBaseUrl + config.apiVersion + endpoint;\n\t  };\n\t\n\t  /**\n\t   * Root Object that holds methods to expose for API consumption\n\t   * @type {Object}\n\t   */\n\t  var TK = {};\n\t\n\t\n\t  /**\n\t   * Prepare and make HTTP request to API\n\t   * @type {Object}\n\t   * @return {Promise}\n\t   */\n\t  TK.makeRequest = function(args) {\n\t\n\t    // construct URL with base, version and endpoint\n\t    args.url = buildUrl(args.url);\n\t\n\t    // add http headers if applicable\n\t    args.headers = { 'Timekit-App': config.app };\n\t    if (userEmail && userApiToken) { args.headers.Authorization = 'Basic ' + encodeAuthHeader(); }\n\t    if (config.inputTimestampFormat) { args.headers['Timekit-InputTimestampFormat'] = config.inputTimestampFormat; }\n\t    if (config.outputTimestampFormat) { args.headers['Timekit-OutputTimestampFormat'] = config.outputTimestampFormat; }\n\t    if (config.timezone) { args.headers['Timekit-Timezone'] = config.timezone; }\n\t\n\t    // add dynamic includes if applicable\n\t    if (includes && includes.length > 0) {\n\t      if (args.params === undefined) { args.params = {}; }\n\t      args.params.include = includes.join();\n\t      includes = [];\n\t    }\n\t\n\t    // decamelize keys in data objects\n\t    if (args.data) { args.data = humps.decamelizeKeys(args.data); }\n\t\n\t    // register response interceptor for data manipulation\n\t    var interceptor = axios.interceptors.response.use(function (response) {\n\t      if(response.data && response.data.data) {\n\t        response.data = response.data.data;\n\t        if (config.convertResponseToCamelcase) {\n\t          response.data = humps.camelizeKeys(response.data);\n\t        }\n\t      }\n\t      return response;\n\t    }, function (error) {\n\t      return Promise.reject(error);\n\t    });\n\t\n\t    // execute request!\n\t    var request = axios(args);\n\t\n\t    // deregister response interceptor\n\t    axios.interceptors.response.eject(interceptor);\n\t\n\t    return request;\n\t  };\n\t\n\t  /**\n\t   * Overwrite default config with supplied settings\n\t   * @type {Function}\n\t   * @return {Object}\n\t   */\n\t  TK.configure = function(custom) {\n\t    for (var attr in custom) { config[attr] = custom[attr]; }\n\t    return config;\n\t  };\n\t\n\t  /**\n\t   * Returns the current config\n\t   * @type {Function}\n\t   * @return {Object}\n\t   */\n\t  TK.getConfig = function() {\n\t    return config;\n\t  };\n\t\n\t  /**\n\t   * Set the active user manuallt (happens automatically on timekit.auth())\n\t   * @type {Function}\n\t   */\n\t  TK.setUser = function(email, apiToken) {\n\t    userEmail = email;\n\t    userApiToken = apiToken;\n\t  };\n\t\n\t  /**\n\t   * Returns the current active user\n\t   * @type {Function}\n\t   * @return {Object}\n\t   */\n\t  TK.getUser = function() {\n\t    return {\n\t      email: userEmail,\n\t      apiToken: userApiToken\n\t    };\n\t  };\n\t\n\t  /**\n\t   * Add supplied dynamic includes to the next request (fluent/chainable return)\n\t   * @type {Function}\n\t   * @return {Object}\n\t   */\n\t  TK.include = function() {\n\t    includes = Array.prototype.slice.call(arguments);\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Get user's connected accounts\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.getAccounts = function() {\n\t\n\t    return TK.makeRequest({\n\t      url: '/accounts',\n\t      method: 'get'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Redirect to the Google signup/login page\n\t   * @type {Function}\n\t   * @return {String}\n\t   */\n\t  TK.accountGoogleSignup = function(data, shouldAutoRedirect) {\n\t\n\t    var url = buildUrl('/accounts/google/signup') + '?Timekit-App=' + config.app + (data && data.callback ? '&callback=' + data.callback : '');\n\t\n\t    if(shouldAutoRedirect && window) {\n\t      window.location.href = url;\n\t    } else {\n\t      return url;\n\t    }\n\t\n\t  };\n\t\n\t  /**\n\t   * Get user's Google calendars\n\t   * @type {Function\n\t   * @return {Promise}\n\t   */\n\t  TK.getAccountGoogleCalendars = function() {\n\t\n\t    return TK.makeRequest({\n\t      url: '/accounts/google/calendars',\n\t      method: 'get'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Initiate a server sync on all the users accounts\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.accountSync = function() {\n\t\n\t    return TK.makeRequest({\n\t      url: '/accounts/sync',\n\t      method: 'get'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Authenticate a user to retrive API token for future calls\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.auth = function(data) {\n\t\n\t    var r = TK.makeRequest({\n\t      url: '/auth',\n\t      method: 'post',\n\t      data: data\n\t    });\n\t\n\t    r.then(function(response) {\n\t      TK.setUser(response.data.email, response.data.api_token);\n\t    }).catch(function(){\n\t      TK.setUser('','');\n\t    });\n\t\n\t    return r;\n\t\n\t  };\n\t\n\t  /**\n\t   * Get list of apps\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.getApps = function() {\n\t\n\t    return TK.makeRequest({\n\t      url: '/apps',\n\t      method: 'get'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Get settings for a specific app\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.getApp = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/apps/' + data.slug,\n\t      method: 'get'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Create a new Timekit app\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.createApp = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/apps',\n\t      method: 'post',\n\t      data: data\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Update settings for a specific app\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.updateApp = function(data) {\n\t\n\t    var slug = data.slug;\n\t    delete data.slug;\n\t\n\t    return TK.makeRequest({\n\t      url: '/apps/' + slug,\n\t      method: 'put',\n\t      data: data\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Delete an app\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.deleteApp = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/apps/' + data.slug,\n\t      method: 'delete'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Get users calendars that are present on Timekit (synced from providers)\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.getCalendars = function() {\n\t\n\t    return TK.makeRequest({\n\t      url: '/calendars',\n\t      method: 'get'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Get users calendars that are present on Timekit (synced from providers)\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.getCalendar = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/calendars/' + data.id,\n\t      method: 'get'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Create a new calendar for current user\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.createCalendar = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/calendars/',\n\t      method: 'post',\n\t      data: data\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Delete a calendar\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.deleteCalendar = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/calendars/' + data.id,\n\t      method: 'delete'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Get users contacts that are present on Timekit (synced from providers)\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.getContacts = function() {\n\t\n\t    return TK.makeRequest({\n\t      url: '/contacts/',\n\t      method: 'get'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Get all user's events\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.getEvents = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/events',\n\t      method: 'get',\n\t      params: data\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Get a user's event by ID\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.getEvent = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/events/' + data.id,\n\t      method: 'get'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Create a new event\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.createEvent = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/events',\n\t      method: 'post',\n\t      data: data\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Delete a user's event by ID\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.deleteEvent = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/events/' + data.id,\n\t      method: 'delete'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Get a user's anonymized availability (other user's on Timekit can be queryied by supplying their email)\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.getAvailability = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/events/availability',\n\t      method: 'get',\n\t      params: data\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Find mutual availability across multiple users/calendars\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.findTime = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/findtime',\n\t      method: 'post',\n\t      data: data\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Find mutual availability across multiple users/calendars\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.findTimeBulk = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/findtime/bulk',\n\t      method: 'post',\n\t      data: data\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Get a user's meetings\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.getMeetings = function() {\n\t\n\t    return TK.makeRequest({\n\t      url: '/meetings',\n\t      method: 'get'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Get a user's specific meeting\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.getMeeting = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/meetings/' + data.id,\n\t      method: 'get'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Get a user's specific meeting\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.createMeeting = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/meetings',\n\t      method: 'post',\n\t      data: data\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Get a user's specific meeting\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.updateMeeting = function(data) {\n\t\n\t    var id = data.id;\n\t    delete data.id;\n\t\n\t    return TK.makeRequest({\n\t      url: '/meetings/' + id,\n\t      method: 'put',\n\t      data: data\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Set availability (true/faalse) on a meeting's suggestion\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.setMeetingAvailability = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/meetings/availability',\n\t      method: 'post',\n\t      data: data\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Book/finalize the meeting, sending out meeting invites to all participants\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.bookMeeting = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/meetings/book',\n\t      method: 'post',\n\t      data: data\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Invite users/emails to a meeting, sending out invite emails to the supplied addresses\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.inviteToMeeting = function(data) {\n\t\n\t    var id = data.id;\n\t    delete data.id;\n\t\n\t    return TK.makeRequest({\n\t      url: '/meetings/' + id + '/invite',\n\t      method: 'post',\n\t      data: data\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Create a new user with the given properties\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.createUser = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/users',\n\t      method: 'post',\n\t      data: data\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Fetch current user data from server\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.getUserInfo = function() {\n\t\n\t    return TK.makeRequest({\n\t      url: '/users/me',\n\t      method: 'get'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Fetch current user data from server\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.updateUser = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/users/me',\n\t      method: 'put',\n\t      data: data\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Reset password for a user\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.resetUserPassword = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/users/resetpassword',\n\t      method: 'post',\n\t      data: data\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Get a specific users' timezone\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.getUserTimezone = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/users/timezone/' + data.email,\n\t      method: 'get'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Get a user property by key\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.getUserProperties = function() {\n\t\n\t    return TK.makeRequest({\n\t      url: '/properties',\n\t      method: 'get'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Get a user property by key\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.getUserProperty = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/properties/' + data.key,\n\t      method: 'get'\n\t    });\n\t\n\t  };\n\t\n\t  /**\n\t   * Set or update user properties\n\t   * @type {Function}\n\t   * @return {Promise}\n\t   */\n\t  TK.setUserProperties = function(data) {\n\t\n\t    return TK.makeRequest({\n\t      url: '/properties',\n\t      method: 'put',\n\t      data: data\n\t    });\n\t\n\t  };\n\t\n\t  return TK;\n\t\n\t}\n\t\n\tmodule.exports = new Timekit();\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(3);\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar defaults = __webpack_require__(4);\n\tvar utils = __webpack_require__(5);\n\tvar deprecatedMethod = __webpack_require__(6);\n\tvar dispatchRequest = __webpack_require__(7);\n\tvar InterceptorManager = __webpack_require__(15);\n\t\n\t// Polyfill ES6 Promise if needed\n\t(function () {\n\t  // webpack is being used to set es6-promise to the native Promise\n\t  // for the standalone build. It's necessary to make sure polyfill exists.\n\t  var P = __webpack_require__(16);\n\t  if (P && typeof P.polyfill === 'function') {\n\t    P.polyfill();\n\t  }\n\t})();\n\t\n\tvar axios = module.exports = function axios(config) {\n\t  config = utils.merge({\n\t    method: 'get',\n\t    headers: {},\n\t    transformRequest: defaults.transformRequest,\n\t    transformResponse: defaults.transformResponse\n\t  }, config);\n\t\n\t  // Don't allow overriding defaults.withCredentials\n\t  config.withCredentials = config.withCredentials || defaults.withCredentials;\n\t\n\t  // Hook up interceptors middleware\n\t  var chain = [dispatchRequest, undefined];\n\t  var promise = Promise.resolve(config);\n\t\n\t  axios.interceptors.request.forEach(function (interceptor) {\n\t    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n\t  });\n\t\n\t  axios.interceptors.response.forEach(function (interceptor) {\n\t    chain.push(interceptor.fulfilled, interceptor.rejected);\n\t  });\n\t\n\t  while (chain.length) {\n\t    promise = promise.then(chain.shift(), chain.shift());\n\t  }\n\t\n\t  // Provide alias for success\n\t  promise.success = function success(fn) {\n\t    deprecatedMethod('success', 'then', 'https://github.com/mzabriskie/axios/blob/master/README.md#response-api');\n\t\n\t    promise.then(function(response) {\n\t      fn(response.data, response.status, response.headers, response.config);\n\t    });\n\t    return promise;\n\t  };\n\t\n\t  // Provide alias for error\n\t  promise.error = function error(fn) {\n\t    deprecatedMethod('error', 'catch', 'https://github.com/mzabriskie/axios/blob/master/README.md#response-api');\n\t\n\t    promise.then(null, function(response) {\n\t      fn(response.data, response.status, response.headers, response.config);\n\t    });\n\t    return promise;\n\t  };\n\t\n\t  return promise;\n\t};\n\t\n\t// Expose defaults\n\taxios.defaults = defaults;\n\t\n\t// Expose all/spread\n\taxios.all = function (promises) {\n\t  return Promise.all(promises);\n\t};\n\taxios.spread = __webpack_require__(21);\n\t\n\t// Expose interceptors\n\taxios.interceptors = {\n\t  request: new InterceptorManager(),\n\t  response: new InterceptorManager()\n\t};\n\t\n\t// Provide aliases for supported request methods\n\t(function () {\n\t  function createShortMethods() {\n\t    utils.forEach(arguments, function (method) {\n\t      axios[method] = function (url, config) {\n\t        return axios(utils.merge(config || {}, {\n\t          method: method,\n\t          url: url\n\t        }));\n\t      };\n\t    });\n\t  }\n\t\n\t  function createShortMethodsWithData() {\n\t    utils.forEach(arguments, function (method) {\n\t      axios[method] = function (url, data, config) {\n\t        return axios(utils.merge(config || {}, {\n\t          method: method,\n\t          url: url,\n\t          data: data\n\t        }));\n\t      };\n\t    });\n\t  }\n\t\n\t  createShortMethods('delete', 'get', 'head');\n\t  createShortMethodsWithData('post', 'put', 'patch');\n\t})();\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(5);\n\t\n\tvar PROTECTION_PREFIX = /^\\)\\]\\}',?\\n/;\n\tvar DEFAULT_CONTENT_TYPE = {\n\t  'Content-Type': 'application/x-www-form-urlencoded'\n\t};\n\t\n\tmodule.exports = {\n\t  transformRequest: [function (data, headers) {\n\t    if(utils.isFormData(data)) {\n\t      return data;\n\t    }\n\t    if (utils.isArrayBuffer(data)) {\n\t      return data;\n\t    }\n\t    if (utils.isArrayBufferView(data)) {\n\t      return data.buffer;\n\t    }\n\t    if (utils.isObject(data) && !utils.isFile(data) && !utils.isBlob(data)) {\n\t      // Set application/json if no Content-Type has been specified\n\t      if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n\t        headers['Content-Type'] = 'application/json;charset=utf-8';\n\t      }\n\t      return JSON.stringify(data);\n\t    }\n\t    return data;\n\t  }],\n\t\n\t  transformResponse: [function (data) {\n\t    if (typeof data === 'string') {\n\t      data = data.replace(PROTECTION_PREFIX, '');\n\t      try {\n\t        data = JSON.parse(data);\n\t      } catch (e) {}\n\t    }\n\t    return data;\n\t  }],\n\t\n\t  headers: {\n\t    common: {\n\t      'Accept': 'application/json, text/plain, */*'\n\t    },\n\t    patch: utils.merge(DEFAULT_CONTENT_TYPE),\n\t    post: utils.merge(DEFAULT_CONTENT_TYPE),\n\t    put: utils.merge(DEFAULT_CONTENT_TYPE)\n\t  },\n\t\n\t  xsrfCookieName: 'XSRF-TOKEN',\n\t  xsrfHeaderName: 'X-XSRF-TOKEN'\n\t};\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*global toString:true*/\n\t\n\t// utils is a library of generic helper functions non-specific to axios\n\t\n\tvar toString = Object.prototype.toString;\n\t\n\t/**\n\t * Determine if a value is an Array\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is an Array, otherwise false\n\t */\n\tfunction isArray(val) {\n\t  return toString.call(val) === '[object Array]';\n\t}\n\t\n\t/**\n\t * Determine if a value is an ArrayBuffer\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n\t */\n\tfunction isArrayBuffer(val) {\n\t  return toString.call(val) === '[object ArrayBuffer]';\n\t}\n\t\n\t/**\n\t * Determine if a value is a FormData\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is an FormData, otherwise false\n\t */\n\tfunction isFormData(val) {\n\t  return toString.call(val) === '[object FormData]';\n\t}\n\t\n\t/**\n\t * Determine if a value is a view on an ArrayBuffer\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n\t */\n\tfunction isArrayBufferView(val) {\n\t  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n\t    return ArrayBuffer.isView(val);\n\t  } else {\n\t    return (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n\t  }\n\t}\n\t\n\t/**\n\t * Determine if a value is a String\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a String, otherwise false\n\t */\n\tfunction isString(val) {\n\t  return typeof val === 'string';\n\t}\n\t\n\t/**\n\t * Determine if a value is a Number\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a Number, otherwise false\n\t */\n\tfunction isNumber(val) {\n\t  return typeof val === 'number';\n\t}\n\t\n\t/**\n\t * Determine if a value is undefined\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if the value is undefined, otherwise false\n\t */\n\tfunction isUndefined(val) {\n\t  return typeof val === 'undefined';\n\t}\n\t\n\t/**\n\t * Determine if a value is an Object\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is an Object, otherwise false\n\t */\n\tfunction isObject(val) {\n\t  return val !== null && typeof val === 'object';\n\t}\n\t\n\t/**\n\t * Determine if a value is a Date\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a Date, otherwise false\n\t */\n\tfunction isDate(val) {\n\t  return toString.call(val) === '[object Date]';\n\t}\n\t\n\t/**\n\t * Determine if a value is a File\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a File, otherwise false\n\t */\n\tfunction isFile(val) {\n\t  return toString.call(val) === '[object File]';\n\t}\n\t\n\t/**\n\t * Determine if a value is a Blob\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a Blob, otherwise false\n\t */\n\tfunction isBlob(val) {\n\t  return toString.call(val) === '[object Blob]';\n\t}\n\t\n\t/**\n\t * Trim excess whitespace off the beginning and end of a string\n\t *\n\t * @param {String} str The String to trim\n\t * @returns {String} The String freed of excess whitespace\n\t */\n\tfunction trim(str) {\n\t  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n\t}\n\t\n\t/**\n\t * Iterate over an Array or an Object invoking a function for each item.\n\t *\n\t * If `obj` is an Array or arguments callback will be called passing\n\t * the value, index, and complete array for each item.\n\t *\n\t * If 'obj' is an Object callback will be called passing\n\t * the value, key, and complete object for each property.\n\t *\n\t * @param {Object|Array} obj The object to iterate\n\t * @param {Function} fn The callback to invoke for each item\n\t */\n\tfunction forEach(obj, fn) {\n\t  // Don't bother if no value provided\n\t  if (obj === null || typeof obj === 'undefined') {\n\t    return;\n\t  }\n\t\n\t  // Check if obj is array-like\n\t  var isArrayLike = isArray(obj) || (typeof obj === 'object' && !isNaN(obj.length));\n\t\n\t  // Force an array if not already something iterable\n\t  if (typeof obj !== 'object' && !isArrayLike) {\n\t    obj = [obj];\n\t  }\n\t\n\t  // Iterate over array values\n\t  if (isArrayLike) {\n\t    for (var i = 0, l = obj.length; i < l; i++) {\n\t      fn.call(null, obj[i], i, obj);\n\t    }\n\t  }\n\t  // Iterate over object keys\n\t  else {\n\t    for (var key in obj) {\n\t      if (obj.hasOwnProperty(key)) {\n\t        fn.call(null, obj[key], key, obj);\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\t/**\n\t * Accepts varargs expecting each argument to be an object, then\n\t * immutably merges the properties of each object and returns result.\n\t *\n\t * When multiple objects contain the same key the later object in\n\t * the arguments list will take precedence.\n\t *\n\t * Example:\n\t *\n\t * ```js\n\t * var result = merge({foo: 123}, {foo: 456});\n\t * console.log(result.foo); // outputs 456\n\t * ```\n\t *\n\t * @param {Object} obj1 Object to merge\n\t * @returns {Object} Result of all merge properties\n\t */\n\tfunction merge(/*obj1, obj2, obj3, ...*/) {\n\t  var result = {};\n\t  forEach(arguments, function (obj) {\n\t    forEach(obj, function (val, key) {\n\t      result[key] = val;\n\t    });\n\t  });\n\t  return result;\n\t}\n\t\n\tmodule.exports = {\n\t  isArray: isArray,\n\t  isArrayBuffer: isArrayBuffer,\n\t  isFormData: isFormData,\n\t  isArrayBufferView: isArrayBufferView,\n\t  isString: isString,\n\t  isNumber: isNumber,\n\t  isObject: isObject,\n\t  isUndefined: isUndefined,\n\t  isDate: isDate,\n\t  isFile: isFile,\n\t  isBlob: isBlob,\n\t  forEach: forEach,\n\t  merge: merge,\n\t  trim: trim\n\t};\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\n\t * Supply a warning to the developer that a method they are using\n\t * has been deprecated.\n\t *\n\t * @param {string} method The name of the deprecated method\n\t * @param {string} [instead] The alternate method to use if applicable\n\t * @param {string} [docs] The documentation URL to get further details\n\t */\n\tmodule.exports = function deprecatedMethod(method, instead, docs) {\n\t  try {\n\t    console.warn(\n\t      'DEPRECATED method `' + method + '`.' +\n\t      (instead ? ' Use `' + instead + '` instead.' : '') +\n\t      ' This method will be removed in a future release.');\n\t\n\t    if (docs) {\n\t      console.warn('For more information about usage see ' + docs);\n\t    }\n\t  } catch (e) {}\n\t};\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\t\n\t/**\n\t * Dispatch a request to the server using whichever adapter\n\t * is supported by the current environment.\n\t *\n\t * @param {object} config The config that is to be used for the request\n\t * @returns {Promise} The Promise to be fulfilled\n\t */\n\tmodule.exports = function dispatchRequest(config) {\n\t  return new Promise(function (resolve, reject) {\n\t    try {\n\t      // For browsers use XHR adapter\n\t      if (typeof window !== 'undefined') {\n\t        __webpack_require__(9)(resolve, reject, config);\n\t      }\n\t      // For node use HTTP adapter\n\t      else if (typeof process !== 'undefined') {\n\t        __webpack_require__(9)(resolve, reject, config);\n\t      }\n\t    } catch (e) {\n\t      reject(e);\n\t    }\n\t  });\n\t};\n\t\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(8)))\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\t\n\tvar process = module.exports = {};\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = setTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    clearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        setTimeout(drainQueue, 0);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*global ActiveXObject:true*/\n\t\n\tvar defaults = __webpack_require__(4);\n\tvar utils = __webpack_require__(5);\n\tvar buildUrl = __webpack_require__(10);\n\tvar cookies = __webpack_require__(11);\n\tvar parseHeaders = __webpack_require__(12);\n\tvar transformData = __webpack_require__(13);\n\tvar urlIsSameOrigin = __webpack_require__(14);\n\t\n\tmodule.exports = function xhrAdapter(resolve, reject, config) {\n\t  // Transform request data\n\t  var data = transformData(\n\t    config.data,\n\t    config.headers,\n\t    config.transformRequest\n\t  );\n\t\n\t  // Merge headers\n\t  var requestHeaders = utils.merge(\n\t    defaults.headers.common,\n\t    defaults.headers[config.method] || {},\n\t    config.headers || {}\n\t  );\n\t\n\t  if (utils.isFormData(data)) {\n\t    delete requestHeaders['Content-Type']; // Let the browser set it\n\t  }\n\t\n\t  // Create the request\n\t  var request = new (XMLHttpRequest || ActiveXObject)('Microsoft.XMLHTTP');\n\t  request.open(config.method.toUpperCase(), buildUrl(config.url, config.params), true);\n\t\n\t  // Listen for ready state\n\t  request.onreadystatechange = function () {\n\t    if (request && request.readyState === 4) {\n\t      // Prepare the response\n\t      var responseHeaders = parseHeaders(request.getAllResponseHeaders());\n\t      var responseData = ['text', ''].indexOf(config.responseType || '') !== -1 ? request.responseText : request.response;\n\t      var response = {\n\t        data: transformData(\n\t          responseData,\n\t          responseHeaders,\n\t          config.transformResponse\n\t        ),\n\t        status: request.status,\n\t        statusText: request.statusText,\n\t        headers: responseHeaders,\n\t        config: config\n\t      };\n\t\n\t      // Resolve or reject the Promise based on the status\n\t      (request.status >= 200 && request.status < 300 ?\n\t        resolve :\n\t        reject)(response);\n\t\n\t      // Clean up request\n\t      request = null;\n\t    }\n\t  };\n\t\n\t  // Add xsrf header\n\t  var xsrfValue = urlIsSameOrigin(config.url) ?\n\t      cookies.read(config.xsrfCookieName || defaults.xsrfCookieName) :\n\t      undefined;\n\t  if (xsrfValue) {\n\t    requestHeaders[config.xsrfHeaderName || defaults.xsrfHeaderName] = xsrfValue;\n\t  }\n\t\n\t  // Add headers to the request\n\t  utils.forEach(requestHeaders, function (val, key) {\n\t    // Remove Content-Type if data is undefined\n\t    if (!data && key.toLowerCase() === 'content-type') {\n\t      delete requestHeaders[key];\n\t    }\n\t    // Otherwise add header to the request\n\t    else {\n\t      request.setRequestHeader(key, val);\n\t    }\n\t  });\n\t\n\t  // Add withCredentials to request if needed\n\t  if (config.withCredentials) {\n\t    request.withCredentials = true;\n\t  }\n\t\n\t  // Add responseType to request if needed\n\t  if (config.responseType) {\n\t    try {\n\t      request.responseType = config.responseType;\n\t    } catch (e) {\n\t      if (request.responseType !== 'json') {\n\t        throw e;\n\t      }\n\t    }\n\t  }\n\t\n\t  if (utils.isArrayBuffer(data)) {\n\t    data = new DataView(data);\n\t  }\n\t\n\t  // Send the request\n\t  request.send(data);\n\t};\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(5);\n\t\n\tfunction encode(val) {\n\t  return encodeURIComponent(val).\n\t    replace(/%40/gi, '@').\n\t    replace(/%3A/gi, ':').\n\t    replace(/%24/g, '$').\n\t    replace(/%2C/gi, ',').\n\t    replace(/%20/g, '+');\n\t}\n\t\n\t/**\n\t * Build a URL by appending params to the end\n\t *\n\t * @param {string} url The base of the url (e.g., http://www.google.com)\n\t * @param {object} [params] The params to be appended\n\t * @returns {string} The formatted url\n\t */\n\tmodule.exports = function buildUrl(url, params) {\n\t  if (!params) {\n\t    return url;\n\t  }\n\t\n\t  var parts = [];\n\t\n\t  utils.forEach(params, function (val, key) {\n\t    if (val === null || typeof val === 'undefined') {\n\t      return;\n\t    }\n\t    if (!utils.isArray(val)) {\n\t      val = [val];\n\t    }\n\t\n\t    utils.forEach(val, function (v) {\n\t      if (utils.isDate(v)) {\n\t        v = v.toISOString();\n\t      }\n\t      else if (utils.isObject(v)) {\n\t        v = JSON.stringify(v);\n\t      }\n\t      parts.push(encode(key) + '=' + encode(v));\n\t    });\n\t  });\n\t\n\t  if (parts.length > 0) {\n\t    url += (url.indexOf('?') === -1 ? '?' : '&') + parts.join('&');\n\t  }\n\t\n\t  return url;\n\t};\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(5);\n\t\n\tmodule.exports = {\n\t  write: function write(name, value, expires, path, domain, secure) {\n\t    var cookie = [];\n\t    cookie.push(name + '=' + encodeURIComponent(value));\n\t\n\t    if (utils.isNumber(expires)) {\n\t      cookie.push('expires=' + new Date(expires).toGMTString());\n\t    }\n\t\n\t    if (utils.isString(path)) {\n\t      cookie.push('path=' + path);\n\t    }\n\t\n\t    if (utils.isString(domain)) {\n\t      cookie.push('domain=' + domain);\n\t    }\n\t\n\t    if (secure === true) {\n\t      cookie.push('secure');\n\t    }\n\t\n\t    document.cookie = cookie.join('; ');\n\t  },\n\t\n\t  read: function read(name) {\n\t    var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n\t    return (match ? decodeURIComponent(match[3]) : null);\n\t  },\n\t\n\t  remove: function remove(name) {\n\t    this.write(name, '', Date.now() - 86400000);\n\t  }\n\t};\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(5);\n\t\n\t/**\n\t * Parse headers into an object\n\t *\n\t * ```\n\t * Date: Wed, 27 Aug 2014 08:58:49 GMT\n\t * Content-Type: application/json\n\t * Connection: keep-alive\n\t * Transfer-Encoding: chunked\n\t * ```\n\t *\n\t * @param {String} headers Headers needing to be parsed\n\t * @returns {Object} Headers parsed into an object\n\t */\n\tmodule.exports = function parseHeaders(headers) {\n\t  var parsed = {}, key, val, i;\n\t\n\t  if (!headers) { return parsed; }\n\t\n\t  utils.forEach(headers.split('\\n'), function(line) {\n\t    i = line.indexOf(':');\n\t    key = utils.trim(line.substr(0, i)).toLowerCase();\n\t    val = utils.trim(line.substr(i + 1));\n\t\n\t    if (key) {\n\t      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n\t    }\n\t  });\n\t\n\t  return parsed;\n\t};\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(5);\n\t\n\t/**\n\t * Transform the data for a request or a response\n\t *\n\t * @param {Object|String} data The data to be transformed\n\t * @param {Array} headers The headers for the request or response\n\t * @param {Array|Function} fns A single function or Array of functions\n\t * @returns {*} The resulting transformed data\n\t */\n\tmodule.exports = function transformData(data, headers, fns) {\n\t  utils.forEach(fns, function (fn) {\n\t    data = fn(data, headers);\n\t  });\n\t\n\t  return data;\n\t};\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(5);\n\tvar msie = /(msie|trident)/i.test(navigator.userAgent);\n\tvar urlParsingNode = document.createElement('a');\n\tvar originUrl;\n\t\n\t/**\n\t * Parse a URL to discover it's components\n\t *\n\t * @param {String} url The URL to be parsed\n\t * @returns {Object}\n\t */\n\tfunction urlResolve(url) {\n\t  var href = url;\n\t\n\t  if (msie) {\n\t    // IE needs attribute set twice to normalize properties\n\t    urlParsingNode.setAttribute('href', href);\n\t    href = urlParsingNode.href;\n\t  }\n\t\n\t  urlParsingNode.setAttribute('href', href);\n\t\n\t  // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n\t  return {\n\t    href: urlParsingNode.href,\n\t    protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n\t    host: urlParsingNode.host,\n\t    search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n\t    hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n\t    hostname: urlParsingNode.hostname,\n\t    port: urlParsingNode.port,\n\t    pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n\t              urlParsingNode.pathname :\n\t              '/' + urlParsingNode.pathname\n\t  };\n\t}\n\t\n\toriginUrl = urlResolve(window.location.href);\n\t\n\t/**\n\t * Determine if a URL shares the same origin as the current location\n\t *\n\t * @param {String} requestUrl The URL to test\n\t * @returns {boolean} True if URL shares the same origin, otherwise false\n\t */\n\tmodule.exports = function urlIsSameOrigin(requestUrl) {\n\t  var parsed = (utils.isString(requestUrl)) ? urlResolve(requestUrl) : requestUrl;\n\t  return (parsed.protocol === originUrl.protocol &&\n\t        parsed.host === originUrl.host);\n\t};\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(5);\n\t\n\tfunction InterceptorManager() {\n\t  this.handlers = [];\n\t}\n\t\n\t/**\n\t * Add a new interceptor to the stack\n\t *\n\t * @param {Function} fulfilled The function to handle `then` for a `Promise`\n\t * @param {Function} rejected The function to handle `reject` for a `Promise`\n\t *\n\t * @return {Number} An ID used to remove interceptor later\n\t */\n\tInterceptorManager.prototype.use = function (fulfilled, rejected) {\n\t  this.handlers.push({\n\t    fulfilled: fulfilled,\n\t    rejected: rejected\n\t  });\n\t  return this.handlers.length - 1;\n\t};\n\t\n\t/**\n\t * Remove an interceptor from the stack\n\t *\n\t * @param {Number} id The ID that was returned by `use`\n\t */\n\tInterceptorManager.prototype.eject = function (id) {\n\t  if (this.handlers[id]) {\n\t    this.handlers[id] = null;\n\t  }\n\t};\n\t\n\t/**\n\t * Iterate over all the registered interceptors\n\t *\n\t * This method is particularly useful for skipping over any\n\t * interceptors that may have become `null` calling `remove`.\n\t *\n\t * @param {Function} fn The function to call for each interceptor\n\t */\n\tInterceptorManager.prototype.forEach = function (fn) {\n\t  utils.forEach(this.handlers, function (h) {\n\t    if (h !== null) {\n\t      fn(h);\n\t    }\n\t  });\n\t};\n\t\n\tmodule.exports = InterceptorManager;\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar require;var __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(process, setImmediate, global, module) {/*!\n\t * @overview es6-promise - a tiny implementation of Promises/A+.\n\t * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n\t * @license   Licensed under MIT license\n\t *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n\t * @version   2.3.0\n\t */\n\t\n\t(function() {\n\t    \"use strict\";\n\t    function lib$es6$promise$utils$$objectOrFunction(x) {\n\t      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n\t    }\n\t\n\t    function lib$es6$promise$utils$$isFunction(x) {\n\t      return typeof x === 'function';\n\t    }\n\t\n\t    function lib$es6$promise$utils$$isMaybeThenable(x) {\n\t      return typeof x === 'object' && x !== null;\n\t    }\n\t\n\t    var lib$es6$promise$utils$$_isArray;\n\t    if (!Array.isArray) {\n\t      lib$es6$promise$utils$$_isArray = function (x) {\n\t        return Object.prototype.toString.call(x) === '[object Array]';\n\t      };\n\t    } else {\n\t      lib$es6$promise$utils$$_isArray = Array.isArray;\n\t    }\n\t\n\t    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n\t    var lib$es6$promise$asap$$len = 0;\n\t    var lib$es6$promise$asap$$toString = {}.toString;\n\t    var lib$es6$promise$asap$$vertxNext;\n\t    var lib$es6$promise$asap$$customSchedulerFn;\n\t\n\t    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n\t      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n\t      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n\t      lib$es6$promise$asap$$len += 2;\n\t      if (lib$es6$promise$asap$$len === 2) {\n\t        // If len is 2, that means that we need to schedule an async flush.\n\t        // If additional callbacks are queued before the queue is flushed, they\n\t        // will be processed by this flush that we are scheduling.\n\t        if (lib$es6$promise$asap$$customSchedulerFn) {\n\t          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n\t        } else {\n\t          lib$es6$promise$asap$$scheduleFlush();\n\t        }\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n\t      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n\t    }\n\t\n\t    function lib$es6$promise$asap$$setAsap(asapFn) {\n\t      lib$es6$promise$asap$$asap = asapFn;\n\t    }\n\t\n\t    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n\t    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n\t    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n\t    var lib$es6$promise$asap$$isNode = typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\t\n\t    // test for web worker but not in IE10\n\t    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n\t      typeof importScripts !== 'undefined' &&\n\t      typeof MessageChannel !== 'undefined';\n\t\n\t    // node\n\t    function lib$es6$promise$asap$$useNextTick() {\n\t      var nextTick = process.nextTick;\n\t      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n\t      // setImmediate should be used instead instead\n\t      var version = process.versions.node.match(/^(?:(\\d+)\\.)?(?:(\\d+)\\.)?(\\*|\\d+)$/);\n\t      if (Array.isArray(version) && version[1] === '0' && version[2] === '10') {\n\t        nextTick = setImmediate;\n\t      }\n\t      return function() {\n\t        nextTick(lib$es6$promise$asap$$flush);\n\t      };\n\t    }\n\t\n\t    // vertx\n\t    function lib$es6$promise$asap$$useVertxTimer() {\n\t      return function() {\n\t        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n\t      };\n\t    }\n\t\n\t    function lib$es6$promise$asap$$useMutationObserver() {\n\t      var iterations = 0;\n\t      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n\t      var node = document.createTextNode('');\n\t      observer.observe(node, { characterData: true });\n\t\n\t      return function() {\n\t        node.data = (iterations = ++iterations % 2);\n\t      };\n\t    }\n\t\n\t    // web worker\n\t    function lib$es6$promise$asap$$useMessageChannel() {\n\t      var channel = new MessageChannel();\n\t      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n\t      return function () {\n\t        channel.port2.postMessage(0);\n\t      };\n\t    }\n\t\n\t    function lib$es6$promise$asap$$useSetTimeout() {\n\t      return function() {\n\t        setTimeout(lib$es6$promise$asap$$flush, 1);\n\t      };\n\t    }\n\t\n\t    var lib$es6$promise$asap$$queue = new Array(1000);\n\t    function lib$es6$promise$asap$$flush() {\n\t      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n\t        var callback = lib$es6$promise$asap$$queue[i];\n\t        var arg = lib$es6$promise$asap$$queue[i+1];\n\t\n\t        callback(arg);\n\t\n\t        lib$es6$promise$asap$$queue[i] = undefined;\n\t        lib$es6$promise$asap$$queue[i+1] = undefined;\n\t      }\n\t\n\t      lib$es6$promise$asap$$len = 0;\n\t    }\n\t\n\t    function lib$es6$promise$asap$$attemptVertex() {\n\t      try {\n\t        var r = require;\n\t        var vertx = __webpack_require__(19);\n\t        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n\t        return lib$es6$promise$asap$$useVertxTimer();\n\t      } catch(e) {\n\t        return lib$es6$promise$asap$$useSetTimeout();\n\t      }\n\t    }\n\t\n\t    var lib$es6$promise$asap$$scheduleFlush;\n\t    // Decide what async method to use to triggering processing of queued callbacks:\n\t    if (lib$es6$promise$asap$$isNode) {\n\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n\t    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n\t    } else if (lib$es6$promise$asap$$isWorker) {\n\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n\t    } else if (lib$es6$promise$asap$$browserWindow === undefined && \"function\" === 'function') {\n\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertex();\n\t    } else {\n\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$noop() {}\n\t\n\t    var lib$es6$promise$$internal$$PENDING   = void 0;\n\t    var lib$es6$promise$$internal$$FULFILLED = 1;\n\t    var lib$es6$promise$$internal$$REJECTED  = 2;\n\t\n\t    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\t\n\t    function lib$es6$promise$$internal$$selfFullfillment() {\n\t      return new TypeError(\"You cannot resolve a promise with itself\");\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$cannotReturnOwn() {\n\t      return new TypeError('A promises callback cannot return that same promise.');\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$getThen(promise) {\n\t      try {\n\t        return promise.then;\n\t      } catch(error) {\n\t        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n\t        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n\t      try {\n\t        then.call(value, fulfillmentHandler, rejectionHandler);\n\t      } catch(e) {\n\t        return e;\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n\t       lib$es6$promise$asap$$asap(function(promise) {\n\t        var sealed = false;\n\t        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n\t          if (sealed) { return; }\n\t          sealed = true;\n\t          if (thenable !== value) {\n\t            lib$es6$promise$$internal$$resolve(promise, value);\n\t          } else {\n\t            lib$es6$promise$$internal$$fulfill(promise, value);\n\t          }\n\t        }, function(reason) {\n\t          if (sealed) { return; }\n\t          sealed = true;\n\t\n\t          lib$es6$promise$$internal$$reject(promise, reason);\n\t        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\t\n\t        if (!sealed && error) {\n\t          sealed = true;\n\t          lib$es6$promise$$internal$$reject(promise, error);\n\t        }\n\t      }, promise);\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n\t      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n\t        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n\t      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n\t        lib$es6$promise$$internal$$reject(promise, thenable._result);\n\t      } else {\n\t        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n\t          lib$es6$promise$$internal$$resolve(promise, value);\n\t        }, function(reason) {\n\t          lib$es6$promise$$internal$$reject(promise, reason);\n\t        });\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable) {\n\t      if (maybeThenable.constructor === promise.constructor) {\n\t        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n\t      } else {\n\t        var then = lib$es6$promise$$internal$$getThen(maybeThenable);\n\t\n\t        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n\t          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n\t        } else if (then === undefined) {\n\t          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n\t        } else if (lib$es6$promise$utils$$isFunction(then)) {\n\t          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n\t        } else {\n\t          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n\t        }\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$resolve(promise, value) {\n\t      if (promise === value) {\n\t        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFullfillment());\n\t      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n\t        lib$es6$promise$$internal$$handleMaybeThenable(promise, value);\n\t      } else {\n\t        lib$es6$promise$$internal$$fulfill(promise, value);\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$publishRejection(promise) {\n\t      if (promise._onerror) {\n\t        promise._onerror(promise._result);\n\t      }\n\t\n\t      lib$es6$promise$$internal$$publish(promise);\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$fulfill(promise, value) {\n\t      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\t\n\t      promise._result = value;\n\t      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\t\n\t      if (promise._subscribers.length !== 0) {\n\t        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$reject(promise, reason) {\n\t      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\t      promise._state = lib$es6$promise$$internal$$REJECTED;\n\t      promise._result = reason;\n\t\n\t      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n\t      var subscribers = parent._subscribers;\n\t      var length = subscribers.length;\n\t\n\t      parent._onerror = null;\n\t\n\t      subscribers[length] = child;\n\t      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n\t      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\t\n\t      if (length === 0 && parent._state) {\n\t        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$publish(promise) {\n\t      var subscribers = promise._subscribers;\n\t      var settled = promise._state;\n\t\n\t      if (subscribers.length === 0) { return; }\n\t\n\t      var child, callback, detail = promise._result;\n\t\n\t      for (var i = 0; i < subscribers.length; i += 3) {\n\t        child = subscribers[i];\n\t        callback = subscribers[i + settled];\n\t\n\t        if (child) {\n\t          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n\t        } else {\n\t          callback(detail);\n\t        }\n\t      }\n\t\n\t      promise._subscribers.length = 0;\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$ErrorObject() {\n\t      this.error = null;\n\t    }\n\t\n\t    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\t\n\t    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n\t      try {\n\t        return callback(detail);\n\t      } catch(e) {\n\t        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n\t        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n\t      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n\t          value, error, succeeded, failed;\n\t\n\t      if (hasCallback) {\n\t        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\t\n\t        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n\t          failed = true;\n\t          error = value.error;\n\t          value = null;\n\t        } else {\n\t          succeeded = true;\n\t        }\n\t\n\t        if (promise === value) {\n\t          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n\t          return;\n\t        }\n\t\n\t      } else {\n\t        value = detail;\n\t        succeeded = true;\n\t      }\n\t\n\t      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n\t        // noop\n\t      } else if (hasCallback && succeeded) {\n\t        lib$es6$promise$$internal$$resolve(promise, value);\n\t      } else if (failed) {\n\t        lib$es6$promise$$internal$$reject(promise, error);\n\t      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n\t        lib$es6$promise$$internal$$fulfill(promise, value);\n\t      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n\t        lib$es6$promise$$internal$$reject(promise, value);\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n\t      try {\n\t        resolver(function resolvePromise(value){\n\t          lib$es6$promise$$internal$$resolve(promise, value);\n\t        }, function rejectPromise(reason) {\n\t          lib$es6$promise$$internal$$reject(promise, reason);\n\t        });\n\t      } catch(e) {\n\t        lib$es6$promise$$internal$$reject(promise, e);\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n\t      var enumerator = this;\n\t\n\t      enumerator._instanceConstructor = Constructor;\n\t      enumerator.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\t\n\t      if (enumerator._validateInput(input)) {\n\t        enumerator._input     = input;\n\t        enumerator.length     = input.length;\n\t        enumerator._remaining = input.length;\n\t\n\t        enumerator._init();\n\t\n\t        if (enumerator.length === 0) {\n\t          lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n\t        } else {\n\t          enumerator.length = enumerator.length || 0;\n\t          enumerator._enumerate();\n\t          if (enumerator._remaining === 0) {\n\t            lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n\t          }\n\t        }\n\t      } else {\n\t        lib$es6$promise$$internal$$reject(enumerator.promise, enumerator._validationError());\n\t      }\n\t    }\n\t\n\t    lib$es6$promise$enumerator$$Enumerator.prototype._validateInput = function(input) {\n\t      return lib$es6$promise$utils$$isArray(input);\n\t    };\n\t\n\t    lib$es6$promise$enumerator$$Enumerator.prototype._validationError = function() {\n\t      return new Error('Array Methods must be provided an Array');\n\t    };\n\t\n\t    lib$es6$promise$enumerator$$Enumerator.prototype._init = function() {\n\t      this._result = new Array(this.length);\n\t    };\n\t\n\t    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n\t\n\t    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n\t      var enumerator = this;\n\t\n\t      var length  = enumerator.length;\n\t      var promise = enumerator.promise;\n\t      var input   = enumerator._input;\n\t\n\t      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n\t        enumerator._eachEntry(input[i], i);\n\t      }\n\t    };\n\t\n\t    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n\t      var enumerator = this;\n\t      var c = enumerator._instanceConstructor;\n\t\n\t      if (lib$es6$promise$utils$$isMaybeThenable(entry)) {\n\t        if (entry.constructor === c && entry._state !== lib$es6$promise$$internal$$PENDING) {\n\t          entry._onerror = null;\n\t          enumerator._settledAt(entry._state, i, entry._result);\n\t        } else {\n\t          enumerator._willSettleAt(c.resolve(entry), i);\n\t        }\n\t      } else {\n\t        enumerator._remaining--;\n\t        enumerator._result[i] = entry;\n\t      }\n\t    };\n\t\n\t    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n\t      var enumerator = this;\n\t      var promise = enumerator.promise;\n\t\n\t      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n\t        enumerator._remaining--;\n\t\n\t        if (state === lib$es6$promise$$internal$$REJECTED) {\n\t          lib$es6$promise$$internal$$reject(promise, value);\n\t        } else {\n\t          enumerator._result[i] = value;\n\t        }\n\t      }\n\t\n\t      if (enumerator._remaining === 0) {\n\t        lib$es6$promise$$internal$$fulfill(promise, enumerator._result);\n\t      }\n\t    };\n\t\n\t    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n\t      var enumerator = this;\n\t\n\t      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n\t        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n\t      }, function(reason) {\n\t        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n\t      });\n\t    };\n\t    function lib$es6$promise$promise$all$$all(entries) {\n\t      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n\t    }\n\t    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n\t    function lib$es6$promise$promise$race$$race(entries) {\n\t      /*jshint validthis:true */\n\t      var Constructor = this;\n\t\n\t      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\t\n\t      if (!lib$es6$promise$utils$$isArray(entries)) {\n\t        lib$es6$promise$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\n\t        return promise;\n\t      }\n\t\n\t      var length = entries.length;\n\t\n\t      function onFulfillment(value) {\n\t        lib$es6$promise$$internal$$resolve(promise, value);\n\t      }\n\t\n\t      function onRejection(reason) {\n\t        lib$es6$promise$$internal$$reject(promise, reason);\n\t      }\n\t\n\t      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n\t        lib$es6$promise$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\n\t      }\n\t\n\t      return promise;\n\t    }\n\t    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n\t    function lib$es6$promise$promise$resolve$$resolve(object) {\n\t      /*jshint validthis:true */\n\t      var Constructor = this;\n\t\n\t      if (object && typeof object === 'object' && object.constructor === Constructor) {\n\t        return object;\n\t      }\n\t\n\t      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\t      lib$es6$promise$$internal$$resolve(promise, object);\n\t      return promise;\n\t    }\n\t    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n\t    function lib$es6$promise$promise$reject$$reject(reason) {\n\t      /*jshint validthis:true */\n\t      var Constructor = this;\n\t      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\t      lib$es6$promise$$internal$$reject(promise, reason);\n\t      return promise;\n\t    }\n\t    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\t\n\t    var lib$es6$promise$promise$$counter = 0;\n\t\n\t    function lib$es6$promise$promise$$needsResolver() {\n\t      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n\t    }\n\t\n\t    function lib$es6$promise$promise$$needsNew() {\n\t      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n\t    }\n\t\n\t    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n\t    /**\n\t      Promise objects represent the eventual result of an asynchronous operation. The\n\t      primary way of interacting with a promise is through its `then` method, which\n\t      registers callbacks to receive either a promise's eventual value or the reason\n\t      why the promise cannot be fulfilled.\n\t\n\t      Terminology\n\t      -----------\n\t\n\t      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n\t      - `thenable` is an object or function that defines a `then` method.\n\t      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n\t      - `exception` is a value that is thrown using the throw statement.\n\t      - `reason` is a value that indicates why a promise was rejected.\n\t      - `settled` the final resting state of a promise, fulfilled or rejected.\n\t\n\t      A promise can be in one of three states: pending, fulfilled, or rejected.\n\t\n\t      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n\t      state.  Promises that are rejected have a rejection reason and are in the\n\t      rejected state.  A fulfillment value is never a thenable.\n\t\n\t      Promises can also be said to *resolve* a value.  If this value is also a\n\t      promise, then the original promise's settled state will match the value's\n\t      settled state.  So a promise that *resolves* a promise that rejects will\n\t      itself reject, and a promise that *resolves* a promise that fulfills will\n\t      itself fulfill.\n\t\n\t\n\t      Basic Usage:\n\t      ------------\n\t\n\t      ```js\n\t      var promise = new Promise(function(resolve, reject) {\n\t        // on success\n\t        resolve(value);\n\t\n\t        // on failure\n\t        reject(reason);\n\t      });\n\t\n\t      promise.then(function(value) {\n\t        // on fulfillment\n\t      }, function(reason) {\n\t        // on rejection\n\t      });\n\t      ```\n\t\n\t      Advanced Usage:\n\t      ---------------\n\t\n\t      Promises shine when abstracting away asynchronous interactions such as\n\t      `XMLHttpRequest`s.\n\t\n\t      ```js\n\t      function getJSON(url) {\n\t        return new Promise(function(resolve, reject){\n\t          var xhr = new XMLHttpRequest();\n\t\n\t          xhr.open('GET', url);\n\t          xhr.onreadystatechange = handler;\n\t          xhr.responseType = 'json';\n\t          xhr.setRequestHeader('Accept', 'application/json');\n\t          xhr.send();\n\t\n\t          function handler() {\n\t            if (this.readyState === this.DONE) {\n\t              if (this.status === 200) {\n\t                resolve(this.response);\n\t              } else {\n\t                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n\t              }\n\t            }\n\t          };\n\t        });\n\t      }\n\t\n\t      getJSON('/posts.json').then(function(json) {\n\t        // on fulfillment\n\t      }, function(reason) {\n\t        // on rejection\n\t      });\n\t      ```\n\t\n\t      Unlike callbacks, promises are great composable primitives.\n\t\n\t      ```js\n\t      Promise.all([\n\t        getJSON('/posts'),\n\t        getJSON('/comments')\n\t      ]).then(function(values){\n\t        values[0] // => postsJSON\n\t        values[1] // => commentsJSON\n\t\n\t        return values;\n\t      });\n\t      ```\n\t\n\t      @class Promise\n\t      @param {function} resolver\n\t      Useful for tooling.\n\t      @constructor\n\t    */\n\t    function lib$es6$promise$promise$$Promise(resolver) {\n\t      this._id = lib$es6$promise$promise$$counter++;\n\t      this._state = undefined;\n\t      this._result = undefined;\n\t      this._subscribers = [];\n\t\n\t      if (lib$es6$promise$$internal$$noop !== resolver) {\n\t        if (!lib$es6$promise$utils$$isFunction(resolver)) {\n\t          lib$es6$promise$promise$$needsResolver();\n\t        }\n\t\n\t        if (!(this instanceof lib$es6$promise$promise$$Promise)) {\n\t          lib$es6$promise$promise$$needsNew();\n\t        }\n\t\n\t        lib$es6$promise$$internal$$initializePromise(this, resolver);\n\t      }\n\t    }\n\t\n\t    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n\t    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n\t    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n\t    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n\t    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n\t    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n\t    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\t\n\t    lib$es6$promise$promise$$Promise.prototype = {\n\t      constructor: lib$es6$promise$promise$$Promise,\n\t\n\t    /**\n\t      The primary way of interacting with a promise is through its `then` method,\n\t      which registers callbacks to receive either a promise's eventual value or the\n\t      reason why the promise cannot be fulfilled.\n\t\n\t      ```js\n\t      findUser().then(function(user){\n\t        // user is available\n\t      }, function(reason){\n\t        // user is unavailable, and you are given the reason why\n\t      });\n\t      ```\n\t\n\t      Chaining\n\t      --------\n\t\n\t      The return value of `then` is itself a promise.  This second, 'downstream'\n\t      promise is resolved with the return value of the first promise's fulfillment\n\t      or rejection handler, or rejected if the handler throws an exception.\n\t\n\t      ```js\n\t      findUser().then(function (user) {\n\t        return user.name;\n\t      }, function (reason) {\n\t        return 'default name';\n\t      }).then(function (userName) {\n\t        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n\t        // will be `'default name'`\n\t      });\n\t\n\t      findUser().then(function (user) {\n\t        throw new Error('Found user, but still unhappy');\n\t      }, function (reason) {\n\t        throw new Error('`findUser` rejected and we're unhappy');\n\t      }).then(function (value) {\n\t        // never reached\n\t      }, function (reason) {\n\t        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n\t        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n\t      });\n\t      ```\n\t      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\t\n\t      ```js\n\t      findUser().then(function (user) {\n\t        throw new PedagogicalException('Upstream error');\n\t      }).then(function (value) {\n\t        // never reached\n\t      }).then(function (value) {\n\t        // never reached\n\t      }, function (reason) {\n\t        // The `PedgagocialException` is propagated all the way down to here\n\t      });\n\t      ```\n\t\n\t      Assimilation\n\t      ------------\n\t\n\t      Sometimes the value you want to propagate to a downstream promise can only be\n\t      retrieved asynchronously. This can be achieved by returning a promise in the\n\t      fulfillment or rejection handler. The downstream promise will then be pending\n\t      until the returned promise is settled. This is called *assimilation*.\n\t\n\t      ```js\n\t      findUser().then(function (user) {\n\t        return findCommentsByAuthor(user);\n\t      }).then(function (comments) {\n\t        // The user's comments are now available\n\t      });\n\t      ```\n\t\n\t      If the assimliated promise rejects, then the downstream promise will also reject.\n\t\n\t      ```js\n\t      findUser().then(function (user) {\n\t        return findCommentsByAuthor(user);\n\t      }).then(function (comments) {\n\t        // If `findCommentsByAuthor` fulfills, we'll have the value here\n\t      }, function (reason) {\n\t        // If `findCommentsByAuthor` rejects, we'll have the reason here\n\t      });\n\t      ```\n\t\n\t      Simple Example\n\t      --------------\n\t\n\t      Synchronous Example\n\t\n\t      ```javascript\n\t      var result;\n\t\n\t      try {\n\t        result = findResult();\n\t        // success\n\t      } catch(reason) {\n\t        // failure\n\t      }\n\t      ```\n\t\n\t      Errback Example\n\t\n\t      ```js\n\t      findResult(function(result, err){\n\t        if (err) {\n\t          // failure\n\t        } else {\n\t          // success\n\t        }\n\t      });\n\t      ```\n\t\n\t      Promise Example;\n\t\n\t      ```javascript\n\t      findResult().then(function(result){\n\t        // success\n\t      }, function(reason){\n\t        // failure\n\t      });\n\t      ```\n\t\n\t      Advanced Example\n\t      --------------\n\t\n\t      Synchronous Example\n\t\n\t      ```javascript\n\t      var author, books;\n\t\n\t      try {\n\t        author = findAuthor();\n\t        books  = findBooksByAuthor(author);\n\t        // success\n\t      } catch(reason) {\n\t        // failure\n\t      }\n\t      ```\n\t\n\t      Errback Example\n\t\n\t      ```js\n\t\n\t      function foundBooks(books) {\n\t\n\t      }\n\t\n\t      function failure(reason) {\n\t\n\t      }\n\t\n\t      findAuthor(function(author, err){\n\t        if (err) {\n\t          failure(err);\n\t          // failure\n\t        } else {\n\t          try {\n\t            findBoooksByAuthor(author, function(books, err) {\n\t              if (err) {\n\t                failure(err);\n\t              } else {\n\t                try {\n\t                  foundBooks(books);\n\t                } catch(reason) {\n\t                  failure(reason);\n\t                }\n\t              }\n\t            });\n\t          } catch(error) {\n\t            failure(err);\n\t          }\n\t          // success\n\t        }\n\t      });\n\t      ```\n\t\n\t      Promise Example;\n\t\n\t      ```javascript\n\t      findAuthor().\n\t        then(findBooksByAuthor).\n\t        then(function(books){\n\t          // found books\n\t      }).catch(function(reason){\n\t        // something went wrong\n\t      });\n\t      ```\n\t\n\t      @method then\n\t      @param {Function} onFulfilled\n\t      @param {Function} onRejected\n\t      Useful for tooling.\n\t      @return {Promise}\n\t    */\n\t      then: function(onFulfillment, onRejection) {\n\t        var parent = this;\n\t        var state = parent._state;\n\t\n\t        if (state === lib$es6$promise$$internal$$FULFILLED && !onFulfillment || state === lib$es6$promise$$internal$$REJECTED && !onRejection) {\n\t          return this;\n\t        }\n\t\n\t        var child = new this.constructor(lib$es6$promise$$internal$$noop);\n\t        var result = parent._result;\n\t\n\t        if (state) {\n\t          var callback = arguments[state - 1];\n\t          lib$es6$promise$asap$$asap(function(){\n\t            lib$es6$promise$$internal$$invokeCallback(state, child, callback, result);\n\t          });\n\t        } else {\n\t          lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n\t        }\n\t\n\t        return child;\n\t      },\n\t\n\t    /**\n\t      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n\t      as the catch block of a try/catch statement.\n\t\n\t      ```js\n\t      function findAuthor(){\n\t        throw new Error('couldn't find that author');\n\t      }\n\t\n\t      // synchronous\n\t      try {\n\t        findAuthor();\n\t      } catch(reason) {\n\t        // something went wrong\n\t      }\n\t\n\t      // async with promises\n\t      findAuthor().catch(function(reason){\n\t        // something went wrong\n\t      });\n\t      ```\n\t\n\t      @method catch\n\t      @param {Function} onRejection\n\t      Useful for tooling.\n\t      @return {Promise}\n\t    */\n\t      'catch': function(onRejection) {\n\t        return this.then(null, onRejection);\n\t      }\n\t    };\n\t    function lib$es6$promise$polyfill$$polyfill() {\n\t      var local;\n\t\n\t      if (typeof global !== 'undefined') {\n\t          local = global;\n\t      } else if (typeof self !== 'undefined') {\n\t          local = self;\n\t      } else {\n\t          try {\n\t              local = Function('return this')();\n\t          } catch (e) {\n\t              throw new Error('polyfill failed because global object is unavailable in this environment');\n\t          }\n\t      }\n\t\n\t      var P = local.Promise;\n\t\n\t      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n\t        return;\n\t      }\n\t\n\t      local.Promise = lib$es6$promise$promise$$default;\n\t    }\n\t    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\t\n\t    var lib$es6$promise$umd$$ES6Promise = {\n\t      'Promise': lib$es6$promise$promise$$default,\n\t      'polyfill': lib$es6$promise$polyfill$$default\n\t    };\n\t\n\t    /* global define:true module:true window: true */\n\t    if (\"function\" === 'function' && __webpack_require__(20)['amd']) {\n\t      !(__WEBPACK_AMD_DEFINE_RESULT__ = function() { return lib$es6$promise$umd$$ES6Promise; }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof module !== 'undefined' && module['exports']) {\n\t      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n\t    } else if (typeof this !== 'undefined') {\n\t      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n\t    }\n\t\n\t    lib$es6$promise$polyfill$$default();\n\t}).call(this);\n\t\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(8), __webpack_require__(17).setImmediate, (function() { return this; }()), __webpack_require__(18)(module)))\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate, clearImmediate) {var nextTick = __webpack_require__(8).nextTick;\n\tvar apply = Function.prototype.apply;\n\tvar slice = Array.prototype.slice;\n\tvar immediateIds = {};\n\tvar nextImmediateId = 0;\n\t\n\t// DOM APIs, for completeness\n\t\n\texports.setTimeout = function() {\n\t  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n\t};\n\texports.setInterval = function() {\n\t  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n\t};\n\texports.clearTimeout =\n\texports.clearInterval = function(timeout) { timeout.close(); };\n\t\n\tfunction Timeout(id, clearFn) {\n\t  this._id = id;\n\t  this._clearFn = clearFn;\n\t}\n\tTimeout.prototype.unref = Timeout.prototype.ref = function() {};\n\tTimeout.prototype.close = function() {\n\t  this._clearFn.call(window, this._id);\n\t};\n\t\n\t// Does not start the time, just sets up the members needed.\n\texports.enroll = function(item, msecs) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = msecs;\n\t};\n\t\n\texports.unenroll = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = -1;\n\t};\n\t\n\texports._unrefActive = exports.active = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t\n\t  var msecs = item._idleTimeout;\n\t  if (msecs >= 0) {\n\t    item._idleTimeoutId = setTimeout(function onTimeout() {\n\t      if (item._onTimeout)\n\t        item._onTimeout();\n\t    }, msecs);\n\t  }\n\t};\n\t\n\t// That's not how node.js implements it but the exposed api is the same.\n\texports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n\t  var id = nextImmediateId++;\n\t  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\t\n\t  immediateIds[id] = true;\n\t\n\t  nextTick(function onNextTick() {\n\t    if (immediateIds[id]) {\n\t      // fn.call() is faster so we optimize for the common use-case\n\t      // @see http://jsperf.com/call-apply-segu\n\t      if (args) {\n\t        fn.apply(null, args);\n\t      } else {\n\t        fn.call(null);\n\t      }\n\t      // Prevent ids from leaking\n\t      exports.clearImmediate(id);\n\t    }\n\t  });\n\t\n\t  return id;\n\t};\n\t\n\texports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n\t  delete immediateIds[id];\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(17).setImmediate, __webpack_require__(17).clearImmediate))\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\n\t * Syntactic sugar for invoking a function and expanding an array for arguments.\n\t *\n\t * Common use case would be to use `Function.prototype.apply`.\n\t *\n\t *  ```js\n\t *  function f(x, y, z) {}\n\t *  var args = [1, 2, 3];\n\t *  f.apply(null, args);\n\t *  ```\n\t *\n\t * With `spread` this example can be re-written.\n\t *\n\t *  ```js\n\t *  spread(function(x, y, z) {})([1, 2, 3]);\n\t *  ```\n\t *\n\t * @param {Function} callback\n\t * @returns {Function}\n\t */\n\tmodule.exports = function spread(callback) {\n\t  return function (arr) {\n\t    callback.apply(null, arr);\n\t  };\n\t};\n\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module, global) {/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */\n\t;(function(root) {\n\t\n\t\t// Detect free variables `exports`.\n\t\tvar freeExports = typeof exports == 'object' && exports;\n\t\n\t\t// Detect free variable `module`.\n\t\tvar freeModule = typeof module == 'object' && module &&\n\t\t\tmodule.exports == freeExports && module;\n\t\n\t\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t\t// it as `root`.\n\t\tvar freeGlobal = typeof global == 'object' && global;\n\t\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\t\troot = freeGlobal;\n\t\t}\n\t\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\tvar InvalidCharacterError = function(message) {\n\t\t\tthis.message = message;\n\t\t};\n\t\tInvalidCharacterError.prototype = new Error;\n\t\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\t\n\t\tvar error = function(message) {\n\t\t\t// Note: the error messages used throughout this file match those used by\n\t\t\t// the native `atob`/`btoa` implementation in Chromium.\n\t\t\tthrow new InvalidCharacterError(message);\n\t\t};\n\t\n\t\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\n\t\tvar REGEX_SPACE_CHARACTERS = /[\\t\\n\\f\\r ]/g;\n\t\n\t\t// `decode` is designed to be fully compatible with `atob` as described in the\n\t\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\n\t\t// The optimized base64-decoding algorithm used is based on @atk’s excellent\n\t\t// implementation. https://gist.github.com/atk/1020396\n\t\tvar decode = function(input) {\n\t\t\tinput = String(input)\n\t\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\n\t\t\tvar length = input.length;\n\t\t\tif (length % 4 == 0) {\n\t\t\t\tinput = input.replace(/==?$/, '');\n\t\t\t\tlength = input.length;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tlength % 4 == 1 ||\n\t\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\n\t\t\t\t/[^+a-zA-Z0-9/]/.test(input)\n\t\t\t) {\n\t\t\t\terror(\n\t\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\n\t\t\t\t);\n\t\t\t}\n\t\t\tvar bitCounter = 0;\n\t\t\tvar bitStorage;\n\t\t\tvar buffer;\n\t\t\tvar output = '';\n\t\t\tvar position = -1;\n\t\t\twhile (++position < length) {\n\t\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\n\t\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\n\t\t\t\t// Unless this is the first of a group of 4 characters…\n\t\t\t\tif (bitCounter++ % 4) {\n\t\t\t\t\t// …convert the first 8 bits to a single ASCII character.\n\t\t\t\t\toutput += String.fromCharCode(\n\t\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn output;\n\t\t};\n\t\n\t\t// `encode` is designed to be fully compatible with `btoa` as described in the\n\t\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\n\t\tvar encode = function(input) {\n\t\t\tinput = String(input);\n\t\t\tif (/[^\\0-\\xFF]/.test(input)) {\n\t\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\n\t\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\n\t\t\t\terror(\n\t\t\t\t\t'The string to be encoded contains characters outside of the ' +\n\t\t\t\t\t'Latin1 range.'\n\t\t\t\t);\n\t\t\t}\n\t\t\tvar padding = input.length % 3;\n\t\t\tvar output = '';\n\t\t\tvar position = -1;\n\t\t\tvar a;\n\t\t\tvar b;\n\t\t\tvar c;\n\t\t\tvar d;\n\t\t\tvar buffer;\n\t\t\t// Make sure any padding is handled outside of the loop.\n\t\t\tvar length = input.length - padding;\n\t\n\t\t\twhile (++position < length) {\n\t\t\t\t// Read three bytes, i.e. 24 bits.\n\t\t\t\ta = input.charCodeAt(position) << 16;\n\t\t\t\tb = input.charCodeAt(++position) << 8;\n\t\t\t\tc = input.charCodeAt(++position);\n\t\t\t\tbuffer = a + b + c;\n\t\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\n\t\t\t\t// matching character for each of them to the output.\n\t\t\t\toutput += (\n\t\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\n\t\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\n\t\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\n\t\t\t\t\tTABLE.charAt(buffer & 0x3F)\n\t\t\t\t);\n\t\t\t}\n\t\n\t\t\tif (padding == 2) {\n\t\t\t\ta = input.charCodeAt(position) << 8;\n\t\t\t\tb = input.charCodeAt(++position);\n\t\t\t\tbuffer = a + b;\n\t\t\t\toutput += (\n\t\t\t\t\tTABLE.charAt(buffer >> 10) +\n\t\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\n\t\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\n\t\t\t\t\t'='\n\t\t\t\t);\n\t\t\t} else if (padding == 1) {\n\t\t\t\tbuffer = input.charCodeAt(position);\n\t\t\t\toutput += (\n\t\t\t\t\tTABLE.charAt(buffer >> 2) +\n\t\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\n\t\t\t\t\t'=='\n\t\t\t\t);\n\t\t\t}\n\t\n\t\t\treturn output;\n\t\t};\n\t\n\t\tvar base64 = {\n\t\t\t'encode': encode,\n\t\t\t'decode': decode,\n\t\t\t'version': '0.1.0'\n\t\t};\n\t\n\t\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t\t// like the following:\n\t\tif (\n\t\t\ttrue\n\t\t) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t\t\t\treturn base64;\n\t\t\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\t\tfreeModule.exports = base64;\n\t\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\t\tfor (var key in base64) {\n\t\t\t\t\tbase64.hasOwnProperty(key) && (freeExports[key] = base64[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else { // in Rhino or a web browser\n\t\t\troot.base64 = base64;\n\t\t}\n\t\n\t}(this));\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(18)(module), (function() { return this; }())))\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;// =========\n\t// = humps =\n\t// =========\n\t// version 0.7.0\n\t// Underscore-to-camelCase converter (and vice versa)\n\t// for strings and object keys\n\t\n\t// humps is copyright © 2012+ Dom Christie\n\t// Released under the MIT license.\n\t\n\t\n\t;(function(global) {\n\t\n\t  var _processKeys = function(convert, obj, separator, ignoreNumbers) {\n\t    if(!_isObject(obj) || _isDate(obj) || _isRegExp(obj) || _isBoolean(obj)) {\n\t      return obj;\n\t    }\n\t\n\t    var output,\n\t        i = 0,\n\t        l = 0;\n\t\n\t    if(_isArray(obj)) {\n\t      output = [];\n\t      for(l=obj.length; i<l; i++) {\n\t        output.push(_processKeys(convert, obj[i], separator, ignoreNumbers));\n\t      }\n\t    }\n\t    else {\n\t      output = {};\n\t      for(var key in obj) {\n\t        if(obj.hasOwnProperty(key)) {\n\t          output[convert(key, separator, ignoreNumbers)] = _processKeys(convert, obj[key], separator, ignoreNumbers);\n\t        }\n\t      }\n\t    }\n\t    return output;\n\t  };\n\t\n\t  // String conversion methods\n\t\n\t  var separateWords = function(string, separator, ignoreNumbers) {\n\t    if (typeof separator === 'undefined') {\n\t      separator = '_';\n\t    }\n\t\n\t    var regexp = /([a-z])([A-Z0-9])/g;\n\t\n\t    if (ignoreNumbers) {\n\t      regexp = /([a-z])([A-Z])/g;\n\t    }\n\t\n\t    return string.replace(regexp, '$1'+ separator +'$2');\n\t  };\n\t\n\t  var camelize = function(string) {\n\t    if (_isNumerical(string)) {\n\t      return string;\n\t    }\n\t    string = string.replace(/[\\-_\\s]+(.)?/g, function(match, chr) {\n\t      return chr ? chr.toUpperCase() : '';\n\t    });\n\t    // Ensure 1st char is always lowercase\n\t    return string.substr(0, 1).toLowerCase() + string.substr(1);\n\t  };\n\t\n\t  var pascalize = function(string) {\n\t    var camelized = camelize(string);\n\t    // Ensure 1st char is always uppercase\n\t    return camelized.substr(0, 1).toUpperCase() + camelized.substr(1);\n\t  };\n\t\n\t  var decamelize = function(string, separator, ignoreNumbers) {\n\t    return separateWords(string, separator, ignoreNumbers).toLowerCase();\n\t  };\n\t\n\t  // Utilities\n\t  // Taken from Underscore.js\n\t\n\t  var toString = Object.prototype.toString;\n\t\n\t  var _isObject = function(obj) {\n\t    return obj === Object(obj);\n\t  };\n\t  var _isArray = function(obj) {\n\t    return toString.call(obj) == '[object Array]';\n\t  };\n\t  var _isDate = function(obj) {\n\t    return toString.call(obj) == '[object Date]';\n\t  };\n\t  var _isRegExp = function(obj) {\n\t    return toString.call(obj) == '[object RegExp]';\n\t  };\n\t  var _isBoolean = function(obj) {\n\t    return toString.call(obj) == '[object Boolean]';\n\t  };\n\t\n\t  // Performant way to determine if obj coerces to a number\n\t  var _isNumerical = function(obj) {\n\t    obj = obj - 0;\n\t    return obj === obj;\n\t  };\n\t\n\t  var humps = {\n\t    camelize: camelize,\n\t    decamelize: decamelize,\n\t    pascalize: pascalize,\n\t    depascalize: decamelize,\n\t    camelizeKeys: function(object) {\n\t      return _processKeys(camelize, object);\n\t    },\n\t    decamelizeKeys: function(object, separator, ignoreNumbers) {\n\t      return _processKeys(decamelize, object, separator, ignoreNumbers);\n\t    },\n\t    pascalizeKeys: function(object) {\n\t      return _processKeys(pascalize, object);\n\t    },\n\t    depascalizeKeys: function () {\n\t      return this.decamelizeKeys.apply(this, arguments);\n\t    }\n\t  };\n\t\n\t  if (true) {\n\t    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (humps), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t  } else if (typeof module !== 'undefined' && module.exports) {\n\t    module.exports = humps;\n\t  } else {\n\t    global.humps = humps;\n\t  }\n\t\n\t})(this);\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t * FullCalendar v2.4.0\n\t * Docs & License: http://fullcalendar.io/\n\t * (c) 2015 Adam Shaw\n\t */\n\t\n\t(function(factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(25), __webpack_require__(26) ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t}\n\t\telse if (typeof exports === 'object') { // Node/CommonJS\n\t\t\tmodule.exports = factory(require('jquery'), require('moment'));\n\t\t}\n\t\telse {\n\t\t\tfactory(jQuery, moment);\n\t\t}\n\t})(function($, moment) {\n\t\n\t;;\n\t\n\tvar fc = $.fullCalendar = { version: \"2.4.0\" };\n\tvar fcViews = fc.views = {};\n\t\n\t\n\t$.fn.fullCalendar = function(options) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1); // for a possible method call\n\t\tvar res = this; // what this function will return (this jQuery object by default)\n\t\n\t\tthis.each(function(i, _element) { // loop each DOM element involved\n\t\t\tvar element = $(_element);\n\t\t\tvar calendar = element.data('fullCalendar'); // get the existing calendar object (if any)\n\t\t\tvar singleRes; // the returned value of this single method call\n\t\n\t\t\t// a method call\n\t\t\tif (typeof options === 'string') {\n\t\t\t\tif (calendar && $.isFunction(calendar[options])) {\n\t\t\t\t\tsingleRes = calendar[options].apply(calendar, args);\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tres = singleRes; // record the first method call result\n\t\t\t\t\t}\n\t\t\t\t\tif (options === 'destroy') { // for the destroy method, must remove Calendar object data\n\t\t\t\t\t\telement.removeData('fullCalendar');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// a new calendar initialization\n\t\t\telse if (!calendar) { // don't initialize twice\n\t\t\t\tcalendar = new Calendar(element, options);\n\t\t\t\telement.data('fullCalendar', calendar);\n\t\t\t\tcalendar.render();\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn res;\n\t};\n\t\n\t\n\tvar complexOptions = [ // names of options that are objects whose properties should be combined\n\t\t'header',\n\t\t'buttonText',\n\t\t'buttonIcons',\n\t\t'themeButtonIcons'\n\t];\n\t\n\t\n\t// Merges an array of option objects into a single object\n\tfunction mergeOptions(optionObjs) {\n\t\treturn mergeProps(optionObjs, complexOptions);\n\t}\n\t\n\t\n\t// Given options specified for the calendar's constructor, massages any legacy options into a non-legacy form.\n\t// Converts View-Option-Hashes into the View-Specific-Options format.\n\tfunction massageOverrides(input) {\n\t\tvar overrides = { views: input.views || {} }; // the output. ensure a `views` hash\n\t\tvar subObj;\n\t\n\t\t// iterate through all option override properties (except `views`)\n\t\t$.each(input, function(name, val) {\n\t\t\tif (name != 'views') {\n\t\n\t\t\t\t// could the value be a legacy View-Option-Hash?\n\t\t\t\tif (\n\t\t\t\t\t$.isPlainObject(val) &&\n\t\t\t\t\t!/(time|duration|interval)$/i.test(name) && // exclude duration options. might be given as objects\n\t\t\t\t\t$.inArray(name, complexOptions) == -1 // complex options aren't allowed to be View-Option-Hashes\n\t\t\t\t) {\n\t\t\t\t\tsubObj = null;\n\t\n\t\t\t\t\t// iterate through the properties of this possible View-Option-Hash value\n\t\t\t\t\t$.each(val, function(subName, subVal) {\n\t\n\t\t\t\t\t\t// is the property targeting a view?\n\t\t\t\t\t\tif (/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(subName)) {\n\t\t\t\t\t\t\tif (!overrides.views[subName]) { // ensure the view-target entry exists\n\t\t\t\t\t\t\t\toverrides.views[subName] = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\toverrides.views[subName][name] = subVal; // record the value in the `views` object\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse { // a non-View-Option-Hash property\n\t\t\t\t\t\t\tif (!subObj) {\n\t\t\t\t\t\t\t\tsubObj = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsubObj[subName] = subVal; // accumulate these unrelated values for later\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\n\t\t\t\t\tif (subObj) { // non-View-Option-Hash properties? transfer them as-is\n\t\t\t\t\t\toverrides[name] = subObj;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\toverrides[name] = val; // transfer normal options as-is\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\treturn overrides;\n\t}\n\t\n\t;;\n\t\n\t// exports\n\tfc.intersectionToSeg = intersectionToSeg;\n\tfc.applyAll = applyAll;\n\tfc.debounce = debounce;\n\tfc.isInt = isInt;\n\tfc.htmlEscape = htmlEscape;\n\tfc.cssToStr = cssToStr;\n\tfc.proxy = proxy;\n\tfc.capitaliseFirstLetter = capitaliseFirstLetter;\n\t\n\t\n\t/* FullCalendar-specific DOM Utilities\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t// Given the scrollbar widths of some other container, create borders/margins on rowEls in order to match the left\n\t// and right space that was offset by the scrollbars. A 1-pixel border first, then margin beyond that.\n\tfunction compensateScroll(rowEls, scrollbarWidths) {\n\t\tif (scrollbarWidths.left) {\n\t\t\trowEls.css({\n\t\t\t\t'border-left-width': 1,\n\t\t\t\t'margin-left': scrollbarWidths.left - 1\n\t\t\t});\n\t\t}\n\t\tif (scrollbarWidths.right) {\n\t\t\trowEls.css({\n\t\t\t\t'border-right-width': 1,\n\t\t\t\t'margin-right': scrollbarWidths.right - 1\n\t\t\t});\n\t\t}\n\t}\n\t\n\t\n\t// Undoes compensateScroll and restores all borders/margins\n\tfunction uncompensateScroll(rowEls) {\n\t\trowEls.css({\n\t\t\t'margin-left': '',\n\t\t\t'margin-right': '',\n\t\t\t'border-left-width': '',\n\t\t\t'border-right-width': ''\n\t\t});\n\t}\n\t\n\t\n\t// Make the mouse cursor express that an event is not allowed in the current area\n\tfunction disableCursor() {\n\t\t$('body').addClass('fc-not-allowed');\n\t}\n\t\n\t\n\t// Returns the mouse cursor to its original look\n\tfunction enableCursor() {\n\t\t$('body').removeClass('fc-not-allowed');\n\t}\n\t\n\t\n\t// Given a total available height to fill, have `els` (essentially child rows) expand to accomodate.\n\t// By default, all elements that are shorter than the recommended height are expanded uniformly, not considering\n\t// any other els that are already too tall. if `shouldRedistribute` is on, it considers these tall rows and \n\t// reduces the available height.\n\tfunction distributeHeight(els, availableHeight, shouldRedistribute) {\n\t\n\t\t// *FLOORING NOTE*: we floor in certain places because zoom can give inaccurate floating-point dimensions,\n\t\t// and it is better to be shorter than taller, to avoid creating unnecessary scrollbars.\n\t\n\t\tvar minOffset1 = Math.floor(availableHeight / els.length); // for non-last element\n\t\tvar minOffset2 = Math.floor(availableHeight - minOffset1 * (els.length - 1)); // for last element *FLOORING NOTE*\n\t\tvar flexEls = []; // elements that are allowed to expand. array of DOM nodes\n\t\tvar flexOffsets = []; // amount of vertical space it takes up\n\t\tvar flexHeights = []; // actual css height\n\t\tvar usedHeight = 0;\n\t\n\t\tundistributeHeight(els); // give all elements their natural height\n\t\n\t\t// find elements that are below the recommended height (expandable).\n\t\t// important to query for heights in a single first pass (to avoid reflow oscillation).\n\t\tels.each(function(i, el) {\n\t\t\tvar minOffset = i === els.length - 1 ? minOffset2 : minOffset1;\n\t\t\tvar naturalOffset = $(el).outerHeight(true);\n\t\n\t\t\tif (naturalOffset < minOffset) {\n\t\t\t\tflexEls.push(el);\n\t\t\t\tflexOffsets.push(naturalOffset);\n\t\t\t\tflexHeights.push($(el).height());\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// this element stretches past recommended height (non-expandable). mark the space as occupied.\n\t\t\t\tusedHeight += naturalOffset;\n\t\t\t}\n\t\t});\n\t\n\t\t// readjust the recommended height to only consider the height available to non-maxed-out rows.\n\t\tif (shouldRedistribute) {\n\t\t\tavailableHeight -= usedHeight;\n\t\t\tminOffset1 = Math.floor(availableHeight / flexEls.length);\n\t\t\tminOffset2 = Math.floor(availableHeight - minOffset1 * (flexEls.length - 1)); // *FLOORING NOTE*\n\t\t}\n\t\n\t\t// assign heights to all expandable elements\n\t\t$(flexEls).each(function(i, el) {\n\t\t\tvar minOffset = i === flexEls.length - 1 ? minOffset2 : minOffset1;\n\t\t\tvar naturalOffset = flexOffsets[i];\n\t\t\tvar naturalHeight = flexHeights[i];\n\t\t\tvar newHeight = minOffset - (naturalOffset - naturalHeight); // subtract the margin/padding\n\t\n\t\t\tif (naturalOffset < minOffset) { // we check this again because redistribution might have changed things\n\t\t\t\t$(el).height(newHeight);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t\n\t// Undoes distrubuteHeight, restoring all els to their natural height\n\tfunction undistributeHeight(els) {\n\t\tels.height('');\n\t}\n\t\n\t\n\t// Given `els`, a jQuery set of <td> cells, find the cell with the largest natural width and set the widths of all the\n\t// cells to be that width.\n\t// PREREQUISITE: if you want a cell to take up width, it needs to have a single inner element w/ display:inline\n\tfunction matchCellWidths(els) {\n\t\tvar maxInnerWidth = 0;\n\t\n\t\tels.find('> *').each(function(i, innerEl) {\n\t\t\tvar innerWidth = $(innerEl).outerWidth();\n\t\t\tif (innerWidth > maxInnerWidth) {\n\t\t\t\tmaxInnerWidth = innerWidth;\n\t\t\t}\n\t\t});\n\t\n\t\tmaxInnerWidth++; // sometimes not accurate of width the text needs to stay on one line. insurance\n\t\n\t\tels.width(maxInnerWidth);\n\t\n\t\treturn maxInnerWidth;\n\t}\n\t\n\t\n\t// Turns a container element into a scroller if its contents is taller than the allotted height.\n\t// Returns true if the element is now a scroller, false otherwise.\n\t// NOTE: this method is best because it takes weird zooming dimensions into account\n\tfunction setPotentialScroller(containerEl, height) {\n\t\tcontainerEl.height(height).addClass('fc-scroller');\n\t\n\t\t// are scrollbars needed?\n\t\tif (containerEl[0].scrollHeight - 1 > containerEl[0].clientHeight) { // !!! -1 because IE is often off-by-one :(\n\t\t\treturn true;\n\t\t}\n\t\n\t\tunsetScroller(containerEl); // undo\n\t\treturn false;\n\t}\n\t\n\t\n\t// Takes an element that might have been a scroller, and turns it back into a normal element.\n\tfunction unsetScroller(containerEl) {\n\t\tcontainerEl.height('').removeClass('fc-scroller');\n\t}\n\t\n\t\n\t/* General DOM Utilities\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tfc.getClientRect = getClientRect;\n\tfc.getContentRect = getContentRect;\n\tfc.getScrollbarWidths = getScrollbarWidths;\n\t\n\t\n\t// borrowed from https://github.com/jquery/jquery-ui/blob/1.11.0/ui/core.js#L51\n\tfunction getScrollParent(el) {\n\t\tvar position = el.css('position'),\n\t\t\tscrollParent = el.parents().filter(function() {\n\t\t\t\tvar parent = $(this);\n\t\t\t\treturn (/(auto|scroll)/).test(\n\t\t\t\t\tparent.css('overflow') + parent.css('overflow-y') + parent.css('overflow-x')\n\t\t\t\t);\n\t\t\t}).eq(0);\n\t\n\t\treturn position === 'fixed' || !scrollParent.length ? $(el[0].ownerDocument || document) : scrollParent;\n\t}\n\t\n\t\n\t// Queries the outer bounding area of a jQuery element.\n\t// Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\n\tfunction getOuterRect(el) {\n\t\tvar offset = el.offset();\n\t\n\t\treturn {\n\t\t\tleft: offset.left,\n\t\t\tright: offset.left + el.outerWidth(),\n\t\t\ttop: offset.top,\n\t\t\tbottom: offset.top + el.outerHeight()\n\t\t};\n\t}\n\t\n\t\n\t// Queries the area within the margin/border/scrollbars of a jQuery element. Does not go within the padding.\n\t// Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\n\t// NOTE: should use clientLeft/clientTop, but very unreliable cross-browser.\n\tfunction getClientRect(el) {\n\t\tvar offset = el.offset();\n\t\tvar scrollbarWidths = getScrollbarWidths(el);\n\t\tvar left = offset.left + getCssFloat(el, 'border-left-width') + scrollbarWidths.left;\n\t\tvar top = offset.top + getCssFloat(el, 'border-top-width') + scrollbarWidths.top;\n\t\n\t\treturn {\n\t\t\tleft: left,\n\t\t\tright: left + el[0].clientWidth, // clientWidth includes padding but NOT scrollbars\n\t\t\ttop: top,\n\t\t\tbottom: top + el[0].clientHeight // clientHeight includes padding but NOT scrollbars\n\t\t};\n\t}\n\t\n\t\n\t// Queries the area within the margin/border/padding of a jQuery element. Assumed not to have scrollbars.\n\t// Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\n\tfunction getContentRect(el) {\n\t\tvar offset = el.offset(); // just outside of border, margin not included\n\t\tvar left = offset.left + getCssFloat(el, 'border-left-width') + getCssFloat(el, 'padding-left');\n\t\tvar top = offset.top + getCssFloat(el, 'border-top-width') + getCssFloat(el, 'padding-top');\n\t\n\t\treturn {\n\t\t\tleft: left,\n\t\t\tright: left + el.width(),\n\t\t\ttop: top,\n\t\t\tbottom: top + el.height()\n\t\t};\n\t}\n\t\n\t\n\t// Returns the computed left/right/top/bottom scrollbar widths for the given jQuery element.\n\t// NOTE: should use clientLeft/clientTop, but very unreliable cross-browser.\n\tfunction getScrollbarWidths(el) {\n\t\tvar leftRightWidth = el.innerWidth() - el[0].clientWidth; // the paddings cancel out, leaving the scrollbars\n\t\tvar widths = {\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t\tbottom: el.innerHeight() - el[0].clientHeight // the paddings cancel out, leaving the bottom scrollbar\n\t\t};\n\t\n\t\tif (getIsLeftRtlScrollbars() && el.css('direction') == 'rtl') { // is the scrollbar on the left side?\n\t\t\twidths.left = leftRightWidth;\n\t\t}\n\t\telse {\n\t\t\twidths.right = leftRightWidth;\n\t\t}\n\t\n\t\treturn widths;\n\t}\n\t\n\t\n\t// Logic for determining if, when the element is right-to-left, the scrollbar appears on the left side\n\t\n\tvar _isLeftRtlScrollbars = null;\n\t\n\tfunction getIsLeftRtlScrollbars() { // responsible for caching the computation\n\t\tif (_isLeftRtlScrollbars === null) {\n\t\t\t_isLeftRtlScrollbars = computeIsLeftRtlScrollbars();\n\t\t}\n\t\treturn _isLeftRtlScrollbars;\n\t}\n\t\n\tfunction computeIsLeftRtlScrollbars() { // creates an offscreen test element, then removes it\n\t\tvar el = $('<div><div/></div>')\n\t\t\t.css({\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: -1000,\n\t\t\t\tleft: 0,\n\t\t\t\tborder: 0,\n\t\t\t\tpadding: 0,\n\t\t\t\toverflow: 'scroll',\n\t\t\t\tdirection: 'rtl'\n\t\t\t})\n\t\t\t.appendTo('body');\n\t\tvar innerEl = el.children();\n\t\tvar res = innerEl.offset().left > el.offset().left; // is the inner div shifted to accommodate a left scrollbar?\n\t\tel.remove();\n\t\treturn res;\n\t}\n\t\n\t\n\t// Retrieves a jQuery element's computed CSS value as a floating-point number.\n\t// If the queried value is non-numeric (ex: IE can return \"medium\" for border width), will just return zero.\n\tfunction getCssFloat(el, prop) {\n\t\treturn parseFloat(el.css(prop)) || 0;\n\t}\n\t\n\t\n\t// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\n\tfunction isPrimaryMouseButton(ev) {\n\t\treturn ev.which == 1 && !ev.ctrlKey;\n\t}\n\t\n\t\n\t/* Geometry\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tfc.intersectRects = intersectRects;\n\t\n\t// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\n\tfunction intersectRects(rect1, rect2) {\n\t\tvar res = {\n\t\t\tleft: Math.max(rect1.left, rect2.left),\n\t\t\tright: Math.min(rect1.right, rect2.right),\n\t\t\ttop: Math.max(rect1.top, rect2.top),\n\t\t\tbottom: Math.min(rect1.bottom, rect2.bottom)\n\t\t};\n\t\n\t\tif (res.left < res.right && res.top < res.bottom) {\n\t\t\treturn res;\n\t\t}\n\t\treturn false;\n\t}\n\t\n\t\n\t// Returns a new point that will have been moved to reside within the given rectangle\n\tfunction constrainPoint(point, rect) {\n\t\treturn {\n\t\t\tleft: Math.min(Math.max(point.left, rect.left), rect.right),\n\t\t\ttop: Math.min(Math.max(point.top, rect.top), rect.bottom)\n\t\t};\n\t}\n\t\n\t\n\t// Returns a point that is the center of the given rectangle\n\tfunction getRectCenter(rect) {\n\t\treturn {\n\t\t\tleft: (rect.left + rect.right) / 2,\n\t\t\ttop: (rect.top + rect.bottom) / 2\n\t\t};\n\t}\n\t\n\t\n\t// Subtracts point2's coordinates from point1's coordinates, returning a delta\n\tfunction diffPoints(point1, point2) {\n\t\treturn {\n\t\t\tleft: point1.left - point2.left,\n\t\t\ttop: point1.top - point2.top\n\t\t};\n\t}\n\t\n\t\n\t/* Object Ordering by Field\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tfc.parseFieldSpecs = parseFieldSpecs;\n\tfc.compareByFieldSpecs = compareByFieldSpecs;\n\tfc.compareByFieldSpec = compareByFieldSpec;\n\tfc.flexibleCompare = flexibleCompare;\n\t\n\t\n\tfunction parseFieldSpecs(input) {\n\t\tvar specs = [];\n\t\tvar tokens = [];\n\t\tvar i, token;\n\t\n\t\tif (typeof input === 'string') {\n\t\t\ttokens = input.split(/\\s*,\\s*/);\n\t\t}\n\t\telse if (typeof input === 'function') {\n\t\t\ttokens = [ input ];\n\t\t}\n\t\telse if ($.isArray(input)) {\n\t\t\ttokens = input;\n\t\t}\n\t\n\t\tfor (i = 0; i < tokens.length; i++) {\n\t\t\ttoken = tokens[i];\n\t\n\t\t\tif (typeof token === 'string') {\n\t\t\t\tspecs.push(\n\t\t\t\t\ttoken.charAt(0) == '-' ?\n\t\t\t\t\t\t{ field: token.substring(1), order: -1 } :\n\t\t\t\t\t\t{ field: token, order: 1 }\n\t\t\t\t);\n\t\t\t}\n\t\t\telse if (typeof token === 'function') {\n\t\t\t\tspecs.push({ func: token });\n\t\t\t}\n\t\t}\n\t\n\t\treturn specs;\n\t}\n\t\n\t\n\tfunction compareByFieldSpecs(obj1, obj2, fieldSpecs) {\n\t\tvar i;\n\t\tvar cmp;\n\t\n\t\tfor (i = 0; i < fieldSpecs.length; i++) {\n\t\t\tcmp = compareByFieldSpec(obj1, obj2, fieldSpecs[i]);\n\t\t\tif (cmp) {\n\t\t\t\treturn cmp;\n\t\t\t}\n\t\t}\n\t\n\t\treturn 0;\n\t}\n\t\n\t\n\tfunction compareByFieldSpec(obj1, obj2, fieldSpec) {\n\t\tif (fieldSpec.func) {\n\t\t\treturn fieldSpec.func(obj1, obj2);\n\t\t}\n\t\treturn flexibleCompare(obj1[fieldSpec.field], obj2[fieldSpec.field]) *\n\t\t\t(fieldSpec.order || 1);\n\t}\n\t\n\t\n\tfunction flexibleCompare(a, b) {\n\t\tif (!a && !b) {\n\t\t\treturn 0;\n\t\t}\n\t\tif (b == null) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (a == null) {\n\t\t\treturn 1;\n\t\t}\n\t\tif ($.type(a) === 'string' || $.type(b) === 'string') {\n\t\t\treturn String(a).localeCompare(String(b));\n\t\t}\n\t\treturn a - b;\n\t}\n\t\n\t\n\t/* FullCalendar-specific Misc Utilities\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t// Creates a basic segment with the intersection of the two ranges. Returns undefined if no intersection.\n\t// Expects all dates to be normalized to the same timezone beforehand.\n\t// TODO: move to date section?\n\tfunction intersectionToSeg(subjectRange, constraintRange) {\n\t\tvar subjectStart = subjectRange.start;\n\t\tvar subjectEnd = subjectRange.end;\n\t\tvar constraintStart = constraintRange.start;\n\t\tvar constraintEnd = constraintRange.end;\n\t\tvar segStart, segEnd;\n\t\tvar isStart, isEnd;\n\t\n\t\tif (subjectEnd > constraintStart && subjectStart < constraintEnd) { // in bounds at all?\n\t\n\t\t\tif (subjectStart >= constraintStart) {\n\t\t\t\tsegStart = subjectStart.clone();\n\t\t\t\tisStart = true;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsegStart = constraintStart.clone();\n\t\t\t\tisStart =  false;\n\t\t\t}\n\t\n\t\t\tif (subjectEnd <= constraintEnd) {\n\t\t\t\tsegEnd = subjectEnd.clone();\n\t\t\t\tisEnd = true;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsegEnd = constraintEnd.clone();\n\t\t\t\tisEnd = false;\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\tstart: segStart,\n\t\t\t\tend: segEnd,\n\t\t\t\tisStart: isStart,\n\t\t\t\tisEnd: isEnd\n\t\t\t};\n\t\t}\n\t}\n\t\n\t\n\t/* Date Utilities\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tfc.computeIntervalUnit = computeIntervalUnit;\n\tfc.divideRangeByDuration = divideRangeByDuration;\n\tfc.divideDurationByDuration = divideDurationByDuration;\n\tfc.multiplyDuration = multiplyDuration;\n\tfc.durationHasTime = durationHasTime;\n\t\n\tvar dayIDs = [ 'sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat' ];\n\tvar intervalUnits = [ 'year', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond' ];\n\t\n\t\n\t// Diffs the two moments into a Duration where full-days are recorded first, then the remaining time.\n\t// Moments will have their timezones normalized.\n\tfunction diffDayTime(a, b) {\n\t\treturn moment.duration({\n\t\t\tdays: a.clone().stripTime().diff(b.clone().stripTime(), 'days'),\n\t\t\tms: a.time() - b.time() // time-of-day from day start. disregards timezone\n\t\t});\n\t}\n\t\n\t\n\t// Diffs the two moments via their start-of-day (regardless of timezone). Produces whole-day durations.\n\tfunction diffDay(a, b) {\n\t\treturn moment.duration({\n\t\t\tdays: a.clone().stripTime().diff(b.clone().stripTime(), 'days')\n\t\t});\n\t}\n\t\n\t\n\t// Diffs two moments, producing a duration, made of a whole-unit-increment of the given unit. Uses rounding.\n\tfunction diffByUnit(a, b, unit) {\n\t\treturn moment.duration(\n\t\t\tMath.round(a.diff(b, unit, true)), // returnFloat=true\n\t\t\tunit\n\t\t);\n\t}\n\t\n\t\n\t// Computes the unit name of the largest whole-unit period of time.\n\t// For example, 48 hours will be \"days\" whereas 49 hours will be \"hours\".\n\t// Accepts start/end, a range object, or an original duration object.\n\tfunction computeIntervalUnit(start, end) {\n\t\tvar i, unit;\n\t\tvar val;\n\t\n\t\tfor (i = 0; i < intervalUnits.length; i++) {\n\t\t\tunit = intervalUnits[i];\n\t\t\tval = computeRangeAs(unit, start, end);\n\t\n\t\t\tif (val >= 1 && isInt(val)) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\n\t\treturn unit; // will be \"milliseconds\" if nothing else matches\n\t}\n\t\n\t\n\t// Computes the number of units (like \"hours\") in the given range.\n\t// Range can be a {start,end} object, separate start/end args, or a Duration.\n\t// Results are based on Moment's .as() and .diff() methods, so results can depend on internal handling\n\t// of month-diffing logic (which tends to vary from version to version).\n\tfunction computeRangeAs(unit, start, end) {\n\t\n\t\tif (end != null) { // given start, end\n\t\t\treturn end.diff(start, unit, true);\n\t\t}\n\t\telse if (moment.isDuration(start)) { // given duration\n\t\t\treturn start.as(unit);\n\t\t}\n\t\telse { // given { start, end } range object\n\t\t\treturn start.end.diff(start.start, unit, true);\n\t\t}\n\t}\n\t\n\t\n\t// Intelligently divides a range (specified by a start/end params) by a duration\n\tfunction divideRangeByDuration(start, end, dur) {\n\t\tvar months;\n\t\n\t\tif (durationHasTime(dur)) {\n\t\t\treturn (end - start) / dur;\n\t\t}\n\t\tmonths = dur.asMonths();\n\t\tif (Math.abs(months) >= 1 && isInt(months)) {\n\t\t\treturn end.diff(start, 'months', true) / months;\n\t\t}\n\t\treturn end.diff(start, 'days', true) / dur.asDays();\n\t}\n\t\n\t\n\t// Intelligently divides one duration by another\n\tfunction divideDurationByDuration(dur1, dur2) {\n\t\tvar months1, months2;\n\t\n\t\tif (durationHasTime(dur1) || durationHasTime(dur2)) {\n\t\t\treturn dur1 / dur2;\n\t\t}\n\t\tmonths1 = dur1.asMonths();\n\t\tmonths2 = dur2.asMonths();\n\t\tif (\n\t\t\tMath.abs(months1) >= 1 && isInt(months1) &&\n\t\t\tMath.abs(months2) >= 1 && isInt(months2)\n\t\t) {\n\t\t\treturn months1 / months2;\n\t\t}\n\t\treturn dur1.asDays() / dur2.asDays();\n\t}\n\t\n\t\n\t// Intelligently multiplies a duration by a number\n\tfunction multiplyDuration(dur, n) {\n\t\tvar months;\n\t\n\t\tif (durationHasTime(dur)) {\n\t\t\treturn moment.duration(dur * n);\n\t\t}\n\t\tmonths = dur.asMonths();\n\t\tif (Math.abs(months) >= 1 && isInt(months)) {\n\t\t\treturn moment.duration({ months: months * n });\n\t\t}\n\t\treturn moment.duration({ days: dur.asDays() * n });\n\t}\n\t\n\t\n\t// Returns a boolean about whether the given duration has any time parts (hours/minutes/seconds/ms)\n\tfunction durationHasTime(dur) {\n\t\treturn Boolean(dur.hours() || dur.minutes() || dur.seconds() || dur.milliseconds());\n\t}\n\t\n\t\n\tfunction isNativeDate(input) {\n\t\treturn  Object.prototype.toString.call(input) === '[object Date]' || input instanceof Date;\n\t}\n\t\n\t\n\t// Returns a boolean about whether the given input is a time string, like \"06:40:00\" or \"06:00\"\n\tfunction isTimeString(str) {\n\t\treturn /^\\d+\\:\\d+(?:\\:\\d+\\.?(?:\\d{3})?)?$/.test(str);\n\t}\n\t\n\t\n\t/* Logging and Debug\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tfc.log = function() {\n\t\tvar console = window.console;\n\t\n\t\tif (console && console.log) {\n\t\t\treturn console.log.apply(console, arguments);\n\t\t}\n\t};\n\t\n\tfc.warn = function() {\n\t\tvar console = window.console;\n\t\n\t\tif (console && console.warn) {\n\t\t\treturn console.warn.apply(console, arguments);\n\t\t}\n\t\telse {\n\t\t\treturn fc.log.apply(fc, arguments);\n\t\t}\n\t};\n\t\n\t\n\t/* General Utilities\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tvar hasOwnPropMethod = {}.hasOwnProperty;\n\t\n\t\n\t// Merges an array of objects into a single object.\n\t// The second argument allows for an array of property names who's object values will be merged together.\n\tfunction mergeProps(propObjs, complexProps) {\n\t\tvar dest = {};\n\t\tvar i, name;\n\t\tvar complexObjs;\n\t\tvar j, val;\n\t\tvar props;\n\t\n\t\tif (complexProps) {\n\t\t\tfor (i = 0; i < complexProps.length; i++) {\n\t\t\t\tname = complexProps[i];\n\t\t\t\tcomplexObjs = [];\n\t\n\t\t\t\t// collect the trailing object values, stopping when a non-object is discovered\n\t\t\t\tfor (j = propObjs.length - 1; j >= 0; j--) {\n\t\t\t\t\tval = propObjs[j][name];\n\t\n\t\t\t\t\tif (typeof val === 'object') {\n\t\t\t\t\t\tcomplexObjs.unshift(val);\n\t\t\t\t\t}\n\t\t\t\t\telse if (val !== undefined) {\n\t\t\t\t\t\tdest[name] = val; // if there were no objects, this value will be used\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t// if the trailing values were objects, use the merged value\n\t\t\t\tif (complexObjs.length) {\n\t\t\t\t\tdest[name] = mergeProps(complexObjs);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t// copy values into the destination, going from last to first\n\t\tfor (i = propObjs.length - 1; i >= 0; i--) {\n\t\t\tprops = propObjs[i];\n\t\n\t\t\tfor (name in props) {\n\t\t\t\tif (!(name in dest)) { // if already assigned by previous props or complex props, don't reassign\n\t\t\t\t\tdest[name] = props[name];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn dest;\n\t}\n\t\n\t\n\t// Create an object that has the given prototype. Just like Object.create\n\tfunction createObject(proto) {\n\t\tvar f = function() {};\n\t\tf.prototype = proto;\n\t\treturn new f();\n\t}\n\t\n\t\n\tfunction copyOwnProps(src, dest) {\n\t\tfor (var name in src) {\n\t\t\tif (hasOwnProp(src, name)) {\n\t\t\t\tdest[name] = src[name];\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t// Copies over certain methods with the same names as Object.prototype methods. Overcomes an IE<=8 bug:\n\t// https://developer.mozilla.org/en-US/docs/ECMAScript_DontEnum_attribute#JScript_DontEnum_Bug\n\tfunction copyNativeMethods(src, dest) {\n\t\tvar names = [ 'constructor', 'toString', 'valueOf' ];\n\t\tvar i, name;\n\t\n\t\tfor (i = 0; i < names.length; i++) {\n\t\t\tname = names[i];\n\t\n\t\t\tif (src[name] !== Object.prototype[name]) {\n\t\t\t\tdest[name] = src[name];\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\tfunction hasOwnProp(obj, name) {\n\t\treturn hasOwnPropMethod.call(obj, name);\n\t}\n\t\n\t\n\t// Is the given value a non-object non-function value?\n\tfunction isAtomic(val) {\n\t\treturn /undefined|null|boolean|number|string/.test($.type(val));\n\t}\n\t\n\t\n\tfunction applyAll(functions, thisObj, args) {\n\t\tif ($.isFunction(functions)) {\n\t\t\tfunctions = [ functions ];\n\t\t}\n\t\tif (functions) {\n\t\t\tvar i;\n\t\t\tvar ret;\n\t\t\tfor (i=0; i<functions.length; i++) {\n\t\t\t\tret = functions[i].apply(thisObj, args) || ret;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t}\n\t\n\t\n\tfunction firstDefined() {\n\t\tfor (var i=0; i<arguments.length; i++) {\n\t\t\tif (arguments[i] !== undefined) {\n\t\t\t\treturn arguments[i];\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\tfunction htmlEscape(s) {\n\t\treturn (s + '').replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/'/g, '&#039;')\n\t\t\t.replace(/\"/g, '&quot;')\n\t\t\t.replace(/\\n/g, '<br />');\n\t}\n\t\n\t\n\tfunction stripHtmlEntities(text) {\n\t\treturn text.replace(/&.*?;/g, '');\n\t}\n\t\n\t\n\t// Given a hash of CSS properties, returns a string of CSS.\n\t// Uses property names as-is (no camel-case conversion). Will not make statements for null/undefined values.\n\tfunction cssToStr(cssProps) {\n\t\tvar statements = [];\n\t\n\t\t$.each(cssProps, function(name, val) {\n\t\t\tif (val != null) {\n\t\t\t\tstatements.push(name + ':' + val);\n\t\t\t}\n\t\t});\n\t\n\t\treturn statements.join(';');\n\t}\n\t\n\t\n\tfunction capitaliseFirstLetter(str) {\n\t\treturn str.charAt(0).toUpperCase() + str.slice(1);\n\t}\n\t\n\t\n\tfunction compareNumbers(a, b) { // for .sort()\n\t\treturn a - b;\n\t}\n\t\n\t\n\tfunction isInt(n) {\n\t\treturn n % 1 === 0;\n\t}\n\t\n\t\n\t// Returns a method bound to the given object context.\n\t// Just like one of the jQuery.proxy signatures, but without the undesired behavior of treating the same method with\n\t// different contexts as identical when binding/unbinding events.\n\tfunction proxy(obj, methodName) {\n\t\tvar method = obj[methodName];\n\t\n\t\treturn function() {\n\t\t\treturn method.apply(obj, arguments);\n\t\t};\n\t}\n\t\n\t\n\t// Returns a function, that, as long as it continues to be invoked, will not\n\t// be triggered. The function will be called after it stops being called for\n\t// N milliseconds.\n\t// https://github.com/jashkenas/underscore/blob/1.6.0/underscore.js#L714\n\tfunction debounce(func, wait) {\n\t\tvar timeoutId;\n\t\tvar args;\n\t\tvar context;\n\t\tvar timestamp; // of most recent call\n\t\tvar later = function() {\n\t\t\tvar last = +new Date() - timestamp;\n\t\t\tif (last < wait && last > 0) {\n\t\t\t\ttimeoutId = setTimeout(later, wait - last);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttimeoutId = null;\n\t\t\t\tfunc.apply(context, args);\n\t\t\t\tif (!timeoutId) {\n\t\t\t\t\tcontext = args = null;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\treturn function() {\n\t\t\tcontext = this;\n\t\t\targs = arguments;\n\t\t\ttimestamp = +new Date();\n\t\t\tif (!timeoutId) {\n\t\t\t\ttimeoutId = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t}\n\t\n\t;;\n\t\n\tvar ambigDateOfMonthRegex = /^\\s*\\d{4}-\\d\\d$/;\n\tvar ambigTimeOrZoneRegex =\n\t\t/^\\s*\\d{4}-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?)?$/;\n\tvar newMomentProto = moment.fn; // where we will attach our new methods\n\tvar oldMomentProto = $.extend({}, newMomentProto); // copy of original moment methods\n\tvar allowValueOptimization;\n\tvar setUTCValues; // function defined below\n\tvar setLocalValues; // function defined below\n\t\n\t\n\t// Creating\n\t// -------------------------------------------------------------------------------------------------\n\t\n\t// Creates a new moment, similar to the vanilla moment(...) constructor, but with\n\t// extra features (ambiguous time, enhanced formatting). When given an existing moment,\n\t// it will function as a clone (and retain the zone of the moment). Anything else will\n\t// result in a moment in the local zone.\n\tfc.moment = function() {\n\t\treturn makeMoment(arguments);\n\t};\n\t\n\t// Sames as fc.moment, but forces the resulting moment to be in the UTC timezone.\n\tfc.moment.utc = function() {\n\t\tvar mom = makeMoment(arguments, true);\n\t\n\t\t// Force it into UTC because makeMoment doesn't guarantee it\n\t\t// (if given a pre-existing moment for example)\n\t\tif (mom.hasTime()) { // don't give ambiguously-timed moments a UTC zone\n\t\t\tmom.utc();\n\t\t}\n\t\n\t\treturn mom;\n\t};\n\t\n\t// Same as fc.moment, but when given an ISO8601 string, the timezone offset is preserved.\n\t// ISO8601 strings with no timezone offset will become ambiguously zoned.\n\tfc.moment.parseZone = function() {\n\t\treturn makeMoment(arguments, true, true);\n\t};\n\t\n\t// Builds an enhanced moment from args. When given an existing moment, it clones. When given a\n\t// native Date, or called with no arguments (the current time), the resulting moment will be local.\n\t// Anything else needs to be \"parsed\" (a string or an array), and will be affected by:\n\t//    parseAsUTC - if there is no zone information, should we parse the input in UTC?\n\t//    parseZone - if there is zone information, should we force the zone of the moment?\n\tfunction makeMoment(args, parseAsUTC, parseZone) {\n\t\tvar input = args[0];\n\t\tvar isSingleString = args.length == 1 && typeof input === 'string';\n\t\tvar isAmbigTime;\n\t\tvar isAmbigZone;\n\t\tvar ambigMatch;\n\t\tvar mom;\n\t\n\t\tif (moment.isMoment(input)) {\n\t\t\tmom = moment.apply(null, args); // clone it\n\t\t\ttransferAmbigs(input, mom); // the ambig flags weren't transfered with the clone\n\t\t}\n\t\telse if (isNativeDate(input) || input === undefined) {\n\t\t\tmom = moment.apply(null, args); // will be local\n\t\t}\n\t\telse { // \"parsing\" is required\n\t\t\tisAmbigTime = false;\n\t\t\tisAmbigZone = false;\n\t\n\t\t\tif (isSingleString) {\n\t\t\t\tif (ambigDateOfMonthRegex.test(input)) {\n\t\t\t\t\t// accept strings like '2014-05', but convert to the first of the month\n\t\t\t\t\tinput += '-01';\n\t\t\t\t\targs = [ input ]; // for when we pass it on to moment's constructor\n\t\t\t\t\tisAmbigTime = true;\n\t\t\t\t\tisAmbigZone = true;\n\t\t\t\t}\n\t\t\t\telse if ((ambigMatch = ambigTimeOrZoneRegex.exec(input))) {\n\t\t\t\t\tisAmbigTime = !ambigMatch[5]; // no time part?\n\t\t\t\t\tisAmbigZone = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ($.isArray(input)) {\n\t\t\t\t// arrays have no timezone information, so assume ambiguous zone\n\t\t\t\tisAmbigZone = true;\n\t\t\t}\n\t\t\t// otherwise, probably a string with a format\n\t\n\t\t\tif (parseAsUTC || isAmbigTime) {\n\t\t\t\tmom = moment.utc.apply(moment, args);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmom = moment.apply(null, args);\n\t\t\t}\n\t\n\t\t\tif (isAmbigTime) {\n\t\t\t\tmom._ambigTime = true;\n\t\t\t\tmom._ambigZone = true; // ambiguous time always means ambiguous zone\n\t\t\t}\n\t\t\telse if (parseZone) { // let's record the inputted zone somehow\n\t\t\t\tif (isAmbigZone) {\n\t\t\t\t\tmom._ambigZone = true;\n\t\t\t\t}\n\t\t\t\telse if (isSingleString) {\n\t\t\t\t\tif (mom.utcOffset) {\n\t\t\t\t\t\tmom.utcOffset(input); // if not a valid zone, will assign UTC\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tmom.zone(input); // for moment-pre-2.9\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tmom._fullCalendar = true; // flag for extended functionality\n\t\n\t\treturn mom;\n\t}\n\t\n\t\n\t// A clone method that works with the flags related to our enhanced functionality.\n\t// In the future, use moment.momentProperties\n\tnewMomentProto.clone = function() {\n\t\tvar mom = oldMomentProto.clone.apply(this, arguments);\n\t\n\t\t// these flags weren't transfered with the clone\n\t\ttransferAmbigs(this, mom);\n\t\tif (this._fullCalendar) {\n\t\t\tmom._fullCalendar = true;\n\t\t}\n\t\n\t\treturn mom;\n\t};\n\t\n\t\n\t// Week Number\n\t// -------------------------------------------------------------------------------------------------\n\t\n\t\n\t// Returns the week number, considering the locale's custom week number calcuation\n\t// `weeks` is an alias for `week`\n\tnewMomentProto.week = newMomentProto.weeks = function(input) {\n\t\tvar weekCalc = (this._locale || this._lang) // works pre-moment-2.8\n\t\t\t._fullCalendar_weekCalc;\n\t\n\t\tif (input == null && typeof weekCalc === 'function') { // custom function only works for getter\n\t\t\treturn weekCalc(this);\n\t\t}\n\t\telse if (weekCalc === 'ISO') {\n\t\t\treturn oldMomentProto.isoWeek.apply(this, arguments); // ISO getter/setter\n\t\t}\n\t\n\t\treturn oldMomentProto.week.apply(this, arguments); // local getter/setter\n\t};\n\t\n\t\n\t// Time-of-day\n\t// -------------------------------------------------------------------------------------------------\n\t\n\t// GETTER\n\t// Returns a Duration with the hours/minutes/seconds/ms values of the moment.\n\t// If the moment has an ambiguous time, a duration of 00:00 will be returned.\n\t//\n\t// SETTER\n\t// You can supply a Duration, a Moment, or a Duration-like argument.\n\t// When setting the time, and the moment has an ambiguous time, it then becomes unambiguous.\n\tnewMomentProto.time = function(time) {\n\t\n\t\t// Fallback to the original method (if there is one) if this moment wasn't created via FullCalendar.\n\t\t// `time` is a generic enough method name where this precaution is necessary to avoid collisions w/ other plugins.\n\t\tif (!this._fullCalendar) {\n\t\t\treturn oldMomentProto.time.apply(this, arguments);\n\t\t}\n\t\n\t\tif (time == null) { // getter\n\t\t\treturn moment.duration({\n\t\t\t\thours: this.hours(),\n\t\t\t\tminutes: this.minutes(),\n\t\t\t\tseconds: this.seconds(),\n\t\t\t\tmilliseconds: this.milliseconds()\n\t\t\t});\n\t\t}\n\t\telse { // setter\n\t\n\t\t\tthis._ambigTime = false; // mark that the moment now has a time\n\t\n\t\t\tif (!moment.isDuration(time) && !moment.isMoment(time)) {\n\t\t\t\ttime = moment.duration(time);\n\t\t\t}\n\t\n\t\t\t// The day value should cause overflow (so 24 hours becomes 00:00:00 of next day).\n\t\t\t// Only for Duration times, not Moment times.\n\t\t\tvar dayHours = 0;\n\t\t\tif (moment.isDuration(time)) {\n\t\t\t\tdayHours = Math.floor(time.asDays()) * 24;\n\t\t\t}\n\t\n\t\t\t// We need to set the individual fields.\n\t\t\t// Can't use startOf('day') then add duration. In case of DST at start of day.\n\t\t\treturn this.hours(dayHours + time.hours())\n\t\t\t\t.minutes(time.minutes())\n\t\t\t\t.seconds(time.seconds())\n\t\t\t\t.milliseconds(time.milliseconds());\n\t\t}\n\t};\n\t\n\t// Converts the moment to UTC, stripping out its time-of-day and timezone offset,\n\t// but preserving its YMD. A moment with a stripped time will display no time\n\t// nor timezone offset when .format() is called.\n\tnewMomentProto.stripTime = function() {\n\t\tvar a;\n\t\n\t\tif (!this._ambigTime) {\n\t\n\t\t\t// get the values before any conversion happens\n\t\t\ta = this.toArray(); // array of y/m/d/h/m/s/ms\n\t\n\t\t\t// TODO: use keepLocalTime in the future\n\t\t\tthis.utc(); // set the internal UTC flag (will clear the ambig flags)\n\t\t\tsetUTCValues(this, a.slice(0, 3)); // set the year/month/date. time will be zero\n\t\n\t\t\t// Mark the time as ambiguous. This needs to happen after the .utc() call, which might call .utcOffset(),\n\t\t\t// which clears all ambig flags. Same with setUTCValues with moment-timezone.\n\t\t\tthis._ambigTime = true;\n\t\t\tthis._ambigZone = true; // if ambiguous time, also ambiguous timezone offset\n\t\t}\n\t\n\t\treturn this; // for chaining\n\t};\n\t\n\t// Returns if the moment has a non-ambiguous time (boolean)\n\tnewMomentProto.hasTime = function() {\n\t\treturn !this._ambigTime;\n\t};\n\t\n\t\n\t// Timezone\n\t// -------------------------------------------------------------------------------------------------\n\t\n\t// Converts the moment to UTC, stripping out its timezone offset, but preserving its\n\t// YMD and time-of-day. A moment with a stripped timezone offset will display no\n\t// timezone offset when .format() is called.\n\t// TODO: look into Moment's keepLocalTime functionality\n\tnewMomentProto.stripZone = function() {\n\t\tvar a, wasAmbigTime;\n\t\n\t\tif (!this._ambigZone) {\n\t\n\t\t\t// get the values before any conversion happens\n\t\t\ta = this.toArray(); // array of y/m/d/h/m/s/ms\n\t\t\twasAmbigTime = this._ambigTime;\n\t\n\t\t\tthis.utc(); // set the internal UTC flag (might clear the ambig flags, depending on Moment internals)\n\t\t\tsetUTCValues(this, a); // will set the year/month/date/hours/minutes/seconds/ms\n\t\n\t\t\t// the above call to .utc()/.utcOffset() unfortunately might clear the ambig flags, so restore\n\t\t\tthis._ambigTime = wasAmbigTime || false;\n\t\n\t\t\t// Mark the zone as ambiguous. This needs to happen after the .utc() call, which might call .utcOffset(),\n\t\t\t// which clears the ambig flags. Same with setUTCValues with moment-timezone.\n\t\t\tthis._ambigZone = true;\n\t\t}\n\t\n\t\treturn this; // for chaining\n\t};\n\t\n\t// Returns of the moment has a non-ambiguous timezone offset (boolean)\n\tnewMomentProto.hasZone = function() {\n\t\treturn !this._ambigZone;\n\t};\n\t\n\t\n\t// this method implicitly marks a zone\n\tnewMomentProto.local = function() {\n\t\tvar a = this.toArray(); // year,month,date,hours,minutes,seconds,ms as an array\n\t\tvar wasAmbigZone = this._ambigZone;\n\t\n\t\toldMomentProto.local.apply(this, arguments);\n\t\n\t\t// ensure non-ambiguous\n\t\t// this probably already happened via local() -> utcOffset(), but don't rely on Moment's internals\n\t\tthis._ambigTime = false;\n\t\tthis._ambigZone = false;\n\t\n\t\tif (wasAmbigZone) {\n\t\t\t// If the moment was ambiguously zoned, the date fields were stored as UTC.\n\t\t\t// We want to preserve these, but in local time.\n\t\t\t// TODO: look into Moment's keepLocalTime functionality\n\t\t\tsetLocalValues(this, a);\n\t\t}\n\t\n\t\treturn this; // for chaining\n\t};\n\t\n\t\n\t// implicitly marks a zone\n\tnewMomentProto.utc = function() {\n\t\toldMomentProto.utc.apply(this, arguments);\n\t\n\t\t// ensure non-ambiguous\n\t\t// this probably already happened via utc() -> utcOffset(), but don't rely on Moment's internals\n\t\tthis._ambigTime = false;\n\t\tthis._ambigZone = false;\n\t\n\t\treturn this;\n\t};\n\t\n\t\n\t// methods for arbitrarily manipulating timezone offset.\n\t// should clear time/zone ambiguity when called.\n\t$.each([\n\t\t'zone', // only in moment-pre-2.9. deprecated afterwards\n\t\t'utcOffset'\n\t], function(i, name) {\n\t\tif (oldMomentProto[name]) { // original method exists?\n\t\n\t\t\t// this method implicitly marks a zone (will probably get called upon .utc() and .local())\n\t\t\tnewMomentProto[name] = function(tzo) {\n\t\n\t\t\t\tif (tzo != null) { // setter\n\t\t\t\t\t// these assignments needs to happen before the original zone method is called.\n\t\t\t\t\t// I forget why, something to do with a browser crash.\n\t\t\t\t\tthis._ambigTime = false;\n\t\t\t\t\tthis._ambigZone = false;\n\t\t\t\t}\n\t\n\t\t\t\treturn oldMomentProto[name].apply(this, arguments);\n\t\t\t};\n\t\t}\n\t});\n\t\n\t\n\t// Formatting\n\t// -------------------------------------------------------------------------------------------------\n\t\n\tnewMomentProto.format = function() {\n\t\tif (this._fullCalendar && arguments[0]) { // an enhanced moment? and a format string provided?\n\t\t\treturn formatDate(this, arguments[0]); // our extended formatting\n\t\t}\n\t\tif (this._ambigTime) {\n\t\t\treturn oldMomentFormat(this, 'YYYY-MM-DD');\n\t\t}\n\t\tif (this._ambigZone) {\n\t\t\treturn oldMomentFormat(this, 'YYYY-MM-DD[T]HH:mm:ss');\n\t\t}\n\t\treturn oldMomentProto.format.apply(this, arguments);\n\t};\n\t\n\tnewMomentProto.toISOString = function() {\n\t\tif (this._ambigTime) {\n\t\t\treturn oldMomentFormat(this, 'YYYY-MM-DD');\n\t\t}\n\t\tif (this._ambigZone) {\n\t\t\treturn oldMomentFormat(this, 'YYYY-MM-DD[T]HH:mm:ss');\n\t\t}\n\t\treturn oldMomentProto.toISOString.apply(this, arguments);\n\t};\n\t\n\t\n\t// Querying\n\t// -------------------------------------------------------------------------------------------------\n\t\n\t// Is the moment within the specified range? `end` is exclusive.\n\t// FYI, this method is not a standard Moment method, so always do our enhanced logic.\n\tnewMomentProto.isWithin = function(start, end) {\n\t\tvar a = commonlyAmbiguate([ this, start, end ]);\n\t\treturn a[0] >= a[1] && a[0] < a[2];\n\t};\n\t\n\t// When isSame is called with units, timezone ambiguity is normalized before the comparison happens.\n\t// If no units specified, the two moments must be identically the same, with matching ambig flags.\n\tnewMomentProto.isSame = function(input, units) {\n\t\tvar a;\n\t\n\t\t// only do custom logic if this is an enhanced moment\n\t\tif (!this._fullCalendar) {\n\t\t\treturn oldMomentProto.isSame.apply(this, arguments);\n\t\t}\n\t\n\t\tif (units) {\n\t\t\ta = commonlyAmbiguate([ this, input ], true); // normalize timezones but don't erase times\n\t\t\treturn oldMomentProto.isSame.call(a[0], a[1], units);\n\t\t}\n\t\telse {\n\t\t\tinput = fc.moment.parseZone(input); // normalize input\n\t\t\treturn oldMomentProto.isSame.call(this, input) &&\n\t\t\t\tBoolean(this._ambigTime) === Boolean(input._ambigTime) &&\n\t\t\t\tBoolean(this._ambigZone) === Boolean(input._ambigZone);\n\t\t}\n\t};\n\t\n\t// Make these query methods work with ambiguous moments\n\t$.each([\n\t\t'isBefore',\n\t\t'isAfter'\n\t], function(i, methodName) {\n\t\tnewMomentProto[methodName] = function(input, units) {\n\t\t\tvar a;\n\t\n\t\t\t// only do custom logic if this is an enhanced moment\n\t\t\tif (!this._fullCalendar) {\n\t\t\t\treturn oldMomentProto[methodName].apply(this, arguments);\n\t\t\t}\n\t\n\t\t\ta = commonlyAmbiguate([ this, input ]);\n\t\t\treturn oldMomentProto[methodName].call(a[0], a[1], units);\n\t\t};\n\t});\n\t\n\t\n\t// Misc Internals\n\t// -------------------------------------------------------------------------------------------------\n\t\n\t// given an array of moment-like inputs, return a parallel array w/ moments similarly ambiguated.\n\t// for example, of one moment has ambig time, but not others, all moments will have their time stripped.\n\t// set `preserveTime` to `true` to keep times, but only normalize zone ambiguity.\n\t// returns the original moments if no modifications are necessary.\n\tfunction commonlyAmbiguate(inputs, preserveTime) {\n\t\tvar anyAmbigTime = false;\n\t\tvar anyAmbigZone = false;\n\t\tvar len = inputs.length;\n\t\tvar moms = [];\n\t\tvar i, mom;\n\t\n\t\t// parse inputs into real moments and query their ambig flags\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tmom = inputs[i];\n\t\t\tif (!moment.isMoment(mom)) {\n\t\t\t\tmom = fc.moment.parseZone(mom);\n\t\t\t}\n\t\t\tanyAmbigTime = anyAmbigTime || mom._ambigTime;\n\t\t\tanyAmbigZone = anyAmbigZone || mom._ambigZone;\n\t\t\tmoms.push(mom);\n\t\t}\n\t\n\t\t// strip each moment down to lowest common ambiguity\n\t\t// use clones to avoid modifying the original moments\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tmom = moms[i];\n\t\t\tif (!preserveTime && anyAmbigTime && !mom._ambigTime) {\n\t\t\t\tmoms[i] = mom.clone().stripTime();\n\t\t\t}\n\t\t\telse if (anyAmbigZone && !mom._ambigZone) {\n\t\t\t\tmoms[i] = mom.clone().stripZone();\n\t\t\t}\n\t\t}\n\t\n\t\treturn moms;\n\t}\n\t\n\t// Transfers all the flags related to ambiguous time/zone from the `src` moment to the `dest` moment\n\t// TODO: look into moment.momentProperties for this.\n\tfunction transferAmbigs(src, dest) {\n\t\tif (src._ambigTime) {\n\t\t\tdest._ambigTime = true;\n\t\t}\n\t\telse if (dest._ambigTime) {\n\t\t\tdest._ambigTime = false;\n\t\t}\n\t\n\t\tif (src._ambigZone) {\n\t\t\tdest._ambigZone = true;\n\t\t}\n\t\telse if (dest._ambigZone) {\n\t\t\tdest._ambigZone = false;\n\t\t}\n\t}\n\t\n\t\n\t// Sets the year/month/date/etc values of the moment from the given array.\n\t// Inefficient because it calls each individual setter.\n\tfunction setMomentValues(mom, a) {\n\t\tmom.year(a[0] || 0)\n\t\t\t.month(a[1] || 0)\n\t\t\t.date(a[2] || 0)\n\t\t\t.hours(a[3] || 0)\n\t\t\t.minutes(a[4] || 0)\n\t\t\t.seconds(a[5] || 0)\n\t\t\t.milliseconds(a[6] || 0);\n\t}\n\t\n\t// Can we set the moment's internal date directly?\n\tallowValueOptimization = '_d' in moment() && 'updateOffset' in moment;\n\t\n\t// Utility function. Accepts a moment and an array of the UTC year/month/date/etc values to set.\n\t// Assumes the given moment is already in UTC mode.\n\tsetUTCValues = allowValueOptimization ? function(mom, a) {\n\t\t// simlate what moment's accessors do\n\t\tmom._d.setTime(Date.UTC.apply(Date, a));\n\t\tmoment.updateOffset(mom, false); // keepTime=false\n\t} : setMomentValues;\n\t\n\t// Utility function. Accepts a moment and an array of the local year/month/date/etc values to set.\n\t// Assumes the given moment is already in local mode.\n\tsetLocalValues = allowValueOptimization ? function(mom, a) {\n\t\t// simlate what moment's accessors do\n\t\tmom._d.setTime(+new Date( // FYI, there is now way to apply an array of args to a constructor\n\t\t\ta[0] || 0,\n\t\t\ta[1] || 0,\n\t\t\ta[2] || 0,\n\t\t\ta[3] || 0,\n\t\t\ta[4] || 0,\n\t\t\ta[5] || 0,\n\t\t\ta[6] || 0\n\t\t));\n\t\tmoment.updateOffset(mom, false); // keepTime=false\n\t} : setMomentValues;\n\t\n\t;;\n\t\n\t// Single Date Formatting\n\t// -------------------------------------------------------------------------------------------------\n\t\n\t\n\t// call this if you want Moment's original format method to be used\n\tfunction oldMomentFormat(mom, formatStr) {\n\t\treturn oldMomentProto.format.call(mom, formatStr); // oldMomentProto defined in moment-ext.js\n\t}\n\t\n\t\n\t// Formats `date` with a Moment formatting string, but allow our non-zero areas and\n\t// additional token.\n\tfunction formatDate(date, formatStr) {\n\t\treturn formatDateWithChunks(date, getFormatStringChunks(formatStr));\n\t}\n\t\n\t\n\tfunction formatDateWithChunks(date, chunks) {\n\t\tvar s = '';\n\t\tvar i;\n\t\n\t\tfor (i=0; i<chunks.length; i++) {\n\t\t\ts += formatDateWithChunk(date, chunks[i]);\n\t\t}\n\t\n\t\treturn s;\n\t}\n\t\n\t\n\t// addition formatting tokens we want recognized\n\tvar tokenOverrides = {\n\t\tt: function(date) { // \"a\" or \"p\"\n\t\t\treturn oldMomentFormat(date, 'a').charAt(0);\n\t\t},\n\t\tT: function(date) { // \"A\" or \"P\"\n\t\t\treturn oldMomentFormat(date, 'A').charAt(0);\n\t\t}\n\t};\n\t\n\t\n\tfunction formatDateWithChunk(date, chunk) {\n\t\tvar token;\n\t\tvar maybeStr;\n\t\n\t\tif (typeof chunk === 'string') { // a literal string\n\t\t\treturn chunk;\n\t\t}\n\t\telse if ((token = chunk.token)) { // a token, like \"YYYY\"\n\t\t\tif (tokenOverrides[token]) {\n\t\t\t\treturn tokenOverrides[token](date); // use our custom token\n\t\t\t}\n\t\t\treturn oldMomentFormat(date, token);\n\t\t}\n\t\telse if (chunk.maybe) { // a grouping of other chunks that must be non-zero\n\t\t\tmaybeStr = formatDateWithChunks(date, chunk.maybe);\n\t\t\tif (maybeStr.match(/[1-9]/)) {\n\t\t\t\treturn maybeStr;\n\t\t\t}\n\t\t}\n\t\n\t\treturn '';\n\t}\n\t\n\t\n\t// Date Range Formatting\n\t// -------------------------------------------------------------------------------------------------\n\t// TODO: make it work with timezone offset\n\t\n\t// Using a formatting string meant for a single date, generate a range string, like\n\t// \"Sep 2 - 9 2013\", that intelligently inserts a separator where the dates differ.\n\t// If the dates are the same as far as the format string is concerned, just return a single\n\t// rendering of one date, without any separator.\n\tfunction formatRange(date1, date2, formatStr, separator, isRTL) {\n\t\tvar localeData;\n\t\n\t\tdate1 = fc.moment.parseZone(date1);\n\t\tdate2 = fc.moment.parseZone(date2);\n\t\n\t\tlocaleData = (date1.localeData || date1.lang).call(date1); // works with moment-pre-2.8\n\t\n\t\t// Expand localized format strings, like \"LL\" -> \"MMMM D YYYY\"\n\t\tformatStr = localeData.longDateFormat(formatStr) || formatStr;\n\t\t// BTW, this is not important for `formatDate` because it is impossible to put custom tokens\n\t\t// or non-zero areas in Moment's localized format strings.\n\t\n\t\tseparator = separator || ' - ';\n\t\n\t\treturn formatRangeWithChunks(\n\t\t\tdate1,\n\t\t\tdate2,\n\t\t\tgetFormatStringChunks(formatStr),\n\t\t\tseparator,\n\t\t\tisRTL\n\t\t);\n\t}\n\tfc.formatRange = formatRange; // expose\n\t\n\t\n\tfunction formatRangeWithChunks(date1, date2, chunks, separator, isRTL) {\n\t\tvar chunkStr; // the rendering of the chunk\n\t\tvar leftI;\n\t\tvar leftStr = '';\n\t\tvar rightI;\n\t\tvar rightStr = '';\n\t\tvar middleI;\n\t\tvar middleStr1 = '';\n\t\tvar middleStr2 = '';\n\t\tvar middleStr = '';\n\t\n\t\t// Start at the leftmost side of the formatting string and continue until you hit a token\n\t\t// that is not the same between dates.\n\t\tfor (leftI=0; leftI<chunks.length; leftI++) {\n\t\t\tchunkStr = formatSimilarChunk(date1, date2, chunks[leftI]);\n\t\t\tif (chunkStr === false) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tleftStr += chunkStr;\n\t\t}\n\t\n\t\t// Similarly, start at the rightmost side of the formatting string and move left\n\t\tfor (rightI=chunks.length-1; rightI>leftI; rightI--) {\n\t\t\tchunkStr = formatSimilarChunk(date1, date2, chunks[rightI]);\n\t\t\tif (chunkStr === false) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\trightStr = chunkStr + rightStr;\n\t\t}\n\t\n\t\t// The area in the middle is different for both of the dates.\n\t\t// Collect them distinctly so we can jam them together later.\n\t\tfor (middleI=leftI; middleI<=rightI; middleI++) {\n\t\t\tmiddleStr1 += formatDateWithChunk(date1, chunks[middleI]);\n\t\t\tmiddleStr2 += formatDateWithChunk(date2, chunks[middleI]);\n\t\t}\n\t\n\t\tif (middleStr1 || middleStr2) {\n\t\t\tif (isRTL) {\n\t\t\t\tmiddleStr = middleStr2 + separator + middleStr1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmiddleStr = middleStr1 + separator + middleStr2;\n\t\t\t}\n\t\t}\n\t\n\t\treturn leftStr + middleStr + rightStr;\n\t}\n\t\n\t\n\tvar similarUnitMap = {\n\t\tY: 'year',\n\t\tM: 'month',\n\t\tD: 'day', // day of month\n\t\td: 'day', // day of week\n\t\t// prevents a separator between anything time-related...\n\t\tA: 'second', // AM/PM\n\t\ta: 'second', // am/pm\n\t\tT: 'second', // A/P\n\t\tt: 'second', // a/p\n\t\tH: 'second', // hour (24)\n\t\th: 'second', // hour (12)\n\t\tm: 'second', // minute\n\t\ts: 'second' // second\n\t};\n\t// TODO: week maybe?\n\t\n\t\n\t// Given a formatting chunk, and given that both dates are similar in the regard the\n\t// formatting chunk is concerned, format date1 against `chunk`. Otherwise, return `false`.\n\tfunction formatSimilarChunk(date1, date2, chunk) {\n\t\tvar token;\n\t\tvar unit;\n\t\n\t\tif (typeof chunk === 'string') { // a literal string\n\t\t\treturn chunk;\n\t\t}\n\t\telse if ((token = chunk.token)) {\n\t\t\tunit = similarUnitMap[token.charAt(0)];\n\t\t\t// are the dates the same for this unit of measurement?\n\t\t\tif (unit && date1.isSame(date2, unit)) {\n\t\t\t\treturn oldMomentFormat(date1, token); // would be the same if we used `date2`\n\t\t\t\t// BTW, don't support custom tokens\n\t\t\t}\n\t\t}\n\t\n\t\treturn false; // the chunk is NOT the same for the two dates\n\t\t// BTW, don't support splitting on non-zero areas\n\t}\n\t\n\t\n\t// Chunking Utils\n\t// -------------------------------------------------------------------------------------------------\n\t\n\t\n\tvar formatStringChunkCache = {};\n\t\n\t\n\tfunction getFormatStringChunks(formatStr) {\n\t\tif (formatStr in formatStringChunkCache) {\n\t\t\treturn formatStringChunkCache[formatStr];\n\t\t}\n\t\treturn (formatStringChunkCache[formatStr] = chunkFormatString(formatStr));\n\t}\n\t\n\t\n\t// Break the formatting string into an array of chunks\n\tfunction chunkFormatString(formatStr) {\n\t\tvar chunks = [];\n\t\tvar chunker = /\\[([^\\]]*)\\]|\\(([^\\)]*)\\)|(LTS|LT|(\\w)\\4*o?)|([^\\w\\[\\(]+)/g; // TODO: more descrimination\n\t\tvar match;\n\t\n\t\twhile ((match = chunker.exec(formatStr))) {\n\t\t\tif (match[1]) { // a literal string inside [ ... ]\n\t\t\t\tchunks.push(match[1]);\n\t\t\t}\n\t\t\telse if (match[2]) { // non-zero formatting inside ( ... )\n\t\t\t\tchunks.push({ maybe: chunkFormatString(match[2]) });\n\t\t\t}\n\t\t\telse if (match[3]) { // a formatting token\n\t\t\t\tchunks.push({ token: match[3] });\n\t\t\t}\n\t\t\telse if (match[5]) { // an unenclosed literal string\n\t\t\t\tchunks.push(match[5]);\n\t\t\t}\n\t\t}\n\t\n\t\treturn chunks;\n\t}\n\t\n\t;;\n\t\n\tfc.Class = Class; // export\n\t\n\t// class that all other classes will inherit from\n\tfunction Class() { }\n\t\n\t// called upon a class to create a subclass\n\tClass.extend = function(members) {\n\t\tvar superClass = this;\n\t\tvar subClass;\n\t\n\t\tmembers = members || {};\n\t\n\t\t// ensure a constructor for the subclass, forwarding all arguments to the super-constructor if it doesn't exist\n\t\tif (hasOwnProp(members, 'constructor')) {\n\t\t\tsubClass = members.constructor;\n\t\t}\n\t\tif (typeof subClass !== 'function') {\n\t\t\tsubClass = members.constructor = function() {\n\t\t\t\tsuperClass.apply(this, arguments);\n\t\t\t};\n\t\t}\n\t\n\t\t// build the base prototype for the subclass, which is an new object chained to the superclass's prototype\n\t\tsubClass.prototype = createObject(superClass.prototype);\n\t\n\t\t// copy each member variable/method onto the the subclass's prototype\n\t\tcopyOwnProps(members, subClass.prototype);\n\t\tcopyNativeMethods(members, subClass.prototype); // hack for IE8\n\t\n\t\t// copy over all class variables/methods to the subclass, such as `extend` and `mixin`\n\t\tcopyOwnProps(superClass, subClass);\n\t\n\t\treturn subClass;\n\t};\n\t\n\t// adds new member variables/methods to the class's prototype.\n\t// can be called with another class, or a plain object hash containing new members.\n\tClass.mixin = function(members) {\n\t\tcopyOwnProps(members.prototype || members, this.prototype); // TODO: copyNativeMethods?\n\t};\n\t;;\n\t\n\tvar Emitter = fc.Emitter = Class.extend({\n\t\n\t\tcallbackHash: null,\n\t\n\t\n\t\ton: function(name, callback) {\n\t\t\tthis.getCallbacks(name).add(callback);\n\t\t\treturn this; // for chaining\n\t\t},\n\t\n\t\n\t\toff: function(name, callback) {\n\t\t\tthis.getCallbacks(name).remove(callback);\n\t\t\treturn this; // for chaining\n\t\t},\n\t\n\t\n\t\ttrigger: function(name) { // args...\n\t\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\t\n\t\t\tthis.triggerWith(name, this, args);\n\t\n\t\t\treturn this; // for chaining\n\t\t},\n\t\n\t\n\t\ttriggerWith: function(name, context, args) {\n\t\t\tvar callbacks = this.getCallbacks(name);\n\t\n\t\t\tcallbacks.fireWith(context, args);\n\t\n\t\t\treturn this; // for chaining\n\t\t},\n\t\n\t\n\t\tgetCallbacks: function(name) {\n\t\t\tvar callbacks;\n\t\n\t\t\tif (!this.callbackHash) {\n\t\t\t\tthis.callbackHash = {};\n\t\t\t}\n\t\n\t\t\tcallbacks = this.callbackHash[name];\n\t\t\tif (!callbacks) {\n\t\t\t\tcallbacks = this.callbackHash[name] = $.Callbacks();\n\t\t\t}\n\t\n\t\t\treturn callbacks;\n\t\t}\n\t\n\t});\n\t;;\n\t\n\t/* A rectangular panel that is absolutely positioned over other content\n\t------------------------------------------------------------------------------------------------------------------------\n\tOptions:\n\t\t- className (string)\n\t\t- content (HTML string or jQuery element set)\n\t\t- parentEl\n\t\t- top\n\t\t- left\n\t\t- right (the x coord of where the right edge should be. not a \"CSS\" right)\n\t\t- autoHide (boolean)\n\t\t- show (callback)\n\t\t- hide (callback)\n\t*/\n\t\n\tvar Popover = Class.extend({\n\t\n\t\tisHidden: true,\n\t\toptions: null,\n\t\tel: null, // the container element for the popover. generated by this object\n\t\tdocumentMousedownProxy: null, // document mousedown handler bound to `this`\n\t\tmargin: 10, // the space required between the popover and the edges of the scroll container\n\t\n\t\n\t\tconstructor: function(options) {\n\t\t\tthis.options = options || {};\n\t\t},\n\t\n\t\n\t\t// Shows the popover on the specified position. Renders it if not already\n\t\tshow: function() {\n\t\t\tif (this.isHidden) {\n\t\t\t\tif (!this.el) {\n\t\t\t\t\tthis.render();\n\t\t\t\t}\n\t\t\t\tthis.el.show();\n\t\t\t\tthis.position();\n\t\t\t\tthis.isHidden = false;\n\t\t\t\tthis.trigger('show');\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Hides the popover, through CSS, but does not remove it from the DOM\n\t\thide: function() {\n\t\t\tif (!this.isHidden) {\n\t\t\t\tthis.el.hide();\n\t\t\t\tthis.isHidden = true;\n\t\t\t\tthis.trigger('hide');\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Creates `this.el` and renders content inside of it\n\t\trender: function() {\n\t\t\tvar _this = this;\n\t\t\tvar options = this.options;\n\t\n\t\t\tthis.el = $('<div class=\"fc-popover\"/>')\n\t\t\t\t.addClass(options.className || '')\n\t\t\t\t.css({\n\t\t\t\t\t// position initially to the top left to avoid creating scrollbars\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0\n\t\t\t\t})\n\t\t\t\t.append(options.content)\n\t\t\t\t.appendTo(options.parentEl);\n\t\n\t\t\t// when a click happens on anything inside with a 'fc-close' className, hide the popover\n\t\t\tthis.el.on('click', '.fc-close', function() {\n\t\t\t\t_this.hide();\n\t\t\t});\n\t\n\t\t\tif (options.autoHide) {\n\t\t\t\t$(document).on('mousedown', this.documentMousedownProxy = proxy(this, 'documentMousedown'));\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n\t\tdocumentMousedown: function(ev) {\n\t\t\t// only hide the popover if the click happened outside the popover\n\t\t\tif (this.el && !$(ev.target).closest(this.el).length) {\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Hides and unregisters any handlers\n\t\tremoveElement: function() {\n\t\t\tthis.hide();\n\t\n\t\t\tif (this.el) {\n\t\t\t\tthis.el.remove();\n\t\t\t\tthis.el = null;\n\t\t\t}\n\t\n\t\t\t$(document).off('mousedown', this.documentMousedownProxy);\n\t\t},\n\t\n\t\n\t\t// Positions the popover optimally, using the top/left/right options\n\t\tposition: function() {\n\t\t\tvar options = this.options;\n\t\t\tvar origin = this.el.offsetParent().offset();\n\t\t\tvar width = this.el.outerWidth();\n\t\t\tvar height = this.el.outerHeight();\n\t\t\tvar windowEl = $(window);\n\t\t\tvar viewportEl = getScrollParent(this.el);\n\t\t\tvar viewportTop;\n\t\t\tvar viewportLeft;\n\t\t\tvar viewportOffset;\n\t\t\tvar top; // the \"position\" (not \"offset\") values for the popover\n\t\t\tvar left; //\n\t\n\t\t\t// compute top and left\n\t\t\ttop = options.top || 0;\n\t\t\tif (options.left !== undefined) {\n\t\t\t\tleft = options.left;\n\t\t\t}\n\t\t\telse if (options.right !== undefined) {\n\t\t\t\tleft = options.right - width; // derive the left value from the right value\n\t\t\t}\n\t\t\telse {\n\t\t\t\tleft = 0;\n\t\t\t}\n\t\n\t\t\tif (viewportEl.is(window) || viewportEl.is(document)) { // normalize getScrollParent's result\n\t\t\t\tviewportEl = windowEl;\n\t\t\t\tviewportTop = 0; // the window is always at the top left\n\t\t\t\tviewportLeft = 0; // (and .offset() won't work if called here)\n\t\t\t}\n\t\t\telse {\n\t\t\t\tviewportOffset = viewportEl.offset();\n\t\t\t\tviewportTop = viewportOffset.top;\n\t\t\t\tviewportLeft = viewportOffset.left;\n\t\t\t}\n\t\n\t\t\t// if the window is scrolled, it causes the visible area to be further down\n\t\t\tviewportTop += windowEl.scrollTop();\n\t\t\tviewportLeft += windowEl.scrollLeft();\n\t\n\t\t\t// constrain to the view port. if constrained by two edges, give precedence to top/left\n\t\t\tif (options.viewportConstrain !== false) {\n\t\t\t\ttop = Math.min(top, viewportTop + viewportEl.outerHeight() - height - this.margin);\n\t\t\t\ttop = Math.max(top, viewportTop + this.margin);\n\t\t\t\tleft = Math.min(left, viewportLeft + viewportEl.outerWidth() - width - this.margin);\n\t\t\t\tleft = Math.max(left, viewportLeft + this.margin);\n\t\t\t}\n\t\n\t\t\tthis.el.css({\n\t\t\t\ttop: top - origin.top,\n\t\t\t\tleft: left - origin.left\n\t\t\t});\n\t\t},\n\t\n\t\n\t\t// Triggers a callback. Calls a function in the option hash of the same name.\n\t\t// Arguments beyond the first `name` are forwarded on.\n\t\t// TODO: better code reuse for this. Repeat code\n\t\ttrigger: function(name) {\n\t\t\tif (this.options[name]) {\n\t\t\t\tthis.options[name].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t}\n\t\t}\n\t\n\t});\n\t\n\t;;\n\t\n\t/* A \"coordinate map\" converts pixel coordinates into an associated cell, which has an associated date\n\t------------------------------------------------------------------------------------------------------------------------\n\tCommon interface:\n\t\n\t\tCoordMap.prototype = {\n\t\t\tbuild: function() {},\n\t\t\tgetCell: function(x, y) {}\n\t\t};\n\t\n\t*/\n\t\n\t/* Coordinate map for a grid component\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tvar GridCoordMap = Class.extend({\n\t\n\t\tgrid: null, // reference to the Grid\n\t\trowCoords: null, // array of {top,bottom} objects\n\t\tcolCoords: null, // array of {left,right} objects\n\t\n\t\tcontainerEl: null, // container element that all coordinates are constrained to. optionally assigned\n\t\tbounds: null,\n\t\n\t\n\t\tconstructor: function(grid) {\n\t\t\tthis.grid = grid;\n\t\t},\n\t\n\t\n\t\t// Queries the grid for the coordinates of all the cells\n\t\tbuild: function() {\n\t\t\tthis.grid.build();\n\t\t\tthis.rowCoords = this.grid.computeRowCoords();\n\t\t\tthis.colCoords = this.grid.computeColCoords();\n\t\t\tthis.computeBounds();\n\t\t},\n\t\n\t\n\t\t// Clears the coordinates data to free up memory\n\t\tclear: function() {\n\t\t\tthis.grid.clear();\n\t\t\tthis.rowCoords = null;\n\t\t\tthis.colCoords = null;\n\t\t},\n\t\n\t\n\t\t// Given a coordinate of the document, gets the associated cell. If no cell is underneath, returns null\n\t\tgetCell: function(x, y) {\n\t\t\tvar rowCoords = this.rowCoords;\n\t\t\tvar rowCnt = rowCoords.length;\n\t\t\tvar colCoords = this.colCoords;\n\t\t\tvar colCnt = colCoords.length;\n\t\t\tvar hitRow = null;\n\t\t\tvar hitCol = null;\n\t\t\tvar i, coords;\n\t\t\tvar cell;\n\t\n\t\t\tif (this.inBounds(x, y)) {\n\t\n\t\t\t\tfor (i = 0; i < rowCnt; i++) {\n\t\t\t\t\tcoords = rowCoords[i];\n\t\t\t\t\tif (y >= coords.top && y < coords.bottom) {\n\t\t\t\t\t\thitRow = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tfor (i = 0; i < colCnt; i++) {\n\t\t\t\t\tcoords = colCoords[i];\n\t\t\t\t\tif (x >= coords.left && x < coords.right) {\n\t\t\t\t\t\thitCol = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (hitRow !== null && hitCol !== null) {\n\t\n\t\t\t\t\tcell = this.grid.getCell(hitRow, hitCol); // expected to return a fresh object we can modify\n\t\t\t\t\tcell.grid = this.grid; // for CellDragListener's isCellsEqual. dragging between grids\n\t\n\t\t\t\t\t// make the coordinates available on the cell object\n\t\t\t\t\t$.extend(cell, rowCoords[hitRow], colCoords[hitCol]);\n\t\n\t\t\t\t\treturn cell;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn null;\n\t\t},\n\t\n\t\n\t\t// If there is a containerEl, compute the bounds into min/max values\n\t\tcomputeBounds: function() {\n\t\t\tthis.bounds = this.containerEl ?\n\t\t\t\tgetClientRect(this.containerEl) : // area within scrollbars\n\t\t\t\tnull;\n\t\t},\n\t\n\t\n\t\t// Determines if the given coordinates are in bounds. If no `containerEl`, always true\n\t\tinBounds: function(x, y) {\n\t\t\tvar bounds = this.bounds;\n\t\n\t\t\tif (bounds) {\n\t\t\t\treturn x >= bounds.left && x < bounds.right && y >= bounds.top && y < bounds.bottom;\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t}\n\t\n\t});\n\t\n\t\n\t/* Coordinate map that is a combination of multiple other coordinate maps\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tvar ComboCoordMap = Class.extend({\n\t\n\t\tcoordMaps: null, // an array of CoordMaps\n\t\n\t\n\t\tconstructor: function(coordMaps) {\n\t\t\tthis.coordMaps = coordMaps;\n\t\t},\n\t\n\t\n\t\t// Builds all coordMaps\n\t\tbuild: function() {\n\t\t\tvar coordMaps = this.coordMaps;\n\t\t\tvar i;\n\t\n\t\t\tfor (i = 0; i < coordMaps.length; i++) {\n\t\t\t\tcoordMaps[i].build();\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Queries all coordMaps for the cell underneath the given coordinates, returning the first result\n\t\tgetCell: function(x, y) {\n\t\t\tvar coordMaps = this.coordMaps;\n\t\t\tvar cell = null;\n\t\t\tvar i;\n\t\n\t\t\tfor (i = 0; i < coordMaps.length && !cell; i++) {\n\t\t\t\tcell = coordMaps[i].getCell(x, y);\n\t\t\t}\n\t\n\t\t\treturn cell;\n\t\t},\n\t\n\t\n\t\t// Clears all coordMaps\n\t\tclear: function() {\n\t\t\tvar coordMaps = this.coordMaps;\n\t\t\tvar i;\n\t\n\t\t\tfor (i = 0; i < coordMaps.length; i++) {\n\t\t\t\tcoordMaps[i].clear();\n\t\t\t}\n\t\t}\n\t\n\t});\n\t\n\t;;\n\t\n\t/* Tracks a drag's mouse movement, firing various handlers\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tvar DragListener = fc.DragListener = Class.extend({\n\t\n\t\toptions: null,\n\t\n\t\tisListening: false,\n\t\tisDragging: false,\n\t\n\t\t// coordinates of the initial mousedown\n\t\toriginX: null,\n\t\toriginY: null,\n\t\n\t\t// handler attached to the document, bound to the DragListener's `this`\n\t\tmousemoveProxy: null,\n\t\tmouseupProxy: null,\n\t\n\t\t// for IE8 bug-fighting behavior, for now\n\t\tsubjectEl: null, // the element being draged. optional\n\t\tsubjectHref: null,\n\t\n\t\tscrollEl: null,\n\t\tscrollBounds: null, // { top, bottom, left, right }\n\t\tscrollTopVel: null, // pixels per second\n\t\tscrollLeftVel: null, // pixels per second\n\t\tscrollIntervalId: null, // ID of setTimeout for scrolling animation loop\n\t\tscrollHandlerProxy: null, // this-scoped function for handling when scrollEl is scrolled\n\t\n\t\tscrollSensitivity: 30, // pixels from edge for scrolling to start\n\t\tscrollSpeed: 200, // pixels per second, at maximum speed\n\t\tscrollIntervalMs: 50, // millisecond wait between scroll increment\n\t\n\t\n\t\tconstructor: function(options) {\n\t\t\toptions = options || {};\n\t\t\tthis.options = options;\n\t\t\tthis.subjectEl = options.subjectEl;\n\t\t},\n\t\n\t\n\t\t// Call this when the user does a mousedown. Will probably lead to startListening\n\t\tmousedown: function(ev) {\n\t\t\tif (isPrimaryMouseButton(ev)) {\n\t\n\t\t\t\tev.preventDefault(); // prevents native selection in most browsers\n\t\n\t\t\t\tthis.startListening(ev);\n\t\n\t\t\t\t// start the drag immediately if there is no minimum distance for a drag start\n\t\t\t\tif (!this.options.distance) {\n\t\t\t\t\tthis.startDrag(ev);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Call this to start tracking mouse movements\n\t\tstartListening: function(ev) {\n\t\t\tvar scrollParent;\n\t\n\t\t\tif (!this.isListening) {\n\t\n\t\t\t\t// grab scroll container and attach handler\n\t\t\t\tif (ev && this.options.scroll) {\n\t\t\t\t\tscrollParent = getScrollParent($(ev.target));\n\t\t\t\t\tif (!scrollParent.is(window) && !scrollParent.is(document)) {\n\t\t\t\t\t\tthis.scrollEl = scrollParent;\n\t\n\t\t\t\t\t\t// scope to `this`, and use `debounce` to make sure rapid calls don't happen\n\t\t\t\t\t\tthis.scrollHandlerProxy = debounce(proxy(this, 'scrollHandler'), 100);\n\t\t\t\t\t\tthis.scrollEl.on('scroll', this.scrollHandlerProxy);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t$(document)\n\t\t\t\t\t.on('mousemove', this.mousemoveProxy = proxy(this, 'mousemove'))\n\t\t\t\t\t.on('mouseup', this.mouseupProxy = proxy(this, 'mouseup'))\n\t\t\t\t\t.on('selectstart', this.preventDefault); // prevents native selection in IE<=8\n\t\n\t\t\t\tif (ev) {\n\t\t\t\t\tthis.originX = ev.pageX;\n\t\t\t\t\tthis.originY = ev.pageY;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// if no starting information was given, origin will be the topleft corner of the screen.\n\t\t\t\t\t// if so, dx/dy in the future will be the absolute coordinates.\n\t\t\t\t\tthis.originX = 0;\n\t\t\t\t\tthis.originY = 0;\n\t\t\t\t}\n\t\n\t\t\t\tthis.isListening = true;\n\t\t\t\tthis.listenStart(ev);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Called when drag listening has started (but a real drag has not necessarily began)\n\t\tlistenStart: function(ev) {\n\t\t\tthis.trigger('listenStart', ev);\n\t\t},\n\t\n\t\n\t\t// Called when the user moves the mouse\n\t\tmousemove: function(ev) {\n\t\t\tvar dx = ev.pageX - this.originX;\n\t\t\tvar dy = ev.pageY - this.originY;\n\t\t\tvar minDistance;\n\t\t\tvar distanceSq; // current distance from the origin, squared\n\t\n\t\t\tif (!this.isDragging) { // if not already dragging...\n\t\t\t\t// then start the drag if the minimum distance criteria is met\n\t\t\t\tminDistance = this.options.distance || 1;\n\t\t\t\tdistanceSq = dx * dx + dy * dy;\n\t\t\t\tif (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n\t\t\t\t\tthis.startDrag(ev);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (this.isDragging) {\n\t\t\t\tthis.drag(dx, dy, ev); // report a drag, even if this mousemove initiated the drag\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Call this to initiate a legitimate drag.\n\t\t// This function is called internally from this class, but can also be called explicitly from outside\n\t\tstartDrag: function(ev) {\n\t\n\t\t\tif (!this.isListening) { // startDrag must have manually initiated\n\t\t\t\tthis.startListening();\n\t\t\t}\n\t\n\t\t\tif (!this.isDragging) {\n\t\t\t\tthis.isDragging = true;\n\t\t\t\tthis.dragStart(ev);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Called when the actual drag has started (went beyond minDistance)\n\t\tdragStart: function(ev) {\n\t\t\tvar subjectEl = this.subjectEl;\n\t\n\t\t\tthis.trigger('dragStart', ev);\n\t\n\t\t\t// remove a mousedown'd <a>'s href so it is not visited (IE8 bug)\n\t\t\tif ((this.subjectHref = subjectEl ? subjectEl.attr('href') : null)) {\n\t\t\t\tsubjectEl.removeAttr('href');\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Called while the mouse is being moved and when we know a legitimate drag is taking place\n\t\tdrag: function(dx, dy, ev) {\n\t\t\tthis.trigger('drag', dx, dy, ev);\n\t\t\tthis.updateScroll(ev); // will possibly cause scrolling\n\t\t},\n\t\n\t\n\t\t// Called when the user does a mouseup\n\t\tmouseup: function(ev) {\n\t\t\tthis.stopListening(ev);\n\t\t},\n\t\n\t\n\t\t// Called when the drag is over. Will not cause listening to stop however.\n\t\t// A concluding 'cellOut' event will NOT be triggered.\n\t\tstopDrag: function(ev) {\n\t\t\tif (this.isDragging) {\n\t\t\t\tthis.stopScrolling();\n\t\t\t\tthis.dragStop(ev);\n\t\t\t\tthis.isDragging = false;\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Called when dragging has been stopped\n\t\tdragStop: function(ev) {\n\t\t\tvar _this = this;\n\t\n\t\t\tthis.trigger('dragStop', ev);\n\t\n\t\t\t// restore a mousedown'd <a>'s href (for IE8 bug)\n\t\t\tsetTimeout(function() { // must be outside of the click's execution\n\t\t\t\tif (_this.subjectHref) {\n\t\t\t\t\t_this.subjectEl.attr('href', _this.subjectHref);\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t},\n\t\n\t\n\t\t// Call this to stop listening to the user's mouse events\n\t\tstopListening: function(ev) {\n\t\t\tthis.stopDrag(ev); // if there's a current drag, kill it\n\t\n\t\t\tif (this.isListening) {\n\t\n\t\t\t\t// remove the scroll handler if there is a scrollEl\n\t\t\t\tif (this.scrollEl) {\n\t\t\t\t\tthis.scrollEl.off('scroll', this.scrollHandlerProxy);\n\t\t\t\t\tthis.scrollHandlerProxy = null;\n\t\t\t\t}\n\t\n\t\t\t\t$(document)\n\t\t\t\t\t.off('mousemove', this.mousemoveProxy)\n\t\t\t\t\t.off('mouseup', this.mouseupProxy)\n\t\t\t\t\t.off('selectstart', this.preventDefault);\n\t\n\t\t\t\tthis.mousemoveProxy = null;\n\t\t\t\tthis.mouseupProxy = null;\n\t\n\t\t\t\tthis.isListening = false;\n\t\t\t\tthis.listenStop(ev);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Called when drag listening has stopped\n\t\tlistenStop: function(ev) {\n\t\t\tthis.trigger('listenStop', ev);\n\t\t},\n\t\n\t\n\t\t// Triggers a callback. Calls a function in the option hash of the same name.\n\t\t// Arguments beyond the first `name` are forwarded on.\n\t\ttrigger: function(name) {\n\t\t\tif (this.options[name]) {\n\t\t\t\tthis.options[name].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Stops a given mouse event from doing it's native browser action. In our case, text selection.\n\t\tpreventDefault: function(ev) {\n\t\t\tev.preventDefault();\n\t\t},\n\t\n\t\n\t\t/* Scrolling\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Computes and stores the bounding rectangle of scrollEl\n\t\tcomputeScrollBounds: function() {\n\t\t\tvar el = this.scrollEl;\n\t\n\t\t\tthis.scrollBounds = el ? getOuterRect(el) : null;\n\t\t\t\t// TODO: use getClientRect in future. but prevents auto scrolling when on top of scrollbars\n\t\t},\n\t\n\t\n\t\t// Called when the dragging is in progress and scrolling should be updated\n\t\tupdateScroll: function(ev) {\n\t\t\tvar sensitivity = this.scrollSensitivity;\n\t\t\tvar bounds = this.scrollBounds;\n\t\t\tvar topCloseness, bottomCloseness;\n\t\t\tvar leftCloseness, rightCloseness;\n\t\t\tvar topVel = 0;\n\t\t\tvar leftVel = 0;\n\t\n\t\t\tif (bounds) { // only scroll if scrollEl exists\n\t\n\t\t\t\t// compute closeness to edges. valid range is from 0.0 - 1.0\n\t\t\t\ttopCloseness = (sensitivity - (ev.pageY - bounds.top)) / sensitivity;\n\t\t\t\tbottomCloseness = (sensitivity - (bounds.bottom - ev.pageY)) / sensitivity;\n\t\t\t\tleftCloseness = (sensitivity - (ev.pageX - bounds.left)) / sensitivity;\n\t\t\t\trightCloseness = (sensitivity - (bounds.right - ev.pageX)) / sensitivity;\n\t\n\t\t\t\t// translate vertical closeness into velocity.\n\t\t\t\t// mouse must be completely in bounds for velocity to happen.\n\t\t\t\tif (topCloseness >= 0 && topCloseness <= 1) {\n\t\t\t\t\ttopVel = topCloseness * this.scrollSpeed * -1; // negative. for scrolling up\n\t\t\t\t}\n\t\t\t\telse if (bottomCloseness >= 0 && bottomCloseness <= 1) {\n\t\t\t\t\ttopVel = bottomCloseness * this.scrollSpeed;\n\t\t\t\t}\n\t\n\t\t\t\t// translate horizontal closeness into velocity\n\t\t\t\tif (leftCloseness >= 0 && leftCloseness <= 1) {\n\t\t\t\t\tleftVel = leftCloseness * this.scrollSpeed * -1; // negative. for scrolling left\n\t\t\t\t}\n\t\t\t\telse if (rightCloseness >= 0 && rightCloseness <= 1) {\n\t\t\t\t\tleftVel = rightCloseness * this.scrollSpeed;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tthis.setScrollVel(topVel, leftVel);\n\t\t},\n\t\n\t\n\t\t// Sets the speed-of-scrolling for the scrollEl\n\t\tsetScrollVel: function(topVel, leftVel) {\n\t\n\t\t\tthis.scrollTopVel = topVel;\n\t\t\tthis.scrollLeftVel = leftVel;\n\t\n\t\t\tthis.constrainScrollVel(); // massages into realistic values\n\t\n\t\t\t// if there is non-zero velocity, and an animation loop hasn't already started, then START\n\t\t\tif ((this.scrollTopVel || this.scrollLeftVel) && !this.scrollIntervalId) {\n\t\t\t\tthis.scrollIntervalId = setInterval(\n\t\t\t\t\tproxy(this, 'scrollIntervalFunc'), // scope to `this`\n\t\t\t\t\tthis.scrollIntervalMs\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Forces scrollTopVel and scrollLeftVel to be zero if scrolling has already gone all the way\n\t\tconstrainScrollVel: function() {\n\t\t\tvar el = this.scrollEl;\n\t\n\t\t\tif (this.scrollTopVel < 0) { // scrolling up?\n\t\t\t\tif (el.scrollTop() <= 0) { // already scrolled all the way up?\n\t\t\t\t\tthis.scrollTopVel = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this.scrollTopVel > 0) { // scrolling down?\n\t\t\t\tif (el.scrollTop() + el[0].clientHeight >= el[0].scrollHeight) { // already scrolled all the way down?\n\t\t\t\t\tthis.scrollTopVel = 0;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (this.scrollLeftVel < 0) { // scrolling left?\n\t\t\t\tif (el.scrollLeft() <= 0) { // already scrolled all the left?\n\t\t\t\t\tthis.scrollLeftVel = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this.scrollLeftVel > 0) { // scrolling right?\n\t\t\t\tif (el.scrollLeft() + el[0].clientWidth >= el[0].scrollWidth) { // already scrolled all the way right?\n\t\t\t\t\tthis.scrollLeftVel = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// This function gets called during every iteration of the scrolling animation loop\n\t\tscrollIntervalFunc: function() {\n\t\t\tvar el = this.scrollEl;\n\t\t\tvar frac = this.scrollIntervalMs / 1000; // considering animation frequency, what the vel should be mult'd by\n\t\n\t\t\t// change the value of scrollEl's scroll\n\t\t\tif (this.scrollTopVel) {\n\t\t\t\tel.scrollTop(el.scrollTop() + this.scrollTopVel * frac);\n\t\t\t}\n\t\t\tif (this.scrollLeftVel) {\n\t\t\t\tel.scrollLeft(el.scrollLeft() + this.scrollLeftVel * frac);\n\t\t\t}\n\t\n\t\t\tthis.constrainScrollVel(); // since the scroll values changed, recompute the velocities\n\t\n\t\t\t// if scrolled all the way, which causes the vels to be zero, stop the animation loop\n\t\t\tif (!this.scrollTopVel && !this.scrollLeftVel) {\n\t\t\t\tthis.stopScrolling();\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Kills any existing scrolling animation loop\n\t\tstopScrolling: function() {\n\t\t\tif (this.scrollIntervalId) {\n\t\t\t\tclearInterval(this.scrollIntervalId);\n\t\t\t\tthis.scrollIntervalId = null;\n\t\n\t\t\t\t// when all done with scrolling, recompute positions since they probably changed\n\t\t\t\tthis.scrollStop();\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Get called when the scrollEl is scrolled (NOTE: this is delayed via debounce)\n\t\tscrollHandler: function() {\n\t\t\t// recompute all coordinates, but *only* if this is *not* part of our scrolling animation\n\t\t\tif (!this.scrollIntervalId) {\n\t\t\t\tthis.scrollStop();\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Called when scrolling has stopped, whether through auto scroll, or the user scrolling\n\t\tscrollStop: function() {\n\t\t}\n\t\n\t});\n\t\n\t;;\n\t\n\t/* Tracks mouse movements over a CoordMap and raises events about which cell the mouse is over.\n\t------------------------------------------------------------------------------------------------------------------------\n\toptions:\n\t- subjectEl\n\t- subjectCenter\n\t*/\n\t\n\tvar CellDragListener = DragListener.extend({\n\t\n\t\tcoordMap: null, // converts coordinates to date cells\n\t\torigCell: null, // the cell the mouse was over when listening started\n\t\tcell: null, // the cell the mouse is over\n\t\tcoordAdjust: null, // delta that will be added to the mouse coordinates when computing collisions\n\t\n\t\n\t\tconstructor: function(coordMap, options) {\n\t\t\tDragListener.prototype.constructor.call(this, options); // call the super-constructor\n\t\n\t\t\tthis.coordMap = coordMap;\n\t\t},\n\t\n\t\n\t\t// Called when drag listening starts (but a real drag has not necessarily began).\n\t\t// ev might be undefined if dragging was started manually.\n\t\tlistenStart: function(ev) {\n\t\t\tvar subjectEl = this.subjectEl;\n\t\t\tvar subjectRect;\n\t\t\tvar origPoint;\n\t\t\tvar point;\n\t\n\t\t\tDragListener.prototype.listenStart.apply(this, arguments); // call the super-method\n\t\n\t\t\tthis.computeCoords();\n\t\n\t\t\tif (ev) {\n\t\t\t\torigPoint = { left: ev.pageX, top: ev.pageY };\n\t\t\t\tpoint = origPoint;\n\t\n\t\t\t\t// constrain the point to bounds of the element being dragged\n\t\t\t\tif (subjectEl) {\n\t\t\t\t\tsubjectRect = getOuterRect(subjectEl); // used for centering as well\n\t\t\t\t\tpoint = constrainPoint(point, subjectRect);\n\t\t\t\t}\n\t\n\t\t\t\tthis.origCell = this.getCell(point.left, point.top);\n\t\n\t\t\t\t// treat the center of the subject as the collision point?\n\t\t\t\tif (subjectEl && this.options.subjectCenter) {\n\t\n\t\t\t\t\t// only consider the area the subject overlaps the cell. best for large subjects\n\t\t\t\t\tif (this.origCell) {\n\t\t\t\t\t\tsubjectRect = intersectRects(this.origCell, subjectRect) ||\n\t\t\t\t\t\t\tsubjectRect; // in case there is no intersection\n\t\t\t\t\t}\n\t\n\t\t\t\t\tpoint = getRectCenter(subjectRect);\n\t\t\t\t}\n\t\n\t\t\t\tthis.coordAdjust = diffPoints(point, origPoint); // point - origPoint\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.origCell = null;\n\t\t\t\tthis.coordAdjust = null;\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Recomputes the drag-critical positions of elements\n\t\tcomputeCoords: function() {\n\t\t\tthis.coordMap.build();\n\t\t\tthis.computeScrollBounds();\n\t\t},\n\t\n\t\n\t\t// Called when the actual drag has started\n\t\tdragStart: function(ev) {\n\t\t\tvar cell;\n\t\n\t\t\tDragListener.prototype.dragStart.apply(this, arguments); // call the super-method\n\t\n\t\t\tcell = this.getCell(ev.pageX, ev.pageY); // might be different from this.origCell if the min-distance is large\n\t\n\t\t\t// report the initial cell the mouse is over\n\t\t\t// especially important if no min-distance and drag starts immediately\n\t\t\tif (cell) {\n\t\t\t\tthis.cellOver(cell);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Called when the drag moves\n\t\tdrag: function(dx, dy, ev) {\n\t\t\tvar cell;\n\t\n\t\t\tDragListener.prototype.drag.apply(this, arguments); // call the super-method\n\t\n\t\t\tcell = this.getCell(ev.pageX, ev.pageY);\n\t\n\t\t\tif (!isCellsEqual(cell, this.cell)) { // a different cell than before?\n\t\t\t\tif (this.cell) {\n\t\t\t\t\tthis.cellOut();\n\t\t\t\t}\n\t\t\t\tif (cell) {\n\t\t\t\t\tthis.cellOver(cell);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Called when dragging has been stopped\n\t\tdragStop: function() {\n\t\t\tthis.cellDone();\n\t\t\tDragListener.prototype.dragStop.apply(this, arguments); // call the super-method\n\t\t},\n\t\n\t\n\t\t// Called when a the mouse has just moved over a new cell\n\t\tcellOver: function(cell) {\n\t\t\tthis.cell = cell;\n\t\t\tthis.trigger('cellOver', cell, isCellsEqual(cell, this.origCell), this.origCell);\n\t\t},\n\t\n\t\n\t\t// Called when the mouse has just moved out of a cell\n\t\tcellOut: function() {\n\t\t\tif (this.cell) {\n\t\t\t\tthis.trigger('cellOut', this.cell);\n\t\t\t\tthis.cellDone();\n\t\t\t\tthis.cell = null;\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Called after a cellOut. Also called before a dragStop\n\t\tcellDone: function() {\n\t\t\tif (this.cell) {\n\t\t\t\tthis.trigger('cellDone', this.cell);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Called when drag listening has stopped\n\t\tlistenStop: function() {\n\t\t\tDragListener.prototype.listenStop.apply(this, arguments); // call the super-method\n\t\n\t\t\tthis.origCell = this.cell = null;\n\t\t\tthis.coordMap.clear();\n\t\t},\n\t\n\t\n\t\t// Called when scrolling has stopped, whether through auto scroll, or the user scrolling\n\t\tscrollStop: function() {\n\t\t\tDragListener.prototype.scrollStop.apply(this, arguments); // call the super-method\n\t\n\t\t\tthis.computeCoords(); // cells' absolute positions will be in new places. recompute\n\t\t},\n\t\n\t\n\t\t// Gets the cell underneath the coordinates for the given mouse event\n\t\tgetCell: function(left, top) {\n\t\n\t\t\tif (this.coordAdjust) {\n\t\t\t\tleft += this.coordAdjust.left;\n\t\t\t\ttop += this.coordAdjust.top;\n\t\t\t}\n\t\n\t\t\treturn this.coordMap.getCell(left, top);\n\t\t}\n\t\n\t});\n\t\n\t\n\t// Returns `true` if the cells are identically equal. `false` otherwise.\n\t// They must have the same row, col, and be from the same grid.\n\t// Two null values will be considered equal, as two \"out of the grid\" states are the same.\n\tfunction isCellsEqual(cell1, cell2) {\n\t\n\t\tif (!cell1 && !cell2) {\n\t\t\treturn true;\n\t\t}\n\t\n\t\tif (cell1 && cell2) {\n\t\t\treturn cell1.grid === cell2.grid &&\n\t\t\t\tcell1.row === cell2.row &&\n\t\t\t\tcell1.col === cell2.col;\n\t\t}\n\t\n\t\treturn false;\n\t}\n\t\n\t;;\n\t\n\t/* Creates a clone of an element and lets it track the mouse as it moves\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tvar MouseFollower = Class.extend({\n\t\n\t\toptions: null,\n\t\n\t\tsourceEl: null, // the element that will be cloned and made to look like it is dragging\n\t\tel: null, // the clone of `sourceEl` that will track the mouse\n\t\tparentEl: null, // the element that `el` (the clone) will be attached to\n\t\n\t\t// the initial position of el, relative to the offset parent. made to match the initial offset of sourceEl\n\t\ttop0: null,\n\t\tleft0: null,\n\t\n\t\t// the initial position of the mouse\n\t\tmouseY0: null,\n\t\tmouseX0: null,\n\t\n\t\t// the number of pixels the mouse has moved from its initial position\n\t\ttopDelta: null,\n\t\tleftDelta: null,\n\t\n\t\tmousemoveProxy: null, // document mousemove handler, bound to the MouseFollower's `this`\n\t\n\t\tisFollowing: false,\n\t\tisHidden: false,\n\t\tisAnimating: false, // doing the revert animation?\n\t\n\t\tconstructor: function(sourceEl, options) {\n\t\t\tthis.options = options = options || {};\n\t\t\tthis.sourceEl = sourceEl;\n\t\t\tthis.parentEl = options.parentEl ? $(options.parentEl) : sourceEl.parent(); // default to sourceEl's parent\n\t\t},\n\t\n\t\n\t\t// Causes the element to start following the mouse\n\t\tstart: function(ev) {\n\t\t\tif (!this.isFollowing) {\n\t\t\t\tthis.isFollowing = true;\n\t\n\t\t\t\tthis.mouseY0 = ev.pageY;\n\t\t\t\tthis.mouseX0 = ev.pageX;\n\t\t\t\tthis.topDelta = 0;\n\t\t\t\tthis.leftDelta = 0;\n\t\n\t\t\t\tif (!this.isHidden) {\n\t\t\t\t\tthis.updatePosition();\n\t\t\t\t}\n\t\n\t\t\t\t$(document).on('mousemove', this.mousemoveProxy = proxy(this, 'mousemove'));\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Causes the element to stop following the mouse. If shouldRevert is true, will animate back to original position.\n\t\t// `callback` gets invoked when the animation is complete. If no animation, it is invoked immediately.\n\t\tstop: function(shouldRevert, callback) {\n\t\t\tvar _this = this;\n\t\t\tvar revertDuration = this.options.revertDuration;\n\t\n\t\t\tfunction complete() {\n\t\t\t\tthis.isAnimating = false;\n\t\t\t\t_this.removeElement();\n\t\n\t\t\t\tthis.top0 = this.left0 = null; // reset state for future updatePosition calls\n\t\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (this.isFollowing && !this.isAnimating) { // disallow more than one stop animation at a time\n\t\t\t\tthis.isFollowing = false;\n\t\n\t\t\t\t$(document).off('mousemove', this.mousemoveProxy);\n\t\n\t\t\t\tif (shouldRevert && revertDuration && !this.isHidden) { // do a revert animation?\n\t\t\t\t\tthis.isAnimating = true;\n\t\t\t\t\tthis.el.animate({\n\t\t\t\t\t\ttop: this.top0,\n\t\t\t\t\t\tleft: this.left0\n\t\t\t\t\t}, {\n\t\t\t\t\t\tduration: revertDuration,\n\t\t\t\t\t\tcomplete: complete\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcomplete();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Gets the tracking element. Create it if necessary\n\t\tgetEl: function() {\n\t\t\tvar el = this.el;\n\t\n\t\t\tif (!el) {\n\t\t\t\tthis.sourceEl.width(); // hack to force IE8 to compute correct bounding box\n\t\t\t\tel = this.el = this.sourceEl.clone()\n\t\t\t\t\t.css({\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tvisibility: '', // in case original element was hidden (commonly through hideEvents())\n\t\t\t\t\t\tdisplay: this.isHidden ? 'none' : '', // for when initially hidden\n\t\t\t\t\t\tmargin: 0,\n\t\t\t\t\t\tright: 'auto', // erase and set width instead\n\t\t\t\t\t\tbottom: 'auto', // erase and set height instead\n\t\t\t\t\t\twidth: this.sourceEl.width(), // explicit height in case there was a 'right' value\n\t\t\t\t\t\theight: this.sourceEl.height(), // explicit width in case there was a 'bottom' value\n\t\t\t\t\t\topacity: this.options.opacity || '',\n\t\t\t\t\t\tzIndex: this.options.zIndex\n\t\t\t\t\t})\n\t\t\t\t\t.appendTo(this.parentEl);\n\t\t\t}\n\t\n\t\t\treturn el;\n\t\t},\n\t\n\t\n\t\t// Removes the tracking element if it has already been created\n\t\tremoveElement: function() {\n\t\t\tif (this.el) {\n\t\t\t\tthis.el.remove();\n\t\t\t\tthis.el = null;\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Update the CSS position of the tracking element\n\t\tupdatePosition: function() {\n\t\t\tvar sourceOffset;\n\t\t\tvar origin;\n\t\n\t\t\tthis.getEl(); // ensure this.el\n\t\n\t\t\t// make sure origin info was computed\n\t\t\tif (this.top0 === null) {\n\t\t\t\tthis.sourceEl.width(); // hack to force IE8 to compute correct bounding box\n\t\t\t\tsourceOffset = this.sourceEl.offset();\n\t\t\t\torigin = this.el.offsetParent().offset();\n\t\t\t\tthis.top0 = sourceOffset.top - origin.top;\n\t\t\t\tthis.left0 = sourceOffset.left - origin.left;\n\t\t\t}\n\t\n\t\t\tthis.el.css({\n\t\t\t\ttop: this.top0 + this.topDelta,\n\t\t\t\tleft: this.left0 + this.leftDelta\n\t\t\t});\n\t\t},\n\t\n\t\n\t\t// Gets called when the user moves the mouse\n\t\tmousemove: function(ev) {\n\t\t\tthis.topDelta = ev.pageY - this.mouseY0;\n\t\t\tthis.leftDelta = ev.pageX - this.mouseX0;\n\t\n\t\t\tif (!this.isHidden) {\n\t\t\t\tthis.updatePosition();\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Temporarily makes the tracking element invisible. Can be called before following starts\n\t\thide: function() {\n\t\t\tif (!this.isHidden) {\n\t\t\t\tthis.isHidden = true;\n\t\t\t\tif (this.el) {\n\t\t\t\t\tthis.el.hide();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Show the tracking element after it has been temporarily hidden\n\t\tshow: function() {\n\t\t\tif (this.isHidden) {\n\t\t\t\tthis.isHidden = false;\n\t\t\t\tthis.updatePosition();\n\t\t\t\tthis.getEl().show();\n\t\t\t}\n\t\t}\n\t\n\t});\n\t\n\t;;\n\t\n\t/* A utility class for rendering <tr> rows.\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t// It leverages methods of the subclass and the View to determine custom rendering behavior for each row \"type\"\n\t// (such as highlight rows, day rows, helper rows, etc).\n\t\n\tvar RowRenderer = Class.extend({\n\t\n\t\tview: null, // a View object\n\t\tisRTL: null, // shortcut to the view's isRTL option\n\t\tcellHtml: '<td/>', // plain default HTML used for a cell when no other is available\n\t\n\t\n\t\tconstructor: function(view) {\n\t\t\tthis.view = view;\n\t\t\tthis.isRTL = view.opt('isRTL');\n\t\t},\n\t\n\t\n\t\t// Renders the HTML for a row, leveraging custom cell-HTML-renderers based on the `rowType`.\n\t\t// Also applies the \"intro\" and \"outro\" cells, which are specified by the subclass and views.\n\t\t// `row` is an optional row number.\n\t\trowHtml: function(rowType, row) {\n\t\t\tvar renderCell = this.getHtmlRenderer('cell', rowType);\n\t\t\tvar rowCellHtml = '';\n\t\t\tvar col;\n\t\t\tvar cell;\n\t\n\t\t\trow = row || 0;\n\t\n\t\t\tfor (col = 0; col < this.colCnt; col++) {\n\t\t\t\tcell = this.getCell(row, col);\n\t\t\t\trowCellHtml += renderCell(cell);\n\t\t\t}\n\t\n\t\t\trowCellHtml = this.bookendCells(rowCellHtml, rowType, row); // apply intro and outro\n\t\n\t\t\treturn '<tr>' + rowCellHtml + '</tr>';\n\t\t},\n\t\n\t\n\t\t// Applies the \"intro\" and \"outro\" HTML to the given cells.\n\t\t// Intro means the leftmost cell when the calendar is LTR and the rightmost cell when RTL. Vice-versa for outro.\n\t\t// `cells` can be an HTML string of <td>'s or a jQuery <tr> element\n\t\t// `row` is an optional row number.\n\t\tbookendCells: function(cells, rowType, row) {\n\t\t\tvar intro = this.getHtmlRenderer('intro', rowType)(row || 0);\n\t\t\tvar outro = this.getHtmlRenderer('outro', rowType)(row || 0);\n\t\t\tvar prependHtml = this.isRTL ? outro : intro;\n\t\t\tvar appendHtml = this.isRTL ? intro : outro;\n\t\n\t\t\tif (typeof cells === 'string') {\n\t\t\t\treturn prependHtml + cells + appendHtml;\n\t\t\t}\n\t\t\telse { // a jQuery <tr> element\n\t\t\t\treturn cells.prepend(prependHtml).append(appendHtml);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Returns an HTML-rendering function given a specific `rendererName` (like cell, intro, or outro) and a specific\n\t\t// `rowType` (like day, eventSkeleton, helperSkeleton), which is optional.\n\t\t// If a renderer for the specific rowType doesn't exist, it will fall back to a generic renderer.\n\t\t// We will query the View object first for any custom rendering functions, then the methods of the subclass.\n\t\tgetHtmlRenderer: function(rendererName, rowType) {\n\t\t\tvar view = this.view;\n\t\t\tvar generalName; // like \"cellHtml\"\n\t\t\tvar specificName; // like \"dayCellHtml\". based on rowType\n\t\t\tvar provider; // either the View or the RowRenderer subclass, whichever provided the method\n\t\t\tvar renderer;\n\t\n\t\t\tgeneralName = rendererName + 'Html';\n\t\t\tif (rowType) {\n\t\t\t\tspecificName = rowType + capitaliseFirstLetter(rendererName) + 'Html';\n\t\t\t}\n\t\n\t\t\tif (specificName && (renderer = view[specificName])) {\n\t\t\t\tprovider = view;\n\t\t\t}\n\t\t\telse if (specificName && (renderer = this[specificName])) {\n\t\t\t\tprovider = this;\n\t\t\t}\n\t\t\telse if ((renderer = view[generalName])) {\n\t\t\t\tprovider = view;\n\t\t\t}\n\t\t\telse if ((renderer = this[generalName])) {\n\t\t\t\tprovider = this;\n\t\t\t}\n\t\n\t\t\tif (typeof renderer === 'function') {\n\t\t\t\treturn function() {\n\t\t\t\t\treturn renderer.apply(provider, arguments) || ''; // use correct `this` and always return a string\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\t// the rendered can be a plain string as well. if not specified, always an empty string.\n\t\t\treturn function() {\n\t\t\t\treturn renderer || '';\n\t\t\t};\n\t\t}\n\t\n\t});\n\t\n\t;;\n\t\n\t/* An abstract class comprised of a \"grid\" of cells that each represent a specific datetime\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tvar Grid = fc.Grid = RowRenderer.extend({\n\t\n\t\tstart: null, // the date of the first cell\n\t\tend: null, // the date after the last cell\n\t\n\t\trowCnt: 0, // number of rows\n\t\tcolCnt: 0, // number of cols\n\t\n\t\tel: null, // the containing element\n\t\tcoordMap: null, // a GridCoordMap that converts pixel values to datetimes\n\t\telsByFill: null, // a hash of jQuery element sets used for rendering each fill. Keyed by fill name.\n\t\n\t\texternalDragStartProxy: null, // binds the Grid's scope to externalDragStart (in DayGrid.events)\n\t\n\t\t// derived from options\n\t\tcolHeadFormat: null, // TODO: move to another class. not applicable to all Grids\n\t\teventTimeFormat: null,\n\t\tdisplayEventTime: null,\n\t\tdisplayEventEnd: null,\n\t\n\t\t// if all cells are the same length of time, the duration they all share. optional.\n\t\t// when defined, allows the computeCellRange shortcut, as well as improved resizing behavior.\n\t\tcellDuration: null,\n\t\n\t\t// if defined, holds the unit identified (ex: \"year\" or \"month\") that determines the level of granularity\n\t\t// of the date cells. if not defined, assumes to be day and time granularity.\n\t\tlargeUnit: null,\n\t\n\t\n\t\tconstructor: function() {\n\t\t\tRowRenderer.apply(this, arguments); // call the super-constructor\n\t\n\t\t\tthis.coordMap = new GridCoordMap(this);\n\t\t\tthis.elsByFill = {};\n\t\t\tthis.externalDragStartProxy = proxy(this, 'externalDragStart');\n\t\t},\n\t\n\t\n\t\t/* Options\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Generates the format string used for the text in column headers, if not explicitly defined by 'columnFormat'\n\t\t// TODO: move to another class. not applicable to all Grids\n\t\tcomputeColHeadFormat: function() {\n\t\t\t// subclasses must implement if they want to use headHtml()\n\t\t},\n\t\n\t\n\t\t// Generates the format string used for event time text, if not explicitly defined by 'timeFormat'\n\t\tcomputeEventTimeFormat: function() {\n\t\t\treturn this.view.opt('smallTimeFormat');\n\t\t},\n\t\n\t\n\t\t// Determines whether events should have their end times displayed, if not explicitly defined by 'displayEventTime'.\n\t\t// Only applies to non-all-day events.\n\t\tcomputeDisplayEventTime: function() {\n\t\t\treturn true;\n\t\t},\n\t\n\t\n\t\t// Determines whether events should have their end times displayed, if not explicitly defined by 'displayEventEnd'\n\t\tcomputeDisplayEventEnd: function() {\n\t\t\treturn true;\n\t\t},\n\t\n\t\n\t\t/* Dates\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Tells the grid about what period of time to display.\n\t\t// Any date-related cell system internal data should be generated.\n\t\tsetRange: function(range) {\n\t\t\tthis.start = range.start.clone();\n\t\t\tthis.end = range.end.clone();\n\t\n\t\t\tthis.rangeUpdated();\n\t\t\tthis.processRangeOptions();\n\t\t},\n\t\n\t\n\t\t// Called when internal variables that rely on the range should be updated\n\t\trangeUpdated: function() {\n\t\t},\n\t\n\t\n\t\t// Updates values that rely on options and also relate to range\n\t\tprocessRangeOptions: function() {\n\t\t\tvar view = this.view;\n\t\t\tvar displayEventTime;\n\t\t\tvar displayEventEnd;\n\t\n\t\t\t// Populate option-derived settings. Look for override first, then compute if necessary.\n\t\t\tthis.colHeadFormat = view.opt('columnFormat') || this.computeColHeadFormat();\n\t\n\t\t\tthis.eventTimeFormat =\n\t\t\t\tview.opt('eventTimeFormat') ||\n\t\t\t\tview.opt('timeFormat') || // deprecated\n\t\t\t\tthis.computeEventTimeFormat();\n\t\n\t\t\tdisplayEventTime = view.opt('displayEventTime');\n\t\t\tif (displayEventTime == null) {\n\t\t\t\tdisplayEventTime = this.computeDisplayEventTime(); // might be based off of range\n\t\t\t}\n\t\n\t\t\tdisplayEventEnd = view.opt('displayEventEnd');\n\t\t\tif (displayEventEnd == null) {\n\t\t\t\tdisplayEventEnd = this.computeDisplayEventEnd(); // might be based off of range\n\t\t\t}\n\t\n\t\t\tthis.displayEventTime = displayEventTime;\n\t\t\tthis.displayEventEnd = displayEventEnd;\n\t\t},\n\t\n\t\n\t\t// Called before the grid's coordinates will need to be queried for cells.\n\t\t// Any non-date-related cell system internal data should be built.\n\t\tbuild: function() {\n\t\t},\n\t\n\t\n\t\t// Called after the grid's coordinates are done being relied upon.\n\t\t// Any non-date-related cell system internal data should be cleared.\n\t\tclear: function() {\n\t\t},\n\t\n\t\n\t\t// Converts a range with an inclusive `start` and an exclusive `end` into an array of segment objects\n\t\trangeToSegs: function(range) {\n\t\t\t// subclasses must implement\n\t\t},\n\t\n\t\n\t\t// Diffs the two dates, returning a duration, based on granularity of the grid\n\t\tdiffDates: function(a, b) {\n\t\t\tif (this.largeUnit) {\n\t\t\t\treturn diffByUnit(a, b, this.largeUnit);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn diffDayTime(a, b);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t/* Cells\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\t// NOTE: columns are ordered left-to-right\n\t\n\t\n\t\t// Gets an object containing row/col number, misc data, and range information about the cell.\n\t\t// Accepts row/col values, an object with row/col properties, or a single-number offset from the first cell.\n\t\tgetCell: function(row, col) {\n\t\t\tvar cell;\n\t\n\t\t\tif (col == null) {\n\t\t\t\tif (typeof row === 'number') { // a single-number offset\n\t\t\t\t\tcol = row % this.colCnt;\n\t\t\t\t\trow = Math.floor(row / this.colCnt);\n\t\t\t\t}\n\t\t\t\telse { // an object with row/col properties\n\t\t\t\t\tcol = row.col;\n\t\t\t\t\trow = row.row;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tcell = { row: row, col: col };\n\t\n\t\t\t$.extend(cell, this.getRowData(row), this.getColData(col));\n\t\t\t$.extend(cell, this.computeCellRange(cell));\n\t\n\t\t\treturn cell;\n\t\t},\n\t\n\t\n\t\t// Given a cell object with index and misc data, generates a range object\n\t\t// If the grid is leveraging cellDuration, this doesn't need to be defined. Only computeCellDate does.\n\t\t// If being overridden, should return a range with reference-free date copies.\n\t\tcomputeCellRange: function(cell) {\n\t\t\tvar date = this.computeCellDate(cell);\n\t\n\t\t\treturn {\n\t\t\t\tstart: date,\n\t\t\t\tend: date.clone().add(this.cellDuration)\n\t\t\t};\n\t\t},\n\t\n\t\n\t\t// Given a cell, returns its start date. Should return a reference-free date copy.\n\t\tcomputeCellDate: function(cell) {\n\t\t\t// subclasses can implement\n\t\t},\n\t\n\t\n\t\t// Retrieves misc data about the given row\n\t\tgetRowData: function(row) {\n\t\t\treturn {};\n\t\t},\n\t\n\t\n\t\t// Retrieves misc data baout the given column\n\t\tgetColData: function(col) {\n\t\t\treturn {};\n\t\t},\n\t\n\t\n\t\t// Retrieves the element representing the given row\n\t\tgetRowEl: function(row) {\n\t\t\t// subclasses should implement if leveraging the default getCellDayEl() or computeRowCoords()\n\t\t},\n\t\n\t\n\t\t// Retrieves the element representing the given column\n\t\tgetColEl: function(col) {\n\t\t\t// subclasses should implement if leveraging the default getCellDayEl() or computeColCoords()\n\t\t},\n\t\n\t\n\t\t// Given a cell object, returns the element that represents the cell's whole-day\n\t\tgetCellDayEl: function(cell) {\n\t\t\treturn this.getColEl(cell.col) || this.getRowEl(cell.row);\n\t\t},\n\t\n\t\n\t\t/* Cell Coordinates\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Computes the top/bottom coordinates of all rows.\n\t\t// By default, queries the dimensions of the element provided by getRowEl().\n\t\tcomputeRowCoords: function() {\n\t\t\tvar items = [];\n\t\t\tvar i, el;\n\t\t\tvar top;\n\t\n\t\t\tfor (i = 0; i < this.rowCnt; i++) {\n\t\t\t\tel = this.getRowEl(i);\n\t\t\t\ttop = el.offset().top;\n\t\t\t\titems.push({\n\t\t\t\t\ttop: top,\n\t\t\t\t\tbottom: top + el.outerHeight()\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn items;\n\t\t},\n\t\n\t\n\t\t// Computes the left/right coordinates of all rows.\n\t\t// By default, queries the dimensions of the element provided by getColEl(). Columns can be LTR or RTL.\n\t\tcomputeColCoords: function() {\n\t\t\tvar items = [];\n\t\t\tvar i, el;\n\t\t\tvar left;\n\t\n\t\t\tfor (i = 0; i < this.colCnt; i++) {\n\t\t\t\tel = this.getColEl(i);\n\t\t\t\tleft = el.offset().left;\n\t\t\t\titems.push({\n\t\t\t\t\tleft: left,\n\t\t\t\t\tright: left + el.outerWidth()\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn items;\n\t\t},\n\t\n\t\n\t\t/* Rendering\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Sets the container element that the grid should render inside of.\n\t\t// Does other DOM-related initializations.\n\t\tsetElement: function(el) {\n\t\t\tvar _this = this;\n\t\n\t\t\tthis.el = el;\n\t\n\t\t\t// attach a handler to the grid's root element.\n\t\t\t// jQuery will take care of unregistering them when removeElement gets called.\n\t\t\tel.on('mousedown', function(ev) {\n\t\t\t\tif (\n\t\t\t\t\t!$(ev.target).is('.fc-event-container *, .fc-more') && // not an an event element, or \"more..\" link\n\t\t\t\t\t!$(ev.target).closest('.fc-popover').length // not on a popover (like the \"more..\" events one)\n\t\t\t\t) {\n\t\t\t\t\t_this.dayMousedown(ev);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\t// attach event-element-related handlers. in Grid.events\n\t\t\t// same garbage collection note as above.\n\t\t\tthis.bindSegHandlers();\n\t\n\t\t\tthis.bindGlobalHandlers();\n\t\t},\n\t\n\t\n\t\t// Removes the grid's container element from the DOM. Undoes any other DOM-related attachments.\n\t\t// DOES NOT remove any content beforehand (doesn't clear events or call unrenderDates), unlike View\n\t\tremoveElement: function() {\n\t\t\tthis.unbindGlobalHandlers();\n\t\n\t\t\tthis.el.remove();\n\t\n\t\t\t// NOTE: we don't null-out this.el for the same reasons we don't do it within View::removeElement\n\t\t},\n\t\n\t\n\t\t// Renders the basic structure of grid view before any content is rendered\n\t\trenderSkeleton: function() {\n\t\t\t// subclasses should implement\n\t\t},\n\t\n\t\n\t\t// Renders the grid's date-related content (like cells that represent days/times).\n\t\t// Assumes setRange has already been called and the skeleton has already been rendered.\n\t\trenderDates: function() {\n\t\t\t// subclasses should implement\n\t\t},\n\t\n\t\n\t\t// Unrenders the grid's date-related content\n\t\tunrenderDates: function() {\n\t\t\t// subclasses should implement\n\t\t},\n\t\n\t\n\t\t/* Handlers\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Binds DOM handlers to elements that reside outside the grid, such as the document\n\t\tbindGlobalHandlers: function() {\n\t\t\t$(document).on('dragstart sortstart', this.externalDragStartProxy); // jqui\n\t\t},\n\t\n\t\n\t\t// Unbinds DOM handlers from elements that reside outside the grid\n\t\tunbindGlobalHandlers: function() {\n\t\t\t$(document).off('dragstart sortstart', this.externalDragStartProxy); // jqui\n\t\t},\n\t\n\t\n\t\t// Process a mousedown on an element that represents a day. For day clicking and selecting.\n\t\tdayMousedown: function(ev) {\n\t\t\tvar _this = this;\n\t\t\tvar view = this.view;\n\t\t\tvar isSelectable = view.opt('selectable');\n\t\t\tvar dayClickCell; // null if invalid dayClick\n\t\t\tvar selectionRange; // null if invalid selection\n\t\n\t\t\t// this listener tracks a mousedown on a day element, and a subsequent drag.\n\t\t\t// if the drag ends on the same day, it is a 'dayClick'.\n\t\t\t// if 'selectable' is enabled, this listener also detects selections.\n\t\t\tvar dragListener = new CellDragListener(this.coordMap, {\n\t\t\t\t//distance: 5, // needs more work if we want dayClick to fire correctly\n\t\t\t\tscroll: view.opt('dragScroll'),\n\t\t\t\tdragStart: function() {\n\t\t\t\t\tview.unselect(); // since we could be rendering a new selection, we want to clear any old one\n\t\t\t\t},\n\t\t\t\tcellOver: function(cell, isOrig, origCell) {\n\t\t\t\t\tif (origCell) { // click needs to have started on a cell\n\t\t\t\t\t\tdayClickCell = isOrig ? cell : null; // single-cell selection is a day click\n\t\t\t\t\t\tif (isSelectable) {\n\t\t\t\t\t\t\tselectionRange = _this.computeSelection(origCell, cell);\n\t\t\t\t\t\t\tif (selectionRange) {\n\t\t\t\t\t\t\t\t_this.renderSelection(selectionRange);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tdisableCursor();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcellOut: function(cell) {\n\t\t\t\t\tdayClickCell = null;\n\t\t\t\t\tselectionRange = null;\n\t\t\t\t\t_this.unrenderSelection();\n\t\t\t\t\tenableCursor();\n\t\t\t\t},\n\t\t\t\tlistenStop: function(ev) {\n\t\t\t\t\tif (dayClickCell) {\n\t\t\t\t\t\tview.triggerDayClick(dayClickCell, _this.getCellDayEl(dayClickCell), ev);\n\t\t\t\t\t}\n\t\t\t\t\tif (selectionRange) {\n\t\t\t\t\t\t// the selection will already have been rendered. just report it\n\t\t\t\t\t\tview.reportSelection(selectionRange, ev);\n\t\t\t\t\t}\n\t\t\t\t\tenableCursor();\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tdragListener.mousedown(ev); // start listening, which will eventually initiate a dragStart\n\t\t},\n\t\n\t\n\t\t/* Event Helper\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\t// TODO: should probably move this to Grid.events, like we did event dragging / resizing\n\t\n\t\n\t\t// Renders a mock event over the given range\n\t\trenderRangeHelper: function(range, sourceSeg) {\n\t\t\tvar fakeEvent = this.fabricateHelperEvent(range, sourceSeg);\n\t\n\t\t\tthis.renderHelper(fakeEvent, sourceSeg); // do the actual rendering\n\t\t},\n\t\n\t\n\t\t// Builds a fake event given a date range it should cover, and a segment is should be inspired from.\n\t\t// The range's end can be null, in which case the mock event that is rendered will have a null end time.\n\t\t// `sourceSeg` is the internal segment object involved in the drag. If null, something external is dragging.\n\t\tfabricateHelperEvent: function(range, sourceSeg) {\n\t\t\tvar fakeEvent = sourceSeg ? createObject(sourceSeg.event) : {}; // mask the original event object if possible\n\t\n\t\t\tfakeEvent.start = range.start.clone();\n\t\t\tfakeEvent.end = range.end ? range.end.clone() : null;\n\t\t\tfakeEvent.allDay = null; // force it to be freshly computed by normalizeEventRange\n\t\t\tthis.view.calendar.normalizeEventRange(fakeEvent);\n\t\n\t\t\t// this extra className will be useful for differentiating real events from mock events in CSS\n\t\t\tfakeEvent.className = (fakeEvent.className || []).concat('fc-helper');\n\t\n\t\t\t// if something external is being dragged in, don't render a resizer\n\t\t\tif (!sourceSeg) {\n\t\t\t\tfakeEvent.editable = false;\n\t\t\t}\n\t\n\t\t\treturn fakeEvent;\n\t\t},\n\t\n\t\n\t\t// Renders a mock event\n\t\trenderHelper: function(event, sourceSeg) {\n\t\t\t// subclasses must implement\n\t\t},\n\t\n\t\n\t\t// Unrenders a mock event\n\t\tunrenderHelper: function() {\n\t\t\t// subclasses must implement\n\t\t},\n\t\n\t\n\t\t/* Selection\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders a visual indication of a selection. Will highlight by default but can be overridden by subclasses.\n\t\trenderSelection: function(range) {\n\t\t\tthis.renderHighlight(this.selectionRangeToSegs(range));\n\t\t},\n\t\n\t\n\t\t// Unrenders any visual indications of a selection. Will unrender a highlight by default.\n\t\tunrenderSelection: function() {\n\t\t\tthis.unrenderHighlight();\n\t\t},\n\t\n\t\n\t\t// Given the first and last cells of a selection, returns a range object.\n\t\t// Will return something falsy if the selection is invalid (when outside of selectionConstraint for example).\n\t\t// Subclasses can override and provide additional data in the range object. Will be passed to renderSelection().\n\t\tcomputeSelection: function(firstCell, lastCell) {\n\t\t\tvar dates = [\n\t\t\t\tfirstCell.start,\n\t\t\t\tfirstCell.end,\n\t\t\t\tlastCell.start,\n\t\t\t\tlastCell.end\n\t\t\t];\n\t\t\tvar range;\n\t\n\t\t\tdates.sort(compareNumbers); // sorts chronologically. works with Moments\n\t\n\t\t\trange = {\n\t\t\t\tstart: dates[0].clone(),\n\t\t\t\tend: dates[3].clone()\n\t\t\t};\n\t\n\t\t\tif (!this.view.calendar.isSelectionRangeAllowed(range)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\treturn range;\n\t\t},\n\t\n\t\n\t\tselectionRangeToSegs: function(range) {\n\t\t\treturn this.rangeToSegs(range);\n\t\t},\n\t\n\t\n\t\t/* Highlight\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders an emphasis on the given date range. Given an array of segments.\n\t\trenderHighlight: function(segs) {\n\t\t\tthis.renderFill('highlight', segs);\n\t\t},\n\t\n\t\n\t\t// Unrenders the emphasis on a date range\n\t\tunrenderHighlight: function() {\n\t\t\tthis.unrenderFill('highlight');\n\t\t},\n\t\n\t\n\t\t// Generates an array of classNames for rendering the highlight. Used by the fill system.\n\t\thighlightSegClasses: function() {\n\t\t\treturn [ 'fc-highlight' ];\n\t\t},\n\t\n\t\n\t\t/* Fill System (highlight, background events, business hours)\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders a set of rectangles over the given segments of time.\n\t\t// MUST RETURN a subset of segs, the segs that were actually rendered.\n\t\t// Responsible for populating this.elsByFill. TODO: better API for expressing this requirement\n\t\trenderFill: function(type, segs) {\n\t\t\t// subclasses must implement\n\t\t},\n\t\n\t\n\t\t// Unrenders a specific type of fill that is currently rendered on the grid\n\t\tunrenderFill: function(type) {\n\t\t\tvar el = this.elsByFill[type];\n\t\n\t\t\tif (el) {\n\t\t\t\tel.remove();\n\t\t\t\tdelete this.elsByFill[type];\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Renders and assigns an `el` property for each fill segment. Generic enough to work with different types.\n\t\t// Only returns segments that successfully rendered.\n\t\t// To be harnessed by renderFill (implemented by subclasses).\n\t\t// Analagous to renderFgSegEls.\n\t\trenderFillSegEls: function(type, segs) {\n\t\t\tvar _this = this;\n\t\t\tvar segElMethod = this[type + 'SegEl'];\n\t\t\tvar html = '';\n\t\t\tvar renderedSegs = [];\n\t\t\tvar i;\n\t\n\t\t\tif (segs.length) {\n\t\n\t\t\t\t// build a large concatenation of segment HTML\n\t\t\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\t\t\thtml += this.fillSegHtml(type, segs[i]);\n\t\t\t\t}\n\t\n\t\t\t\t// Grab individual elements from the combined HTML string. Use each as the default rendering.\n\t\t\t\t// Then, compute the 'el' for each segment.\n\t\t\t\t$(html).each(function(i, node) {\n\t\t\t\t\tvar seg = segs[i];\n\t\t\t\t\tvar el = $(node);\n\t\n\t\t\t\t\t// allow custom filter methods per-type\n\t\t\t\t\tif (segElMethod) {\n\t\t\t\t\t\tel = segElMethod.call(_this, seg, el);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (el) { // custom filters did not cancel the render\n\t\t\t\t\t\tel = $(el); // allow custom filter to return raw DOM node\n\t\n\t\t\t\t\t\t// correct element type? (would be bad if a non-TD were inserted into a table for example)\n\t\t\t\t\t\tif (el.is(_this.fillSegTag)) {\n\t\t\t\t\t\t\tseg.el = el;\n\t\t\t\t\t\t\trenderedSegs.push(seg);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn renderedSegs;\n\t\t},\n\t\n\t\n\t\tfillSegTag: 'div', // subclasses can override\n\t\n\t\n\t\t// Builds the HTML needed for one fill segment. Generic enought o work with different types.\n\t\tfillSegHtml: function(type, seg) {\n\t\n\t\t\t// custom hooks per-type\n\t\t\tvar classesMethod = this[type + 'SegClasses'];\n\t\t\tvar cssMethod = this[type + 'SegCss'];\n\t\n\t\t\tvar classes = classesMethod ? classesMethod.call(this, seg) : [];\n\t\t\tvar css = cssToStr(cssMethod ? cssMethod.call(this, seg) : {});\n\t\n\t\t\treturn '<' + this.fillSegTag +\n\t\t\t\t(classes.length ? ' class=\"' + classes.join(' ') + '\"' : '') +\n\t\t\t\t(css ? ' style=\"' + css + '\"' : '') +\n\t\t\t\t' />';\n\t\t},\n\t\n\t\n\t\t/* Generic rendering utilities for subclasses\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders a day-of-week header row.\n\t\t// TODO: move to another class. not applicable to all Grids\n\t\theadHtml: function() {\n\t\t\treturn '' +\n\t\t\t\t'<div class=\"fc-row ' + this.view.widgetHeaderClass + '\">' +\n\t\t\t\t\t'<table>' +\n\t\t\t\t\t\t'<thead>' +\n\t\t\t\t\t\t\tthis.rowHtml('head') + // leverages RowRenderer\n\t\t\t\t\t\t'</thead>' +\n\t\t\t\t\t'</table>' +\n\t\t\t\t'</div>';\n\t\t},\n\t\n\t\n\t\t// Used by the `headHtml` method, via RowRenderer, for rendering the HTML of a day-of-week header cell\n\t\t// TODO: move to another class. not applicable to all Grids\n\t\theadCellHtml: function(cell) {\n\t\t\tvar view = this.view;\n\t\t\tvar date = cell.start;\n\t\n\t\t\treturn '' +\n\t\t\t\t'<th class=\"fc-day-header ' + view.widgetHeaderClass + ' fc-' + dayIDs[date.day()] + '\">' +\n\t\t\t\t\thtmlEscape(date.format(this.colHeadFormat)) +\n\t\t\t\t'</th>';\n\t\t},\n\t\n\t\n\t\t// Renders the HTML for a single-day background cell\n\t\tbgCellHtml: function(cell) {\n\t\t\tvar view = this.view;\n\t\t\tvar date = cell.start;\n\t\t\tvar classes = this.getDayClasses(date);\n\t\n\t\t\tclasses.unshift('fc-day', view.widgetContentClass);\n\t\n\t\t\treturn '<td class=\"' + classes.join(' ') + '\"' +\n\t\t\t\t' data-date=\"' + date.format('YYYY-MM-DD') + '\"' + // if date has a time, won't format it\n\t\t\t\t'></td>';\n\t\t},\n\t\n\t\n\t\t// Computes HTML classNames for a single-day cell\n\t\tgetDayClasses: function(date) {\n\t\t\tvar view = this.view;\n\t\t\tvar today = view.calendar.getNow().stripTime();\n\t\t\tvar classes = [ 'fc-' + dayIDs[date.day()] ];\n\t\n\t\t\tif (\n\t\t\t\tview.intervalDuration.as('months') == 1 &&\n\t\t\t\tdate.month() != view.intervalStart.month()\n\t\t\t) {\n\t\t\t\tclasses.push('fc-other-month');\n\t\t\t}\n\t\n\t\t\tif (date.isSame(today, 'day')) {\n\t\t\t\tclasses.push(\n\t\t\t\t\t'fc-today',\n\t\t\t\t\tview.highlightStateClass\n\t\t\t\t);\n\t\t\t}\n\t\t\telse if (date < today) {\n\t\t\t\tclasses.push('fc-past');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tclasses.push('fc-future');\n\t\t\t}\n\t\n\t\t\treturn classes;\n\t\t}\n\t\n\t});\n\t\n\t;;\n\t\n\t/* Event-rendering and event-interaction methods for the abstract Grid class\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tGrid.mixin({\n\t\n\t\tmousedOverSeg: null, // the segment object the user's mouse is over. null if over nothing\n\t\tisDraggingSeg: false, // is a segment being dragged? boolean\n\t\tisResizingSeg: false, // is a segment being resized? boolean\n\t\tisDraggingExternal: false, // jqui-dragging an external element? boolean\n\t\tsegs: null, // the event segments currently rendered in the grid\n\t\n\t\n\t\t// Renders the given events onto the grid\n\t\trenderEvents: function(events) {\n\t\t\tvar segs = this.eventsToSegs(events);\n\t\t\tvar bgSegs = [];\n\t\t\tvar fgSegs = [];\n\t\t\tvar i, seg;\n\t\n\t\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\t\tseg = segs[i];\n\t\n\t\t\t\tif (isBgEvent(seg.event)) {\n\t\t\t\t\tbgSegs.push(seg);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfgSegs.push(seg);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// Render each different type of segment.\n\t\t\t// Each function may return a subset of the segs, segs that were actually rendered.\n\t\t\tbgSegs = this.renderBgSegs(bgSegs) || bgSegs;\n\t\t\tfgSegs = this.renderFgSegs(fgSegs) || fgSegs;\n\t\n\t\t\tthis.segs = bgSegs.concat(fgSegs);\n\t\t},\n\t\n\t\n\t\t// Unrenders all events currently rendered on the grid\n\t\tunrenderEvents: function() {\n\t\t\tthis.triggerSegMouseout(); // trigger an eventMouseout if user's mouse is over an event\n\t\n\t\t\tthis.unrenderFgSegs();\n\t\t\tthis.unrenderBgSegs();\n\t\n\t\t\tthis.segs = null;\n\t\t},\n\t\n\t\n\t\t// Retrieves all rendered segment objects currently rendered on the grid\n\t\tgetEventSegs: function() {\n\t\t\treturn this.segs || [];\n\t\t},\n\t\n\t\n\t\t/* Foreground Segment Rendering\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders foreground event segments onto the grid. May return a subset of segs that were rendered.\n\t\trenderFgSegs: function(segs) {\n\t\t\t// subclasses must implement\n\t\t},\n\t\n\t\n\t\t// Unrenders all currently rendered foreground segments\n\t\tunrenderFgSegs: function() {\n\t\t\t// subclasses must implement\n\t\t},\n\t\n\t\n\t\t// Renders and assigns an `el` property for each foreground event segment.\n\t\t// Only returns segments that successfully rendered.\n\t\t// A utility that subclasses may use.\n\t\trenderFgSegEls: function(segs, disableResizing) {\n\t\t\tvar view = this.view;\n\t\t\tvar html = '';\n\t\t\tvar renderedSegs = [];\n\t\t\tvar i;\n\t\n\t\t\tif (segs.length) { // don't build an empty html string\n\t\n\t\t\t\t// build a large concatenation of event segment HTML\n\t\t\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\t\t\thtml += this.fgSegHtml(segs[i], disableResizing);\n\t\t\t\t}\n\t\n\t\t\t\t// Grab individual elements from the combined HTML string. Use each as the default rendering.\n\t\t\t\t// Then, compute the 'el' for each segment. An el might be null if the eventRender callback returned false.\n\t\t\t\t$(html).each(function(i, node) {\n\t\t\t\t\tvar seg = segs[i];\n\t\t\t\t\tvar el = view.resolveEventEl(seg.event, $(node));\n\t\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tel.data('fc-seg', seg); // used by handlers\n\t\t\t\t\t\tseg.el = el;\n\t\t\t\t\t\trenderedSegs.push(seg);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn renderedSegs;\n\t\t},\n\t\n\t\n\t\t// Generates the HTML for the default rendering of a foreground event segment. Used by renderFgSegEls()\n\t\tfgSegHtml: function(seg, disableResizing) {\n\t\t\t// subclasses should implement\n\t\t},\n\t\n\t\n\t\t/* Background Segment Rendering\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders the given background event segments onto the grid.\n\t\t// Returns a subset of the segs that were actually rendered.\n\t\trenderBgSegs: function(segs) {\n\t\t\treturn this.renderFill('bgEvent', segs);\n\t\t},\n\t\n\t\n\t\t// Unrenders all the currently rendered background event segments\n\t\tunrenderBgSegs: function() {\n\t\t\tthis.unrenderFill('bgEvent');\n\t\t},\n\t\n\t\n\t\t// Renders a background event element, given the default rendering. Called by the fill system.\n\t\tbgEventSegEl: function(seg, el) {\n\t\t\treturn this.view.resolveEventEl(seg.event, el); // will filter through eventRender\n\t\t},\n\t\n\t\n\t\t// Generates an array of classNames to be used for the default rendering of a background event.\n\t\t// Called by the fill system.\n\t\tbgEventSegClasses: function(seg) {\n\t\t\tvar event = seg.event;\n\t\t\tvar source = event.source || {};\n\t\n\t\t\treturn [ 'fc-bgevent' ].concat(\n\t\t\t\tevent.className,\n\t\t\t\tsource.className || []\n\t\t\t);\n\t\t},\n\t\n\t\n\t\t// Generates a semicolon-separated CSS string to be used for the default rendering of a background event.\n\t\t// Called by the fill system.\n\t\t// TODO: consolidate with getEventSkinCss?\n\t\tbgEventSegCss: function(seg) {\n\t\t\tvar view = this.view;\n\t\t\tvar event = seg.event;\n\t\t\tvar source = event.source || {};\n\t\n\t\t\treturn {\n\t\t\t\t'background-color':\n\t\t\t\t\tevent.backgroundColor ||\n\t\t\t\t\tevent.color ||\n\t\t\t\t\tsource.backgroundColor ||\n\t\t\t\t\tsource.color ||\n\t\t\t\t\tview.opt('eventBackgroundColor') ||\n\t\t\t\t\tview.opt('eventColor')\n\t\t\t};\n\t\t},\n\t\n\t\n\t\t// Generates an array of classNames to be used for the rendering business hours overlay. Called by the fill system.\n\t\tbusinessHoursSegClasses: function(seg) {\n\t\t\treturn [ 'fc-nonbusiness', 'fc-bgevent' ];\n\t\t},\n\t\n\t\n\t\t/* Handlers\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Attaches event-element-related handlers to the container element and leverage bubbling\n\t\tbindSegHandlers: function() {\n\t\t\tvar _this = this;\n\t\t\tvar view = this.view;\n\t\n\t\t\t$.each(\n\t\t\t\t{\n\t\t\t\t\tmouseenter: function(seg, ev) {\n\t\t\t\t\t\t_this.triggerSegMouseover(seg, ev);\n\t\t\t\t\t},\n\t\t\t\t\tmouseleave: function(seg, ev) {\n\t\t\t\t\t\t_this.triggerSegMouseout(seg, ev);\n\t\t\t\t\t},\n\t\t\t\t\tclick: function(seg, ev) {\n\t\t\t\t\t\treturn view.trigger('eventClick', this, seg.event, ev); // can return `false` to cancel\n\t\t\t\t\t},\n\t\t\t\t\tmousedown: function(seg, ev) {\n\t\t\t\t\t\tif ($(ev.target).is('.fc-resizer') && view.isEventResizable(seg.event)) {\n\t\t\t\t\t\t\t_this.segResizeMousedown(seg, ev, $(ev.target).is('.fc-start-resizer'));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (view.isEventDraggable(seg.event)) {\n\t\t\t\t\t\t\t_this.segDragMousedown(seg, ev);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction(name, func) {\n\t\t\t\t\t// attach the handler to the container element and only listen for real event elements via bubbling\n\t\t\t\t\t_this.el.on(name, '.fc-event-container > *', function(ev) {\n\t\t\t\t\t\tvar seg = $(this).data('fc-seg'); // grab segment data. put there by View::renderEvents\n\t\n\t\t\t\t\t\t// only call the handlers if there is not a drag/resize in progress\n\t\t\t\t\t\tif (seg && !_this.isDraggingSeg && !_this.isResizingSeg) {\n\t\t\t\t\t\t\treturn func.call(this, seg, ev); // `this` will be the event element\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\n\t\n\t\t// Updates internal state and triggers handlers for when an event element is moused over\n\t\ttriggerSegMouseover: function(seg, ev) {\n\t\t\tif (!this.mousedOverSeg) {\n\t\t\t\tthis.mousedOverSeg = seg;\n\t\t\t\tthis.view.trigger('eventMouseover', seg.el[0], seg.event, ev);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Updates internal state and triggers handlers for when an event element is moused out.\n\t\t// Can be given no arguments, in which case it will mouseout the segment that was previously moused over.\n\t\ttriggerSegMouseout: function(seg, ev) {\n\t\t\tev = ev || {}; // if given no args, make a mock mouse event\n\t\n\t\t\tif (this.mousedOverSeg) {\n\t\t\t\tseg = seg || this.mousedOverSeg; // if given no args, use the currently moused-over segment\n\t\t\t\tthis.mousedOverSeg = null;\n\t\t\t\tthis.view.trigger('eventMouseout', seg.el[0], seg.event, ev);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t/* Event Dragging\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Called when the user does a mousedown on an event, which might lead to dragging.\n\t\t// Generic enough to work with any type of Grid.\n\t\tsegDragMousedown: function(seg, ev) {\n\t\t\tvar _this = this;\n\t\t\tvar view = this.view;\n\t\t\tvar calendar = view.calendar;\n\t\t\tvar el = seg.el;\n\t\t\tvar event = seg.event;\n\t\t\tvar dropLocation;\n\t\n\t\t\t// A clone of the original element that will move with the mouse\n\t\t\tvar mouseFollower = new MouseFollower(seg.el, {\n\t\t\t\tparentEl: view.el,\n\t\t\t\topacity: view.opt('dragOpacity'),\n\t\t\t\trevertDuration: view.opt('dragRevertDuration'),\n\t\t\t\tzIndex: 2 // one above the .fc-view\n\t\t\t});\n\t\n\t\t\t// Tracks mouse movement over the *view's* coordinate map. Allows dragging and dropping between subcomponents\n\t\t\t// of the view.\n\t\t\tvar dragListener = new CellDragListener(view.coordMap, {\n\t\t\t\tdistance: 5,\n\t\t\t\tscroll: view.opt('dragScroll'),\n\t\t\t\tsubjectEl: el,\n\t\t\t\tsubjectCenter: true,\n\t\t\t\tlistenStart: function(ev) {\n\t\t\t\t\tmouseFollower.hide(); // don't show until we know this is a real drag\n\t\t\t\t\tmouseFollower.start(ev);\n\t\t\t\t},\n\t\t\t\tdragStart: function(ev) {\n\t\t\t\t\t_this.triggerSegMouseout(seg, ev); // ensure a mouseout on the manipulated event has been reported\n\t\t\t\t\t_this.segDragStart(seg, ev);\n\t\t\t\t\tview.hideEvent(event); // hide all event segments. our mouseFollower will take over\n\t\t\t\t},\n\t\t\t\tcellOver: function(cell, isOrig, origCell) {\n\t\n\t\t\t\t\t// starting cell could be forced (DayGrid.limit)\n\t\t\t\t\tif (seg.cell) {\n\t\t\t\t\t\torigCell = seg.cell;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tdropLocation = _this.computeEventDrop(origCell, cell, event);\n\t\n\t\t\t\t\tif (dropLocation && !calendar.isEventRangeAllowed(dropLocation, event)) {\n\t\t\t\t\t\tdisableCursor();\n\t\t\t\t\t\tdropLocation = null;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// if a valid drop location, have the subclass render a visual indication\n\t\t\t\t\tif (dropLocation && view.renderDrag(dropLocation, seg)) {\n\t\t\t\t\t\tmouseFollower.hide(); // if the subclass is already using a mock event \"helper\", hide our own\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tmouseFollower.show(); // otherwise, have the helper follow the mouse (no snapping)\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (isOrig) {\n\t\t\t\t\t\tdropLocation = null; // needs to have moved cells to be a valid drop\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcellOut: function() { // called before mouse moves to a different cell OR moved out of all cells\n\t\t\t\t\tview.unrenderDrag(); // unrender whatever was done in renderDrag\n\t\t\t\t\tmouseFollower.show(); // show in case we are moving out of all cells\n\t\t\t\t\tdropLocation = null;\n\t\t\t\t},\n\t\t\t\tcellDone: function() { // Called after a cellOut OR before a dragStop\n\t\t\t\t\tenableCursor();\n\t\t\t\t},\n\t\t\t\tdragStop: function(ev) {\n\t\t\t\t\t// do revert animation if hasn't changed. calls a callback when finished (whether animation or not)\n\t\t\t\t\tmouseFollower.stop(!dropLocation, function() {\n\t\t\t\t\t\tview.unrenderDrag();\n\t\t\t\t\t\tview.showEvent(event);\n\t\t\t\t\t\t_this.segDragStop(seg, ev);\n\t\n\t\t\t\t\t\tif (dropLocation) {\n\t\t\t\t\t\t\tview.reportEventDrop(event, dropLocation, this.largeUnit, el, ev);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tlistenStop: function() {\n\t\t\t\t\tmouseFollower.stop(); // put in listenStop in case there was a mousedown but the drag never started\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tdragListener.mousedown(ev); // start listening, which will eventually lead to a dragStart\n\t\t},\n\t\n\t\n\t\t// Called before event segment dragging starts\n\t\tsegDragStart: function(seg, ev) {\n\t\t\tthis.isDraggingSeg = true;\n\t\t\tthis.view.trigger('eventDragStart', seg.el[0], seg.event, ev, {}); // last argument is jqui dummy\n\t\t},\n\t\n\t\n\t\t// Called after event segment dragging stops\n\t\tsegDragStop: function(seg, ev) {\n\t\t\tthis.isDraggingSeg = false;\n\t\t\tthis.view.trigger('eventDragStop', seg.el[0], seg.event, ev, {}); // last argument is jqui dummy\n\t\t},\n\t\n\t\n\t\t// Given the cell an event drag began, and the cell event was dropped, calculates the new start/end/allDay\n\t\t// values for the event. Subclasses may override and set additional properties to be used by renderDrag.\n\t\t// A falsy returned value indicates an invalid drop.\n\t\tcomputeEventDrop: function(startCell, endCell, event) {\n\t\t\tvar calendar = this.view.calendar;\n\t\t\tvar dragStart = startCell.start;\n\t\t\tvar dragEnd = endCell.start;\n\t\t\tvar delta;\n\t\t\tvar dropLocation;\n\t\n\t\t\tif (dragStart.hasTime() === dragEnd.hasTime()) {\n\t\t\t\tdelta = this.diffDates(dragEnd, dragStart);\n\t\n\t\t\t\t// if an all-day event was in a timed area and it was dragged to a different time,\n\t\t\t\t// guarantee an end and adjust start/end to have times\n\t\t\t\tif (event.allDay && durationHasTime(delta)) {\n\t\t\t\t\tdropLocation = {\n\t\t\t\t\t\tstart: event.start.clone(),\n\t\t\t\t\t\tend: calendar.getEventEnd(event), // will be an ambig day\n\t\t\t\t\t\tallDay: false // for normalizeEventRangeTimes\n\t\t\t\t\t};\n\t\t\t\t\tcalendar.normalizeEventRangeTimes(dropLocation);\n\t\t\t\t}\n\t\t\t\t// othewise, work off existing values\n\t\t\t\telse {\n\t\t\t\t\tdropLocation = {\n\t\t\t\t\t\tstart: event.start.clone(),\n\t\t\t\t\t\tend: event.end ? event.end.clone() : null,\n\t\t\t\t\t\tallDay: event.allDay // keep it the same\n\t\t\t\t\t};\n\t\t\t\t}\n\t\n\t\t\t\tdropLocation.start.add(delta);\n\t\t\t\tif (dropLocation.end) {\n\t\t\t\t\tdropLocation.end.add(delta);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// if switching from day <-> timed, start should be reset to the dropped date, and the end cleared\n\t\t\t\tdropLocation = {\n\t\t\t\t\tstart: dragEnd.clone(),\n\t\t\t\t\tend: null, // end should be cleared\n\t\t\t\t\tallDay: !dragEnd.hasTime()\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\treturn dropLocation;\n\t\t},\n\t\n\t\n\t\t// Utility for apply dragOpacity to a jQuery set\n\t\tapplyDragOpacity: function(els) {\n\t\t\tvar opacity = this.view.opt('dragOpacity');\n\t\n\t\t\tif (opacity != null) {\n\t\t\t\tels.each(function(i, node) {\n\t\t\t\t\t// Don't use jQuery (will set an IE filter), do it the old fashioned way.\n\t\t\t\t\t// In IE8, a helper element will disappears if there's a filter.\n\t\t\t\t\tnode.style.opacity = opacity;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t/* External Element Dragging\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Called when a jQuery UI drag is initiated anywhere in the DOM\n\t\texternalDragStart: function(ev, ui) {\n\t\t\tvar view = this.view;\n\t\t\tvar el;\n\t\t\tvar accept;\n\t\n\t\t\tif (view.opt('droppable')) { // only listen if this setting is on\n\t\t\t\tel = $((ui ? ui.item : null) || ev.target);\n\t\n\t\t\t\t// Test that the dragged element passes the dropAccept selector or filter function.\n\t\t\t\t// FYI, the default is \"*\" (matches all)\n\t\t\t\taccept = view.opt('dropAccept');\n\t\t\t\tif ($.isFunction(accept) ? accept.call(el[0], el) : el.is(accept)) {\n\t\t\t\t\tif (!this.isDraggingExternal) { // prevent double-listening if fired twice\n\t\t\t\t\t\tthis.listenToExternalDrag(el, ev, ui);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Called when a jQuery UI drag starts and it needs to be monitored for cell dropping\n\t\tlistenToExternalDrag: function(el, ev, ui) {\n\t\t\tvar _this = this;\n\t\t\tvar meta = getDraggedElMeta(el); // extra data about event drop, including possible event to create\n\t\t\tvar dragListener;\n\t\t\tvar dropLocation; // a null value signals an unsuccessful drag\n\t\n\t\t\t// listener that tracks mouse movement over date-associated pixel regions\n\t\t\tdragListener = new CellDragListener(this.coordMap, {\n\t\t\t\tlistenStart: function() {\n\t\t\t\t\t_this.isDraggingExternal = true;\n\t\t\t\t},\n\t\t\t\tcellOver: function(cell) {\n\t\t\t\t\tdropLocation = _this.computeExternalDrop(cell, meta);\n\t\t\t\t\tif (dropLocation) {\n\t\t\t\t\t\t_this.renderDrag(dropLocation); // called without a seg parameter\n\t\t\t\t\t}\n\t\t\t\t\telse { // invalid drop cell\n\t\t\t\t\t\tdisableCursor();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcellOut: function() {\n\t\t\t\t\tdropLocation = null; // signal unsuccessful\n\t\t\t\t\t_this.unrenderDrag();\n\t\t\t\t\tenableCursor();\n\t\t\t\t},\n\t\t\t\tdragStop: function() {\n\t\t\t\t\t_this.unrenderDrag();\n\t\t\t\t\tenableCursor();\n\t\n\t\t\t\t\tif (dropLocation) { // element was dropped on a valid date/time cell\n\t\t\t\t\t\t_this.view.reportExternalDrop(meta, dropLocation, el, ev, ui);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlistenStop: function() {\n\t\t\t\t\t_this.isDraggingExternal = false;\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tdragListener.startDrag(ev); // start listening immediately\n\t\t},\n\t\n\t\n\t\t// Given a cell to be dropped upon, and misc data associated with the jqui drag (guaranteed to be a plain object),\n\t\t// returns start/end dates for the event that would result from the hypothetical drop. end might be null.\n\t\t// Returning a null value signals an invalid drop cell.\n\t\tcomputeExternalDrop: function(cell, meta) {\n\t\t\tvar dropLocation = {\n\t\t\t\tstart: cell.start.clone(),\n\t\t\t\tend: null\n\t\t\t};\n\t\n\t\t\t// if dropped on an all-day cell, and element's metadata specified a time, set it\n\t\t\tif (meta.startTime && !dropLocation.start.hasTime()) {\n\t\t\t\tdropLocation.start.time(meta.startTime);\n\t\t\t}\n\t\n\t\t\tif (meta.duration) {\n\t\t\t\tdropLocation.end = dropLocation.start.clone().add(meta.duration);\n\t\t\t}\n\t\n\t\t\tif (!this.view.calendar.isExternalDropRangeAllowed(dropLocation, meta.eventProps)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\treturn dropLocation;\n\t\t},\n\t\n\t\n\t\n\t\t/* Drag Rendering (for both events and an external elements)\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders a visual indication of an event or external element being dragged.\n\t\t// `dropLocation` contains hypothetical start/end/allDay values the event would have if dropped. end can be null.\n\t\t// `seg` is the internal segment object that is being dragged. If dragging an external element, `seg` is null.\n\t\t// A truthy returned value indicates this method has rendered a helper element.\n\t\trenderDrag: function(dropLocation, seg) {\n\t\t\t// subclasses must implement\n\t\t},\n\t\n\t\n\t\t// Unrenders a visual indication of an event or external element being dragged\n\t\tunrenderDrag: function() {\n\t\t\t// subclasses must implement\n\t\t},\n\t\n\t\n\t\t/* Resizing\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Called when the user does a mousedown on an event's resizer, which might lead to resizing.\n\t\t// Generic enough to work with any type of Grid.\n\t\tsegResizeMousedown: function(seg, ev, isStart) {\n\t\t\tvar _this = this;\n\t\t\tvar view = this.view;\n\t\t\tvar calendar = view.calendar;\n\t\t\tvar el = seg.el;\n\t\t\tvar event = seg.event;\n\t\t\tvar eventEnd = calendar.getEventEnd(event);\n\t\t\tvar dragListener;\n\t\t\tvar resizeLocation; // falsy if invalid resize\n\t\n\t\t\t// Tracks mouse movement over the *grid's* coordinate map\n\t\t\tdragListener = new CellDragListener(this.coordMap, {\n\t\t\t\tdistance: 5,\n\t\t\t\tscroll: view.opt('dragScroll'),\n\t\t\t\tsubjectEl: el,\n\t\t\t\tdragStart: function(ev) {\n\t\t\t\t\t_this.triggerSegMouseout(seg, ev); // ensure a mouseout on the manipulated event has been reported\n\t\t\t\t\t_this.segResizeStart(seg, ev);\n\t\t\t\t},\n\t\t\t\tcellOver: function(cell, isOrig, origCell) {\n\t\t\t\t\tresizeLocation = isStart ?\n\t\t\t\t\t\t_this.computeEventStartResize(origCell, cell, event) :\n\t\t\t\t\t\t_this.computeEventEndResize(origCell, cell, event);\n\t\n\t\t\t\t\tif (resizeLocation) {\n\t\t\t\t\t\tif (!calendar.isEventRangeAllowed(resizeLocation, event)) {\n\t\t\t\t\t\t\tdisableCursor();\n\t\t\t\t\t\t\tresizeLocation = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// no change? (TODO: how does this work with timezones?)\n\t\t\t\t\t\telse if (resizeLocation.start.isSame(event.start) && resizeLocation.end.isSame(eventEnd)) {\n\t\t\t\t\t\t\tresizeLocation = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (resizeLocation) {\n\t\t\t\t\t\tview.hideEvent(event);\n\t\t\t\t\t\t_this.renderEventResize(resizeLocation, seg);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcellOut: function() { // called before mouse moves to a different cell OR moved out of all cells\n\t\t\t\t\tresizeLocation = null;\n\t\t\t\t},\n\t\t\t\tcellDone: function() { // resets the rendering to show the original event\n\t\t\t\t\t_this.unrenderEventResize();\n\t\t\t\t\tview.showEvent(event);\n\t\t\t\t\tenableCursor();\n\t\t\t\t},\n\t\t\t\tdragStop: function(ev) {\n\t\t\t\t\t_this.segResizeStop(seg, ev);\n\t\n\t\t\t\t\tif (resizeLocation) { // valid date to resize to?\n\t\t\t\t\t\tview.reportEventResize(event, resizeLocation, this.largeUnit, el, ev);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tdragListener.mousedown(ev); // start listening, which will eventually lead to a dragStart\n\t\t},\n\t\n\t\n\t\t// Called before event segment resizing starts\n\t\tsegResizeStart: function(seg, ev) {\n\t\t\tthis.isResizingSeg = true;\n\t\t\tthis.view.trigger('eventResizeStart', seg.el[0], seg.event, ev, {}); // last argument is jqui dummy\n\t\t},\n\t\n\t\n\t\t// Called after event segment resizing stops\n\t\tsegResizeStop: function(seg, ev) {\n\t\t\tthis.isResizingSeg = false;\n\t\t\tthis.view.trigger('eventResizeStop', seg.el[0], seg.event, ev, {}); // last argument is jqui dummy\n\t\t},\n\t\n\t\n\t\t// Returns new date-information for an event segment being resized from its start\n\t\tcomputeEventStartResize: function(startCell, endCell, event) {\n\t\t\treturn this.computeEventResize('start', startCell, endCell, event);\n\t\t},\n\t\n\t\n\t\t// Returns new date-information for an event segment being resized from its end\n\t\tcomputeEventEndResize: function(startCell, endCell, event) {\n\t\t\treturn this.computeEventResize('end', startCell, endCell, event);\n\t\t},\n\t\n\t\n\t\t// Returns new date-information for an event segment being resized from its start OR end\n\t\t// `type` is either 'start' or 'end'\n\t\tcomputeEventResize: function(type, startCell, endCell, event) {\n\t\t\tvar calendar = this.view.calendar;\n\t\t\tvar delta = this.diffDates(endCell[type], startCell[type]);\n\t\t\tvar range;\n\t\t\tvar defaultDuration;\n\t\n\t\t\t// build original values to work from, guaranteeing a start and end\n\t\t\trange = {\n\t\t\t\tstart: event.start.clone(),\n\t\t\t\tend: calendar.getEventEnd(event),\n\t\t\t\tallDay: event.allDay\n\t\t\t};\n\t\n\t\t\t// if an all-day event was in a timed area and was resized to a time, adjust start/end to have times\n\t\t\tif (range.allDay && durationHasTime(delta)) {\n\t\t\t\trange.allDay = false;\n\t\t\t\tcalendar.normalizeEventRangeTimes(range);\n\t\t\t}\n\t\n\t\t\trange[type].add(delta); // apply delta to start or end\n\t\n\t\t\t// if the event was compressed too small, find a new reasonable duration for it\n\t\t\tif (!range.start.isBefore(range.end)) {\n\t\n\t\t\t\tdefaultDuration = event.allDay ?\n\t\t\t\t\tcalendar.defaultAllDayEventDuration :\n\t\t\t\t\tcalendar.defaultTimedEventDuration;\n\t\n\t\t\t\t// between the cell's duration and the event's default duration, use the smaller of the two.\n\t\t\t\t// example: if year-length slots, and compressed to one slot, we don't want the event to be a year long\n\t\t\t\tif (this.cellDuration && this.cellDuration < defaultDuration) {\n\t\t\t\t\tdefaultDuration = this.cellDuration;\n\t\t\t\t}\n\t\n\t\t\t\tif (type == 'start') { // resizing the start?\n\t\t\t\t\trange.start = range.end.clone().subtract(defaultDuration);\n\t\t\t\t}\n\t\t\t\telse { // resizing the end?\n\t\t\t\t\trange.end = range.start.clone().add(defaultDuration);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn range;\n\t\t},\n\t\n\t\n\t\t// Renders a visual indication of an event being resized.\n\t\t// `range` has the updated dates of the event. `seg` is the original segment object involved in the drag.\n\t\trenderEventResize: function(range, seg) {\n\t\t\t// subclasses must implement\n\t\t},\n\t\n\t\n\t\t// Unrenders a visual indication of an event being resized.\n\t\tunrenderEventResize: function() {\n\t\t\t// subclasses must implement\n\t\t},\n\t\n\t\n\t\t/* Rendering Utils\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Compute the text that should be displayed on an event's element.\n\t\t// `range` can be the Event object itself, or something range-like, with at least a `start`.\n\t\t// If event times are disabled, or the event has no time, will return a blank string.\n\t\t// If not specified, formatStr will default to the eventTimeFormat setting,\n\t\t// and displayEnd will default to the displayEventEnd setting.\n\t\tgetEventTimeText: function(range, formatStr, displayEnd) {\n\t\n\t\t\tif (formatStr == null) {\n\t\t\t\tformatStr = this.eventTimeFormat;\n\t\t\t}\n\t\n\t\t\tif (displayEnd == null) {\n\t\t\t\tdisplayEnd = this.displayEventEnd;\n\t\t\t}\n\t\n\t\t\tif (this.displayEventTime && range.start.hasTime()) {\n\t\t\t\tif (displayEnd && range.end) {\n\t\t\t\t\treturn this.view.formatRange(range, formatStr);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn range.start.format(formatStr);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn '';\n\t\t},\n\t\n\t\n\t\t// Generic utility for generating the HTML classNames for an event segment's element\n\t\tgetSegClasses: function(seg, isDraggable, isResizable) {\n\t\t\tvar event = seg.event;\n\t\t\tvar classes = [\n\t\t\t\t'fc-event',\n\t\t\t\tseg.isStart ? 'fc-start' : 'fc-not-start',\n\t\t\t\tseg.isEnd ? 'fc-end' : 'fc-not-end'\n\t\t\t].concat(\n\t\t\t\tevent.className,\n\t\t\t\tevent.source ? event.source.className : []\n\t\t\t);\n\t\n\t\t\tif (isDraggable) {\n\t\t\t\tclasses.push('fc-draggable');\n\t\t\t}\n\t\t\tif (isResizable) {\n\t\t\t\tclasses.push('fc-resizable');\n\t\t\t}\n\t\n\t\t\treturn classes;\n\t\t},\n\t\n\t\n\t\t// Utility for generating event skin-related CSS properties\n\t\tgetEventSkinCss: function(event) {\n\t\t\tvar view = this.view;\n\t\t\tvar source = event.source || {};\n\t\t\tvar eventColor = event.color;\n\t\t\tvar sourceColor = source.color;\n\t\t\tvar optionColor = view.opt('eventColor');\n\t\n\t\t\treturn {\n\t\t\t\t'background-color':\n\t\t\t\t\tevent.backgroundColor ||\n\t\t\t\t\teventColor ||\n\t\t\t\t\tsource.backgroundColor ||\n\t\t\t\t\tsourceColor ||\n\t\t\t\t\tview.opt('eventBackgroundColor') ||\n\t\t\t\t\toptionColor,\n\t\t\t\t'border-color':\n\t\t\t\t\tevent.borderColor ||\n\t\t\t\t\teventColor ||\n\t\t\t\t\tsource.borderColor ||\n\t\t\t\t\tsourceColor ||\n\t\t\t\t\tview.opt('eventBorderColor') ||\n\t\t\t\t\toptionColor,\n\t\t\t\tcolor:\n\t\t\t\t\tevent.textColor ||\n\t\t\t\t\tsource.textColor ||\n\t\t\t\t\tview.opt('eventTextColor')\n\t\t\t};\n\t\t},\n\t\n\t\n\t\t/* Converting events -> ranges -> segs\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Converts an array of event objects into an array of event segment objects.\n\t\t// A custom `rangeToSegsFunc` may be given for arbitrarily slicing up events.\n\t\t// Doesn't guarantee an order for the resulting array.\n\t\teventsToSegs: function(events, rangeToSegsFunc) {\n\t\t\tvar eventRanges = this.eventsToRanges(events);\n\t\t\tvar segs = [];\n\t\t\tvar i;\n\t\n\t\t\tfor (i = 0; i < eventRanges.length; i++) {\n\t\t\t\tsegs.push.apply(\n\t\t\t\t\tsegs,\n\t\t\t\t\tthis.eventRangeToSegs(eventRanges[i], rangeToSegsFunc)\n\t\t\t\t);\n\t\t\t}\n\t\n\t\t\treturn segs;\n\t\t},\n\t\n\t\n\t\t// Converts an array of events into an array of \"range\" objects.\n\t\t// A \"range\" object is a plain object with start/end properties denoting the time it covers. Also an event property.\n\t\t// For \"normal\" events, this will be identical to the event's start/end, but for \"inverse-background\" events,\n\t\t// will create an array of ranges that span the time *not* covered by the given event.\n\t\t// Doesn't guarantee an order for the resulting array.\n\t\teventsToRanges: function(events) {\n\t\t\tvar _this = this;\n\t\t\tvar eventsById = groupEventsById(events);\n\t\t\tvar ranges = [];\n\t\n\t\t\t// group by ID so that related inverse-background events can be rendered together\n\t\t\t$.each(eventsById, function(id, eventGroup) {\n\t\t\t\tif (eventGroup.length) {\n\t\t\t\t\tranges.push.apply(\n\t\t\t\t\t\tranges,\n\t\t\t\t\t\tisInverseBgEvent(eventGroup[0]) ?\n\t\t\t\t\t\t\t_this.eventsToInverseRanges(eventGroup) :\n\t\t\t\t\t\t\t_this.eventsToNormalRanges(eventGroup)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\treturn ranges;\n\t\t},\n\t\n\t\n\t\t// Converts an array of \"normal\" events (not inverted rendering) into a parallel array of ranges\n\t\teventsToNormalRanges: function(events) {\n\t\t\tvar calendar = this.view.calendar;\n\t\t\tvar ranges = [];\n\t\t\tvar i, event;\n\t\t\tvar eventStart, eventEnd;\n\t\n\t\t\tfor (i = 0; i < events.length; i++) {\n\t\t\t\tevent = events[i];\n\t\n\t\t\t\t// make copies and normalize by stripping timezone\n\t\t\t\teventStart = event.start.clone().stripZone();\n\t\t\t\teventEnd = calendar.getEventEnd(event).stripZone();\n\t\n\t\t\t\tranges.push({\n\t\t\t\t\tevent: event,\n\t\t\t\t\tstart: eventStart,\n\t\t\t\t\tend: eventEnd,\n\t\t\t\t\teventStartMS: +eventStart,\n\t\t\t\t\teventDurationMS: eventEnd - eventStart\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn ranges;\n\t\t},\n\t\n\t\n\t\t// Converts an array of events, with inverse-background rendering, into an array of range objects.\n\t\t// The range objects will cover all the time NOT covered by the events.\n\t\teventsToInverseRanges: function(events) {\n\t\t\tvar view = this.view;\n\t\t\tvar viewStart = view.start.clone().stripZone(); // normalize timezone\n\t\t\tvar viewEnd = view.end.clone().stripZone(); // normalize timezone\n\t\t\tvar normalRanges = this.eventsToNormalRanges(events); // will give us normalized dates we can use w/o copies\n\t\t\tvar inverseRanges = [];\n\t\t\tvar event0 = events[0]; // assign this to each range's `.event`\n\t\t\tvar start = viewStart; // the end of the previous range. the start of the new range\n\t\t\tvar i, normalRange;\n\t\n\t\t\t// ranges need to be in order. required for our date-walking algorithm\n\t\t\tnormalRanges.sort(compareNormalRanges);\n\t\n\t\t\tfor (i = 0; i < normalRanges.length; i++) {\n\t\t\t\tnormalRange = normalRanges[i];\n\t\n\t\t\t\t// add the span of time before the event (if there is any)\n\t\t\t\tif (normalRange.start > start) { // compare millisecond time (skip any ambig logic)\n\t\t\t\t\tinverseRanges.push({\n\t\t\t\t\t\tevent: event0,\n\t\t\t\t\t\tstart: start,\n\t\t\t\t\t\tend: normalRange.start\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\tstart = normalRange.end;\n\t\t\t}\n\t\n\t\t\t// add the span of time after the last event (if there is any)\n\t\t\tif (start < viewEnd) { // compare millisecond time (skip any ambig logic)\n\t\t\t\tinverseRanges.push({\n\t\t\t\t\tevent: event0,\n\t\t\t\t\tstart: start,\n\t\t\t\t\tend: viewEnd\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn inverseRanges;\n\t\t},\n\t\n\t\n\t\t// Slices the given event range into one or more segment objects.\n\t\t// A `rangeToSegsFunc` custom slicing function can be given.\n\t\teventRangeToSegs: function(eventRange, rangeToSegsFunc) {\n\t\t\tvar segs;\n\t\t\tvar i, seg;\n\t\n\t\t\teventRange = this.view.calendar.ensureVisibleEventRange(eventRange);\n\t\n\t\t\tif (rangeToSegsFunc) {\n\t\t\t\tsegs = rangeToSegsFunc(eventRange);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsegs = this.rangeToSegs(eventRange); // defined by the subclass\n\t\t\t}\n\t\n\t\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\t\tseg = segs[i];\n\t\t\t\tseg.event = eventRange.event;\n\t\t\t\tseg.eventStartMS = eventRange.eventStartMS;\n\t\t\t\tseg.eventDurationMS = eventRange.eventDurationMS;\n\t\t\t}\n\t\n\t\t\treturn segs;\n\t\t},\n\t\n\t\n\t\tsortSegs: function(segs) {\n\t\t\tsegs.sort(proxy(this, 'compareSegs'));\n\t\t},\n\t\n\t\n\t\t// A cmp function for determining which segments should take visual priority\n\t\t// DOES NOT WORK ON INVERTED BACKGROUND EVENTS because they have no eventStartMS/eventDurationMS\n\t\tcompareSegs: function(seg1, seg2) {\n\t\t\treturn seg1.eventStartMS - seg2.eventStartMS || // earlier events go first\n\t\t\t\tseg2.eventDurationMS - seg1.eventDurationMS || // tie? longer events go first\n\t\t\t\tseg2.event.allDay - seg1.event.allDay || // tie? put all-day events first (booleans cast to 0/1)\n\t\t\t\tcompareByFieldSpecs(seg1.event, seg2.event, this.view.eventOrderSpecs);\n\t\t}\n\t\n\t});\n\t\n\t\n\t/* Utilities\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\tfunction isBgEvent(event) { // returns true if background OR inverse-background\n\t\tvar rendering = getEventRendering(event);\n\t\treturn rendering === 'background' || rendering === 'inverse-background';\n\t}\n\t\n\t\n\tfunction isInverseBgEvent(event) {\n\t\treturn getEventRendering(event) === 'inverse-background';\n\t}\n\t\n\t\n\tfunction getEventRendering(event) {\n\t\treturn firstDefined((event.source || {}).rendering, event.rendering);\n\t}\n\t\n\t\n\tfunction groupEventsById(events) {\n\t\tvar eventsById = {};\n\t\tvar i, event;\n\t\n\t\tfor (i = 0; i < events.length; i++) {\n\t\t\tevent = events[i];\n\t\t\t(eventsById[event._id] || (eventsById[event._id] = [])).push(event);\n\t\t}\n\t\n\t\treturn eventsById;\n\t}\n\t\n\t\n\t// A cmp function for determining which non-inverted \"ranges\" (see above) happen earlier\n\tfunction compareNormalRanges(range1, range2) {\n\t\treturn range1.eventStartMS - range2.eventStartMS; // earlier ranges go first\n\t}\n\t\n\t\n\t/* External-Dragging-Element Data\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\t// Require all HTML5 data-* attributes used by FullCalendar to have this prefix.\n\t// A value of '' will query attributes like data-event. A value of 'fc' will query attributes like data-fc-event.\n\tfc.dataAttrPrefix = '';\n\t\n\t// Given a jQuery element that might represent a dragged FullCalendar event, returns an intermediate data structure\n\t// to be used for Event Object creation.\n\t// A defined `.eventProps`, even when empty, indicates that an event should be created.\n\tfunction getDraggedElMeta(el) {\n\t\tvar prefix = fc.dataAttrPrefix;\n\t\tvar eventProps; // properties for creating the event, not related to date/time\n\t\tvar startTime; // a Duration\n\t\tvar duration;\n\t\tvar stick;\n\t\n\t\tif (prefix) { prefix += '-'; }\n\t\teventProps = el.data(prefix + 'event') || null;\n\t\n\t\tif (eventProps) {\n\t\t\tif (typeof eventProps === 'object') {\n\t\t\t\teventProps = $.extend({}, eventProps); // make a copy\n\t\t\t}\n\t\t\telse { // something like 1 or true. still signal event creation\n\t\t\t\teventProps = {};\n\t\t\t}\n\t\n\t\t\t// pluck special-cased date/time properties\n\t\t\tstartTime = eventProps.start;\n\t\t\tif (startTime == null) { startTime = eventProps.time; } // accept 'time' as well\n\t\t\tduration = eventProps.duration;\n\t\t\tstick = eventProps.stick;\n\t\t\tdelete eventProps.start;\n\t\t\tdelete eventProps.time;\n\t\t\tdelete eventProps.duration;\n\t\t\tdelete eventProps.stick;\n\t\t}\n\t\n\t\t// fallback to standalone attribute values for each of the date/time properties\n\t\tif (startTime == null) { startTime = el.data(prefix + 'start'); }\n\t\tif (startTime == null) { startTime = el.data(prefix + 'time'); } // accept 'time' as well\n\t\tif (duration == null) { duration = el.data(prefix + 'duration'); }\n\t\tif (stick == null) { stick = el.data(prefix + 'stick'); }\n\t\n\t\t// massage into correct data types\n\t\tstartTime = startTime != null ? moment.duration(startTime) : null;\n\t\tduration = duration != null ? moment.duration(duration) : null;\n\t\tstick = Boolean(stick);\n\t\n\t\treturn { eventProps: eventProps, startTime: startTime, duration: duration, stick: stick };\n\t}\n\t\n\t\n\t;;\n\t\n\t/* A component that renders a grid of whole-days that runs horizontally. There can be multiple rows, one per week.\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tvar DayGrid = Grid.extend({\n\t\n\t\tnumbersVisible: false, // should render a row for day/week numbers? set by outside view. TODO: make internal\n\t\tbottomCoordPadding: 0, // hack for extending the hit area for the last row of the coordinate grid\n\t\tbreakOnWeeks: null, // should create a new row for each week? set by outside view\n\t\n\t\tcellDates: null, // flat chronological array of each cell's dates\n\t\tdayToCellOffsets: null, // maps days offsets from grid's start date, to cell offsets\n\t\n\t\trowEls: null, // set of fake row elements\n\t\tdayEls: null, // set of whole-day elements comprising the row's background\n\t\thelperEls: null, // set of cell skeleton elements for rendering the mock event \"helper\"\n\t\n\t\n\t\tconstructor: function() {\n\t\t\tGrid.apply(this, arguments);\n\t\n\t\t\tthis.cellDuration = moment.duration(1, 'day'); // for Grid system\n\t\t},\n\t\n\t\n\t\t// Renders the rows and columns into the component's `this.el`, which should already be assigned.\n\t\t// isRigid determins whether the individual rows should ignore the contents and be a constant height.\n\t\t// Relies on the view's colCnt and rowCnt. In the future, this component should probably be self-sufficient.\n\t\trenderDates: function(isRigid) {\n\t\t\tvar view = this.view;\n\t\t\tvar rowCnt = this.rowCnt;\n\t\t\tvar colCnt = this.colCnt;\n\t\t\tvar cellCnt = rowCnt * colCnt;\n\t\t\tvar html = '';\n\t\t\tvar row;\n\t\t\tvar i, cell;\n\t\n\t\t\tfor (row = 0; row < rowCnt; row++) {\n\t\t\t\thtml += this.dayRowHtml(row, isRigid);\n\t\t\t}\n\t\t\tthis.el.html(html);\n\t\n\t\t\tthis.rowEls = this.el.find('.fc-row');\n\t\t\tthis.dayEls = this.el.find('.fc-day');\n\t\n\t\t\t// trigger dayRender with each cell's element\n\t\t\tfor (i = 0; i < cellCnt; i++) {\n\t\t\t\tcell = this.getCell(i);\n\t\t\t\tview.trigger('dayRender', null, cell.start, this.dayEls.eq(i));\n\t\t\t}\n\t\t},\n\t\n\t\n\t\tunrenderDates: function() {\n\t\t\tthis.removeSegPopover();\n\t\t},\n\t\n\t\n\t\trenderBusinessHours: function() {\n\t\t\tvar events = this.view.calendar.getBusinessHoursEvents(true); // wholeDay=true\n\t\t\tvar segs = this.eventsToSegs(events);\n\t\n\t\t\tthis.renderFill('businessHours', segs, 'bgevent');\n\t\t},\n\t\n\t\n\t\t// Generates the HTML for a single row. `row` is the row number.\n\t\tdayRowHtml: function(row, isRigid) {\n\t\t\tvar view = this.view;\n\t\t\tvar classes = [ 'fc-row', 'fc-week', view.widgetContentClass ];\n\t\n\t\t\tif (isRigid) {\n\t\t\t\tclasses.push('fc-rigid');\n\t\t\t}\n\t\n\t\t\treturn '' +\n\t\t\t\t'<div class=\"' + classes.join(' ') + '\">' +\n\t\t\t\t\t'<div class=\"fc-bg\">' +\n\t\t\t\t\t\t'<table>' +\n\t\t\t\t\t\t\tthis.rowHtml('day', row) + // leverages RowRenderer. calls dayCellHtml()\n\t\t\t\t\t\t'</table>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t'<div class=\"fc-content-skeleton\">' +\n\t\t\t\t\t\t'<table>' +\n\t\t\t\t\t\t\t(this.numbersVisible ?\n\t\t\t\t\t\t\t\t'<thead>' +\n\t\t\t\t\t\t\t\t\tthis.rowHtml('number', row) + // leverages RowRenderer. View will define render method\n\t\t\t\t\t\t\t\t'</thead>' :\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t'</table>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</div>';\n\t\t},\n\t\n\t\n\t\t// Renders the HTML for a whole-day cell. Will eventually end up in the day-row's background.\n\t\t// We go through a 'day' row type instead of just doing a 'bg' row type so that the View can do custom rendering\n\t\t// specifically for whole-day rows, whereas a 'bg' might also be used for other purposes (TimeGrid bg for example).\n\t\tdayCellHtml: function(cell) {\n\t\t\treturn this.bgCellHtml(cell);\n\t\t},\n\t\n\t\n\t\t/* Options\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Computes a default column header formatting string if `colFormat` is not explicitly defined\n\t\tcomputeColHeadFormat: function() {\n\t\t\tif (this.rowCnt > 1) { // more than one week row. day numbers will be in each cell\n\t\t\t\treturn 'ddd'; // \"Sat\"\n\t\t\t}\n\t\t\telse if (this.colCnt > 1) { // multiple days, so full single date string WON'T be in title text\n\t\t\t\treturn this.view.opt('dayOfMonthFormat'); // \"Sat 12/10\"\n\t\t\t}\n\t\t\telse { // single day, so full single date string will probably be in title text\n\t\t\t\treturn 'dddd'; // \"Saturday\"\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Computes a default event time formatting string if `timeFormat` is not explicitly defined\n\t\tcomputeEventTimeFormat: function() {\n\t\t\treturn this.view.opt('extraSmallTimeFormat'); // like \"6p\" or \"6:30p\"\n\t\t},\n\t\n\t\n\t\t// Computes a default `displayEventEnd` value if one is not expliclty defined\n\t\tcomputeDisplayEventEnd: function() {\n\t\t\treturn this.colCnt == 1; // we'll likely have space if there's only one day\n\t\t},\n\t\n\t\n\t\t/* Cell System\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\trangeUpdated: function() {\n\t\t\tvar cellDates;\n\t\t\tvar firstDay;\n\t\t\tvar rowCnt;\n\t\t\tvar colCnt;\n\t\n\t\t\tthis.updateCellDates(); // populates cellDates and dayToCellOffsets\n\t\t\tcellDates = this.cellDates;\n\t\n\t\t\tif (this.breakOnWeeks) {\n\t\t\t\t// count columns until the day-of-week repeats\n\t\t\t\tfirstDay = cellDates[0].day();\n\t\t\t\tfor (colCnt = 1; colCnt < cellDates.length; colCnt++) {\n\t\t\t\t\tif (cellDates[colCnt].day() == firstDay) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\trowCnt = Math.ceil(cellDates.length / colCnt);\n\t\t\t}\n\t\t\telse {\n\t\t\t\trowCnt = 1;\n\t\t\t\tcolCnt = cellDates.length;\n\t\t\t}\n\t\n\t\t\tthis.rowCnt = rowCnt;\n\t\t\tthis.colCnt = colCnt;\n\t\t},\n\t\n\t\n\t\t// Populates cellDates and dayToCellOffsets\n\t\tupdateCellDates: function() {\n\t\t\tvar view = this.view;\n\t\t\tvar date = this.start.clone();\n\t\t\tvar dates = [];\n\t\t\tvar offset = -1;\n\t\t\tvar offsets = [];\n\t\n\t\t\twhile (date.isBefore(this.end)) { // loop each day from start to end\n\t\t\t\tif (view.isHiddenDay(date)) {\n\t\t\t\t\toffsets.push(offset + 0.5); // mark that it's between offsets\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\toffset++;\n\t\t\t\t\toffsets.push(offset);\n\t\t\t\t\tdates.push(date.clone());\n\t\t\t\t}\n\t\t\t\tdate.add(1, 'days');\n\t\t\t}\n\t\n\t\t\tthis.cellDates = dates;\n\t\t\tthis.dayToCellOffsets = offsets;\n\t\t},\n\t\n\t\n\t\t// Given a cell object, generates its start date. Returns a reference-free copy.\n\t\tcomputeCellDate: function(cell) {\n\t\t\tvar colCnt = this.colCnt;\n\t\t\tvar index = cell.row * colCnt + (this.isRTL ? colCnt - cell.col - 1 : cell.col);\n\t\n\t\t\treturn this.cellDates[index].clone();\n\t\t},\n\t\n\t\n\t\t// Retrieves the element representing the given row\n\t\tgetRowEl: function(row) {\n\t\t\treturn this.rowEls.eq(row);\n\t\t},\n\t\n\t\n\t\t// Retrieves the element representing the given column\n\t\tgetColEl: function(col) {\n\t\t\treturn this.dayEls.eq(col);\n\t\t},\n\t\n\t\n\t\t// Gets the whole-day element associated with the cell\n\t\tgetCellDayEl: function(cell) {\n\t\t\treturn this.dayEls.eq(cell.row * this.colCnt + cell.col);\n\t\t},\n\t\n\t\n\t\t// Overrides Grid's method for when row coordinates are computed\n\t\tcomputeRowCoords: function() {\n\t\t\tvar rowCoords = Grid.prototype.computeRowCoords.call(this); // call the super-method\n\t\n\t\t\t// hack for extending last row (used by AgendaView)\n\t\t\trowCoords[rowCoords.length - 1].bottom += this.bottomCoordPadding;\n\t\n\t\t\treturn rowCoords;\n\t\t},\n\t\n\t\n\t\t/* Dates\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Slices up a date range by row into an array of segments\n\t\trangeToSegs: function(range) {\n\t\t\tvar isRTL = this.isRTL;\n\t\t\tvar rowCnt = this.rowCnt;\n\t\t\tvar colCnt = this.colCnt;\n\t\t\tvar segs = [];\n\t\t\tvar first, last; // inclusive cell-offset range for given range\n\t\t\tvar row;\n\t\t\tvar rowFirst, rowLast; // inclusive cell-offset range for current row\n\t\t\tvar isStart, isEnd;\n\t\t\tvar segFirst, segLast; // inclusive cell-offset range for segment\n\t\t\tvar seg;\n\t\n\t\t\trange = this.view.computeDayRange(range); // make whole-day range, considering nextDayThreshold\n\t\t\tfirst = this.dateToCellOffset(range.start);\n\t\t\tlast = this.dateToCellOffset(range.end.subtract(1, 'days')); // offset of inclusive end date\n\t\n\t\t\tfor (row = 0; row < rowCnt; row++) {\n\t\t\t\trowFirst = row * colCnt;\n\t\t\t\trowLast = rowFirst + colCnt - 1;\n\t\n\t\t\t\t// intersect segment's offset range with the row's\n\t\t\t\tsegFirst = Math.max(rowFirst, first);\n\t\t\t\tsegLast = Math.min(rowLast, last);\n\t\n\t\t\t\t// deal with in-between indices\n\t\t\t\tsegFirst = Math.ceil(segFirst); // in-between starts round to next cell\n\t\t\t\tsegLast = Math.floor(segLast); // in-between ends round to prev cell\n\t\n\t\t\t\tif (segFirst <= segLast) { // was there any intersection with the current row?\n\t\n\t\t\t\t\t// must be matching integers to be the segment's start/end\n\t\t\t\t\tisStart = segFirst === first;\n\t\t\t\t\tisEnd = segLast === last;\n\t\n\t\t\t\t\t// translate offsets to be relative to start-of-row\n\t\t\t\t\tsegFirst -= rowFirst;\n\t\t\t\t\tsegLast -= rowFirst;\n\t\n\t\t\t\t\tseg = { row: row, isStart: isStart, isEnd: isEnd };\n\t\t\t\t\tif (isRTL) {\n\t\t\t\t\t\tseg.leftCol = colCnt - segLast - 1;\n\t\t\t\t\t\tseg.rightCol = colCnt - segFirst - 1;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tseg.leftCol = segFirst;\n\t\t\t\t\t\tseg.rightCol = segLast;\n\t\t\t\t\t}\n\t\t\t\t\tsegs.push(seg);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn segs;\n\t\t},\n\t\n\t\n\t\t// Given a date, returns its chronolocial cell-offset from the first cell of the grid.\n\t\t// If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n\t\t// If before the first offset, returns a negative number.\n\t\t// If after the last offset, returns an offset past the last cell offset.\n\t\t// Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n\t\tdateToCellOffset: function(date) {\n\t\t\tvar offsets = this.dayToCellOffsets;\n\t\t\tvar day = date.diff(this.start, 'days');\n\t\n\t\t\tif (day < 0) {\n\t\t\t\treturn offsets[0] - 1;\n\t\t\t}\n\t\t\telse if (day >= offsets.length) {\n\t\t\t\treturn offsets[offsets.length - 1] + 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn offsets[day];\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t/* Event Drag Visualization\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\t// TODO: move to DayGrid.event, similar to what we did with Grid's drag methods\n\t\n\t\n\t\t// Renders a visual indication of an event or external element being dragged.\n\t\t// The dropLocation's end can be null. seg can be null. See Grid::renderDrag for more info.\n\t\trenderDrag: function(dropLocation, seg) {\n\t\n\t\t\t// always render a highlight underneath\n\t\t\tthis.renderHighlight(this.eventRangeToSegs(dropLocation));\n\t\n\t\t\t// if a segment from the same calendar but another component is being dragged, render a helper event\n\t\t\tif (seg && !seg.el.closest(this.el).length) {\n\t\n\t\t\t\tthis.renderRangeHelper(dropLocation, seg);\n\t\t\t\tthis.applyDragOpacity(this.helperEls);\n\t\n\t\t\t\treturn true; // a helper has been rendered\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Unrenders any visual indication of a hovering event\n\t\tunrenderDrag: function() {\n\t\t\tthis.unrenderHighlight();\n\t\t\tthis.unrenderHelper();\n\t\t},\n\t\n\t\n\t\t/* Event Resize Visualization\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders a visual indication of an event being resized\n\t\trenderEventResize: function(range, seg) {\n\t\t\tthis.renderHighlight(this.eventRangeToSegs(range));\n\t\t\tthis.renderRangeHelper(range, seg);\n\t\t},\n\t\n\t\n\t\t// Unrenders a visual indication of an event being resized\n\t\tunrenderEventResize: function() {\n\t\t\tthis.unrenderHighlight();\n\t\t\tthis.unrenderHelper();\n\t\t},\n\t\n\t\n\t\t/* Event Helper\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders a mock \"helper\" event. `sourceSeg` is the associated internal segment object. It can be null.\n\t\trenderHelper: function(event, sourceSeg) {\n\t\t\tvar helperNodes = [];\n\t\t\tvar segs = this.eventsToSegs([ event ]);\n\t\t\tvar rowStructs;\n\t\n\t\t\tsegs = this.renderFgSegEls(segs); // assigns each seg's el and returns a subset of segs that were rendered\n\t\t\trowStructs = this.renderSegRows(segs);\n\t\n\t\t\t// inject each new event skeleton into each associated row\n\t\t\tthis.rowEls.each(function(row, rowNode) {\n\t\t\t\tvar rowEl = $(rowNode); // the .fc-row\n\t\t\t\tvar skeletonEl = $('<div class=\"fc-helper-skeleton\"><table/></div>'); // will be absolutely positioned\n\t\t\t\tvar skeletonTop;\n\t\n\t\t\t\t// If there is an original segment, match the top position. Otherwise, put it at the row's top level\n\t\t\t\tif (sourceSeg && sourceSeg.row === row) {\n\t\t\t\t\tskeletonTop = sourceSeg.el.position().top;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tskeletonTop = rowEl.find('.fc-content-skeleton tbody').position().top;\n\t\t\t\t}\n\t\n\t\t\t\tskeletonEl.css('top', skeletonTop)\n\t\t\t\t\t.find('table')\n\t\t\t\t\t\t.append(rowStructs[row].tbodyEl);\n\t\n\t\t\t\trowEl.append(skeletonEl);\n\t\t\t\thelperNodes.push(skeletonEl[0]);\n\t\t\t});\n\t\n\t\t\tthis.helperEls = $(helperNodes); // array -> jQuery set\n\t\t},\n\t\n\t\n\t\t// Unrenders any visual indication of a mock helper event\n\t\tunrenderHelper: function() {\n\t\t\tif (this.helperEls) {\n\t\t\t\tthis.helperEls.remove();\n\t\t\t\tthis.helperEls = null;\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t/* Fill System (highlight, background events, business hours)\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\tfillSegTag: 'td', // override the default tag name\n\t\n\t\n\t\t// Renders a set of rectangles over the given segments of days.\n\t\t// Only returns segments that successfully rendered.\n\t\trenderFill: function(type, segs, className) {\n\t\t\tvar nodes = [];\n\t\t\tvar i, seg;\n\t\t\tvar skeletonEl;\n\t\n\t\t\tsegs = this.renderFillSegEls(type, segs); // assignes `.el` to each seg. returns successfully rendered segs\n\t\n\t\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\t\tseg = segs[i];\n\t\t\t\tskeletonEl = this.renderFillRow(type, seg, className);\n\t\t\t\tthis.rowEls.eq(seg.row).append(skeletonEl);\n\t\t\t\tnodes.push(skeletonEl[0]);\n\t\t\t}\n\t\n\t\t\tthis.elsByFill[type] = $(nodes);\n\t\n\t\t\treturn segs;\n\t\t},\n\t\n\t\n\t\t// Generates the HTML needed for one row of a fill. Requires the seg's el to be rendered.\n\t\trenderFillRow: function(type, seg, className) {\n\t\t\tvar colCnt = this.colCnt;\n\t\t\tvar startCol = seg.leftCol;\n\t\t\tvar endCol = seg.rightCol + 1;\n\t\t\tvar skeletonEl;\n\t\t\tvar trEl;\n\t\n\t\t\tclassName = className || type.toLowerCase();\n\t\n\t\t\tskeletonEl = $(\n\t\t\t\t'<div class=\"fc-' + className + '-skeleton\">' +\n\t\t\t\t\t'<table><tr/></table>' +\n\t\t\t\t'</div>'\n\t\t\t);\n\t\t\ttrEl = skeletonEl.find('tr');\n\t\n\t\t\tif (startCol > 0) {\n\t\t\t\ttrEl.append('<td colspan=\"' + startCol + '\"/>');\n\t\t\t}\n\t\n\t\t\ttrEl.append(\n\t\t\t\tseg.el.attr('colspan', endCol - startCol)\n\t\t\t);\n\t\n\t\t\tif (endCol < colCnt) {\n\t\t\t\ttrEl.append('<td colspan=\"' + (colCnt - endCol) + '\"/>');\n\t\t\t}\n\t\n\t\t\tthis.bookendCells(trEl, type);\n\t\n\t\t\treturn skeletonEl;\n\t\t}\n\t\n\t});\n\t\n\t;;\n\t\n\t/* Event-rendering methods for the DayGrid class\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tDayGrid.mixin({\n\t\n\t\trowStructs: null, // an array of objects, each holding information about a row's foreground event-rendering\n\t\n\t\n\t\t// Unrenders all events currently rendered on the grid\n\t\tunrenderEvents: function() {\n\t\t\tthis.removeSegPopover(); // removes the \"more..\" events popover\n\t\t\tGrid.prototype.unrenderEvents.apply(this, arguments); // calls the super-method\n\t\t},\n\t\n\t\n\t\t// Retrieves all rendered segment objects currently rendered on the grid\n\t\tgetEventSegs: function() {\n\t\t\treturn Grid.prototype.getEventSegs.call(this) // get the segments from the super-method\n\t\t\t\t.concat(this.popoverSegs || []); // append the segments from the \"more...\" popover\n\t\t},\n\t\n\t\n\t\t// Renders the given background event segments onto the grid\n\t\trenderBgSegs: function(segs) {\n\t\n\t\t\t// don't render timed background events\n\t\t\tvar allDaySegs = $.grep(segs, function(seg) {\n\t\t\t\treturn seg.event.allDay;\n\t\t\t});\n\t\n\t\t\treturn Grid.prototype.renderBgSegs.call(this, allDaySegs); // call the super-method\n\t\t},\n\t\n\t\n\t\t// Renders the given foreground event segments onto the grid\n\t\trenderFgSegs: function(segs) {\n\t\t\tvar rowStructs;\n\t\n\t\t\t// render an `.el` on each seg\n\t\t\t// returns a subset of the segs. segs that were actually rendered\n\t\t\tsegs = this.renderFgSegEls(segs);\n\t\n\t\t\trowStructs = this.rowStructs = this.renderSegRows(segs);\n\t\n\t\t\t// append to each row's content skeleton\n\t\t\tthis.rowEls.each(function(i, rowNode) {\n\t\t\t\t$(rowNode).find('.fc-content-skeleton > table').append(\n\t\t\t\t\trowStructs[i].tbodyEl\n\t\t\t\t);\n\t\t\t});\n\t\n\t\t\treturn segs; // return only the segs that were actually rendered\n\t\t},\n\t\n\t\n\t\t// Unrenders all currently rendered foreground event segments\n\t\tunrenderFgSegs: function() {\n\t\t\tvar rowStructs = this.rowStructs || [];\n\t\t\tvar rowStruct;\n\t\n\t\t\twhile ((rowStruct = rowStructs.pop())) {\n\t\t\t\trowStruct.tbodyEl.remove();\n\t\t\t}\n\t\n\t\t\tthis.rowStructs = null;\n\t\t},\n\t\n\t\n\t\t// Uses the given events array to generate <tbody> elements that should be appended to each row's content skeleton.\n\t\t// Returns an array of rowStruct objects (see the bottom of `renderSegRow`).\n\t\t// PRECONDITION: each segment shoud already have a rendered and assigned `.el`\n\t\trenderSegRows: function(segs) {\n\t\t\tvar rowStructs = [];\n\t\t\tvar segRows;\n\t\t\tvar row;\n\t\n\t\t\tsegRows = this.groupSegRows(segs); // group into nested arrays\n\t\n\t\t\t// iterate each row of segment groupings\n\t\t\tfor (row = 0; row < segRows.length; row++) {\n\t\t\t\trowStructs.push(\n\t\t\t\t\tthis.renderSegRow(row, segRows[row])\n\t\t\t\t);\n\t\t\t}\n\t\n\t\t\treturn rowStructs;\n\t\t},\n\t\n\t\n\t\t// Builds the HTML to be used for the default element for an individual segment\n\t\tfgSegHtml: function(seg, disableResizing) {\n\t\t\tvar view = this.view;\n\t\t\tvar event = seg.event;\n\t\t\tvar isDraggable = view.isEventDraggable(event);\n\t\t\tvar isResizableFromStart = !disableResizing && event.allDay &&\n\t\t\t\tseg.isStart && view.isEventResizableFromStart(event);\n\t\t\tvar isResizableFromEnd = !disableResizing && event.allDay &&\n\t\t\t\tseg.isEnd && view.isEventResizableFromEnd(event);\n\t\t\tvar classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd);\n\t\t\tvar skinCss = cssToStr(this.getEventSkinCss(event));\n\t\t\tvar timeHtml = '';\n\t\t\tvar timeText;\n\t\t\tvar titleHtml;\n\t\n\t\t\tclasses.unshift('fc-day-grid-event', 'fc-h-event');\n\t\n\t\t\t// Only display a timed events time if it is the starting segment\n\t\t\tif (seg.isStart) {\n\t\t\t\ttimeText = this.getEventTimeText(event);\n\t\t\t\tif (timeText) {\n\t\t\t\t\ttimeHtml = '<span class=\"fc-time\">' + htmlEscape(timeText) + '</span>';\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\ttitleHtml =\n\t\t\t\t'<span class=\"fc-title\">' +\n\t\t\t\t\t(htmlEscape(event.title || '') || '&nbsp;') + // we always want one line of height\n\t\t\t\t'</span>';\n\t\t\t\n\t\t\treturn '<a class=\"' + classes.join(' ') + '\"' +\n\t\t\t\t\t(event.url ?\n\t\t\t\t\t\t' href=\"' + htmlEscape(event.url) + '\"' :\n\t\t\t\t\t\t''\n\t\t\t\t\t\t) +\n\t\t\t\t\t(skinCss ?\n\t\t\t\t\t\t' style=\"' + skinCss + '\"' :\n\t\t\t\t\t\t''\n\t\t\t\t\t\t) +\n\t\t\t\t'>' +\n\t\t\t\t\t'<div class=\"fc-content\">' +\n\t\t\t\t\t\t(this.isRTL ?\n\t\t\t\t\t\t\ttitleHtml + ' ' + timeHtml : // put a natural space in between\n\t\t\t\t\t\t\ttimeHtml + ' ' + titleHtml   //\n\t\t\t\t\t\t\t) +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t(isResizableFromStart ?\n\t\t\t\t\t\t'<div class=\"fc-resizer fc-start-resizer\" />' :\n\t\t\t\t\t\t''\n\t\t\t\t\t\t) +\n\t\t\t\t\t(isResizableFromEnd ?\n\t\t\t\t\t\t'<div class=\"fc-resizer fc-end-resizer\" />' :\n\t\t\t\t\t\t''\n\t\t\t\t\t\t) +\n\t\t\t\t'</a>';\n\t\t},\n\t\n\t\n\t\t// Given a row # and an array of segments all in the same row, render a <tbody> element, a skeleton that contains\n\t\t// the segments. Returns object with a bunch of internal data about how the render was calculated.\n\t\t// NOTE: modifies rowSegs\n\t\trenderSegRow: function(row, rowSegs) {\n\t\t\tvar colCnt = this.colCnt;\n\t\t\tvar segLevels = this.buildSegLevels(rowSegs); // group into sub-arrays of levels\n\t\t\tvar levelCnt = Math.max(1, segLevels.length); // ensure at least one level\n\t\t\tvar tbody = $('<tbody/>');\n\t\t\tvar segMatrix = []; // lookup for which segments are rendered into which level+col cells\n\t\t\tvar cellMatrix = []; // lookup for all <td> elements of the level+col matrix\n\t\t\tvar loneCellMatrix = []; // lookup for <td> elements that only take up a single column\n\t\t\tvar i, levelSegs;\n\t\t\tvar col;\n\t\t\tvar tr;\n\t\t\tvar j, seg;\n\t\t\tvar td;\n\t\n\t\t\t// populates empty cells from the current column (`col`) to `endCol`\n\t\t\tfunction emptyCellsUntil(endCol) {\n\t\t\t\twhile (col < endCol) {\n\t\t\t\t\t// try to grab a cell from the level above and extend its rowspan. otherwise, create a fresh cell\n\t\t\t\t\ttd = (loneCellMatrix[i - 1] || [])[col];\n\t\t\t\t\tif (td) {\n\t\t\t\t\t\ttd.attr(\n\t\t\t\t\t\t\t'rowspan',\n\t\t\t\t\t\t\tparseInt(td.attr('rowspan') || 1, 10) + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\ttd = $('<td/>');\n\t\t\t\t\t\ttr.append(td);\n\t\t\t\t\t}\n\t\t\t\t\tcellMatrix[i][col] = td;\n\t\t\t\t\tloneCellMatrix[i][col] = td;\n\t\t\t\t\tcol++;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tfor (i = 0; i < levelCnt; i++) { // iterate through all levels\n\t\t\t\tlevelSegs = segLevels[i];\n\t\t\t\tcol = 0;\n\t\t\t\ttr = $('<tr/>');\n\t\n\t\t\t\tsegMatrix.push([]);\n\t\t\t\tcellMatrix.push([]);\n\t\t\t\tloneCellMatrix.push([]);\n\t\n\t\t\t\t// levelCnt might be 1 even though there are no actual levels. protect against this.\n\t\t\t\t// this single empty row is useful for styling.\n\t\t\t\tif (levelSegs) {\n\t\t\t\t\tfor (j = 0; j < levelSegs.length; j++) { // iterate through segments in level\n\t\t\t\t\t\tseg = levelSegs[j];\n\t\n\t\t\t\t\t\temptyCellsUntil(seg.leftCol);\n\t\n\t\t\t\t\t\t// create a container that occupies or more columns. append the event element.\n\t\t\t\t\t\ttd = $('<td class=\"fc-event-container\"/>').append(seg.el);\n\t\t\t\t\t\tif (seg.leftCol != seg.rightCol) {\n\t\t\t\t\t\t\ttd.attr('colspan', seg.rightCol - seg.leftCol + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse { // a single-column segment\n\t\t\t\t\t\t\tloneCellMatrix[i][col] = td;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\twhile (col <= seg.rightCol) {\n\t\t\t\t\t\t\tcellMatrix[i][col] = td;\n\t\t\t\t\t\t\tsegMatrix[i][col] = seg;\n\t\t\t\t\t\t\tcol++;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\ttr.append(td);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\temptyCellsUntil(colCnt); // finish off the row\n\t\t\t\tthis.bookendCells(tr, 'eventSkeleton');\n\t\t\t\ttbody.append(tr);\n\t\t\t}\n\t\n\t\t\treturn { // a \"rowStruct\"\n\t\t\t\trow: row, // the row number\n\t\t\t\ttbodyEl: tbody,\n\t\t\t\tcellMatrix: cellMatrix,\n\t\t\t\tsegMatrix: segMatrix,\n\t\t\t\tsegLevels: segLevels,\n\t\t\t\tsegs: rowSegs\n\t\t\t};\n\t\t},\n\t\n\t\n\t\t// Stacks a flat array of segments, which are all assumed to be in the same row, into subarrays of vertical levels.\n\t\t// NOTE: modifies segs\n\t\tbuildSegLevels: function(segs) {\n\t\t\tvar levels = [];\n\t\t\tvar i, seg;\n\t\t\tvar j;\n\t\n\t\t\t// Give preference to elements with certain criteria, so they have\n\t\t\t// a chance to be closer to the top.\n\t\t\tthis.sortSegs(segs);\n\t\t\t\n\t\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\t\tseg = segs[i];\n\t\n\t\t\t\t// loop through levels, starting with the topmost, until the segment doesn't collide with other segments\n\t\t\t\tfor (j = 0; j < levels.length; j++) {\n\t\t\t\t\tif (!isDaySegCollision(seg, levels[j])) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// `j` now holds the desired subrow index\n\t\t\t\tseg.level = j;\n\t\n\t\t\t\t// create new level array if needed and append segment\n\t\t\t\t(levels[j] || (levels[j] = [])).push(seg);\n\t\t\t}\n\t\n\t\t\t// order segments left-to-right. very important if calendar is RTL\n\t\t\tfor (j = 0; j < levels.length; j++) {\n\t\t\t\tlevels[j].sort(compareDaySegCols);\n\t\t\t}\n\t\n\t\t\treturn levels;\n\t\t},\n\t\n\t\n\t\t// Given a flat array of segments, return an array of sub-arrays, grouped by each segment's row\n\t\tgroupSegRows: function(segs) {\n\t\t\tvar segRows = [];\n\t\t\tvar i;\n\t\n\t\t\tfor (i = 0; i < this.rowCnt; i++) {\n\t\t\t\tsegRows.push([]);\n\t\t\t}\n\t\n\t\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\t\tsegRows[segs[i].row].push(segs[i]);\n\t\t\t}\n\t\n\t\t\treturn segRows;\n\t\t}\n\t\n\t});\n\t\n\t\n\t// Computes whether two segments' columns collide. They are assumed to be in the same row.\n\tfunction isDaySegCollision(seg, otherSegs) {\n\t\tvar i, otherSeg;\n\t\n\t\tfor (i = 0; i < otherSegs.length; i++) {\n\t\t\totherSeg = otherSegs[i];\n\t\n\t\t\tif (\n\t\t\t\totherSeg.leftCol <= seg.rightCol &&\n\t\t\t\totherSeg.rightCol >= seg.leftCol\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\n\t\treturn false;\n\t}\n\t\n\t\n\t// A cmp function for determining the leftmost event\n\tfunction compareDaySegCols(a, b) {\n\t\treturn a.leftCol - b.leftCol;\n\t}\n\t\n\t;;\n\t\n\t/* Methods relate to limiting the number events for a given day on a DayGrid\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t// NOTE: all the segs being passed around in here are foreground segs\n\t\n\tDayGrid.mixin({\n\t\n\t\tsegPopover: null, // the Popover that holds events that can't fit in a cell. null when not visible\n\t\tpopoverSegs: null, // an array of segment objects that the segPopover holds. null when not visible\n\t\n\t\n\t\tremoveSegPopover: function() {\n\t\t\tif (this.segPopover) {\n\t\t\t\tthis.segPopover.hide(); // in handler, will call segPopover's removeElement\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Limits the number of \"levels\" (vertically stacking layers of events) for each row of the grid.\n\t\t// `levelLimit` can be false (don't limit), a number, or true (should be computed).\n\t\tlimitRows: function(levelLimit) {\n\t\t\tvar rowStructs = this.rowStructs || [];\n\t\t\tvar row; // row #\n\t\t\tvar rowLevelLimit;\n\t\n\t\t\tfor (row = 0; row < rowStructs.length; row++) {\n\t\t\t\tthis.unlimitRow(row);\n\t\n\t\t\t\tif (!levelLimit) {\n\t\t\t\t\trowLevelLimit = false;\n\t\t\t\t}\n\t\t\t\telse if (typeof levelLimit === 'number') {\n\t\t\t\t\trowLevelLimit = levelLimit;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\trowLevelLimit = this.computeRowLevelLimit(row);\n\t\t\t\t}\n\t\n\t\t\t\tif (rowLevelLimit !== false) {\n\t\t\t\t\tthis.limitRow(row, rowLevelLimit);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Computes the number of levels a row will accomodate without going outside its bounds.\n\t\t// Assumes the row is \"rigid\" (maintains a constant height regardless of what is inside).\n\t\t// `row` is the row number.\n\t\tcomputeRowLevelLimit: function(row) {\n\t\t\tvar rowEl = this.rowEls.eq(row); // the containing \"fake\" row div\n\t\t\tvar rowHeight = rowEl.height(); // TODO: cache somehow?\n\t\t\tvar trEls = this.rowStructs[row].tbodyEl.children();\n\t\t\tvar i, trEl;\n\t\t\tvar trHeight;\n\t\n\t\t\tfunction iterInnerHeights(i, childNode) {\n\t\t\t\ttrHeight = Math.max(trHeight, $(childNode).outerHeight());\n\t\t\t}\n\t\n\t\t\t// Reveal one level <tr> at a time and stop when we find one out of bounds\n\t\t\tfor (i = 0; i < trEls.length; i++) {\n\t\t\t\ttrEl = trEls.eq(i).removeClass('fc-limited'); // reset to original state (reveal)\n\t\n\t\t\t\t// with rowspans>1 and IE8, trEl.outerHeight() would return the height of the largest cell,\n\t\t\t\t// so instead, find the tallest inner content element.\n\t\t\t\ttrHeight = 0;\n\t\t\t\ttrEl.find('> td > :first-child').each(iterInnerHeights);\n\t\n\t\t\t\tif (trEl.position().top + trHeight > rowHeight) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn false; // should not limit at all\n\t\t},\n\t\n\t\n\t\t// Limits the given grid row to the maximum number of levels and injects \"more\" links if necessary.\n\t\t// `row` is the row number.\n\t\t// `levelLimit` is a number for the maximum (inclusive) number of levels allowed.\n\t\tlimitRow: function(row, levelLimit) {\n\t\t\tvar _this = this;\n\t\t\tvar rowStruct = this.rowStructs[row];\n\t\t\tvar moreNodes = []; // array of \"more\" <a> links and <td> DOM nodes\n\t\t\tvar col = 0; // col #, left-to-right (not chronologically)\n\t\t\tvar cell;\n\t\t\tvar levelSegs; // array of segment objects in the last allowable level, ordered left-to-right\n\t\t\tvar cellMatrix; // a matrix (by level, then column) of all <td> jQuery elements in the row\n\t\t\tvar limitedNodes; // array of temporarily hidden level <tr> and segment <td> DOM nodes\n\t\t\tvar i, seg;\n\t\t\tvar segsBelow; // array of segment objects below `seg` in the current `col`\n\t\t\tvar totalSegsBelow; // total number of segments below `seg` in any of the columns `seg` occupies\n\t\t\tvar colSegsBelow; // array of segment arrays, below seg, one for each column (offset from segs's first column)\n\t\t\tvar td, rowspan;\n\t\t\tvar segMoreNodes; // array of \"more\" <td> cells that will stand-in for the current seg's cell\n\t\t\tvar j;\n\t\t\tvar moreTd, moreWrap, moreLink;\n\t\n\t\t\t// Iterates through empty level cells and places \"more\" links inside if need be\n\t\t\tfunction emptyCellsUntil(endCol) { // goes from current `col` to `endCol`\n\t\t\t\twhile (col < endCol) {\n\t\t\t\t\tcell = _this.getCell(row, col);\n\t\t\t\t\tsegsBelow = _this.getCellSegs(cell, levelLimit);\n\t\t\t\t\tif (segsBelow.length) {\n\t\t\t\t\t\ttd = cellMatrix[levelLimit - 1][col];\n\t\t\t\t\t\tmoreLink = _this.renderMoreLink(cell, segsBelow);\n\t\t\t\t\t\tmoreWrap = $('<div/>').append(moreLink);\n\t\t\t\t\t\ttd.append(moreWrap);\n\t\t\t\t\t\tmoreNodes.push(moreWrap[0]);\n\t\t\t\t\t}\n\t\t\t\t\tcol++;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (levelLimit && levelLimit < rowStruct.segLevels.length) { // is it actually over the limit?\n\t\t\t\tlevelSegs = rowStruct.segLevels[levelLimit - 1];\n\t\t\t\tcellMatrix = rowStruct.cellMatrix;\n\t\n\t\t\t\tlimitedNodes = rowStruct.tbodyEl.children().slice(levelLimit) // get level <tr> elements past the limit\n\t\t\t\t\t.addClass('fc-limited').get(); // hide elements and get a simple DOM-nodes array\n\t\n\t\t\t\t// iterate though segments in the last allowable level\n\t\t\t\tfor (i = 0; i < levelSegs.length; i++) {\n\t\t\t\t\tseg = levelSegs[i];\n\t\t\t\t\temptyCellsUntil(seg.leftCol); // process empty cells before the segment\n\t\n\t\t\t\t\t// determine *all* segments below `seg` that occupy the same columns\n\t\t\t\t\tcolSegsBelow = [];\n\t\t\t\t\ttotalSegsBelow = 0;\n\t\t\t\t\twhile (col <= seg.rightCol) {\n\t\t\t\t\t\tcell = this.getCell(row, col);\n\t\t\t\t\t\tsegsBelow = this.getCellSegs(cell, levelLimit);\n\t\t\t\t\t\tcolSegsBelow.push(segsBelow);\n\t\t\t\t\t\ttotalSegsBelow += segsBelow.length;\n\t\t\t\t\t\tcol++;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (totalSegsBelow) { // do we need to replace this segment with one or many \"more\" links?\n\t\t\t\t\t\ttd = cellMatrix[levelLimit - 1][seg.leftCol]; // the segment's parent cell\n\t\t\t\t\t\trowspan = td.attr('rowspan') || 1;\n\t\t\t\t\t\tsegMoreNodes = [];\n\t\n\t\t\t\t\t\t// make a replacement <td> for each column the segment occupies. will be one for each colspan\n\t\t\t\t\t\tfor (j = 0; j < colSegsBelow.length; j++) {\n\t\t\t\t\t\t\tmoreTd = $('<td class=\"fc-more-cell\"/>').attr('rowspan', rowspan);\n\t\t\t\t\t\t\tsegsBelow = colSegsBelow[j];\n\t\t\t\t\t\t\tcell = this.getCell(row, seg.leftCol + j);\n\t\t\t\t\t\t\tmoreLink = this.renderMoreLink(cell, [ seg ].concat(segsBelow)); // count seg as hidden too\n\t\t\t\t\t\t\tmoreWrap = $('<div/>').append(moreLink);\n\t\t\t\t\t\t\tmoreTd.append(moreWrap);\n\t\t\t\t\t\t\tsegMoreNodes.push(moreTd[0]);\n\t\t\t\t\t\t\tmoreNodes.push(moreTd[0]);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\ttd.addClass('fc-limited').after($(segMoreNodes)); // hide original <td> and inject replacements\n\t\t\t\t\t\tlimitedNodes.push(td[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\temptyCellsUntil(this.colCnt); // finish off the level\n\t\t\t\trowStruct.moreEls = $(moreNodes); // for easy undoing later\n\t\t\t\trowStruct.limitedEls = $(limitedNodes); // for easy undoing later\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Reveals all levels and removes all \"more\"-related elements for a grid's row.\n\t\t// `row` is a row number.\n\t\tunlimitRow: function(row) {\n\t\t\tvar rowStruct = this.rowStructs[row];\n\t\n\t\t\tif (rowStruct.moreEls) {\n\t\t\t\trowStruct.moreEls.remove();\n\t\t\t\trowStruct.moreEls = null;\n\t\t\t}\n\t\n\t\t\tif (rowStruct.limitedEls) {\n\t\t\t\trowStruct.limitedEls.removeClass('fc-limited');\n\t\t\t\trowStruct.limitedEls = null;\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Renders an <a> element that represents hidden event element for a cell.\n\t\t// Responsible for attaching click handler as well.\n\t\trenderMoreLink: function(cell, hiddenSegs) {\n\t\t\tvar _this = this;\n\t\t\tvar view = this.view;\n\t\n\t\t\treturn $('<a class=\"fc-more\"/>')\n\t\t\t\t.text(\n\t\t\t\t\tthis.getMoreLinkText(hiddenSegs.length)\n\t\t\t\t)\n\t\t\t\t.on('click', function(ev) {\n\t\t\t\t\tvar clickOption = view.opt('eventLimitClick');\n\t\t\t\t\tvar date = cell.start;\n\t\t\t\t\tvar moreEl = $(this);\n\t\t\t\t\tvar dayEl = _this.getCellDayEl(cell);\n\t\t\t\t\tvar allSegs = _this.getCellSegs(cell);\n\t\n\t\t\t\t\t// rescope the segments to be within the cell's date\n\t\t\t\t\tvar reslicedAllSegs = _this.resliceDaySegs(allSegs, date);\n\t\t\t\t\tvar reslicedHiddenSegs = _this.resliceDaySegs(hiddenSegs, date);\n\t\n\t\t\t\t\tif (typeof clickOption === 'function') {\n\t\t\t\t\t\t// the returned value can be an atomic option\n\t\t\t\t\t\tclickOption = view.trigger('eventLimitClick', null, {\n\t\t\t\t\t\t\tdate: date,\n\t\t\t\t\t\t\tdayEl: dayEl,\n\t\t\t\t\t\t\tmoreEl: moreEl,\n\t\t\t\t\t\t\tsegs: reslicedAllSegs,\n\t\t\t\t\t\t\thiddenSegs: reslicedHiddenSegs\n\t\t\t\t\t\t}, ev);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (clickOption === 'popover') {\n\t\t\t\t\t\t_this.showSegPopover(cell, moreEl, reslicedAllSegs);\n\t\t\t\t\t}\n\t\t\t\t\telse if (typeof clickOption === 'string') { // a view name\n\t\t\t\t\t\tview.calendar.zoomTo(date, clickOption);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\n\t\n\t\t// Reveals the popover that displays all events within a cell\n\t\tshowSegPopover: function(cell, moreLink, segs) {\n\t\t\tvar _this = this;\n\t\t\tvar view = this.view;\n\t\t\tvar moreWrap = moreLink.parent(); // the <div> wrapper around the <a>\n\t\t\tvar topEl; // the element we want to match the top coordinate of\n\t\t\tvar options;\n\t\n\t\t\tif (this.rowCnt == 1) {\n\t\t\t\ttopEl = view.el; // will cause the popover to cover any sort of header\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttopEl = this.rowEls.eq(cell.row); // will align with top of row\n\t\t\t}\n\t\n\t\t\toptions = {\n\t\t\t\tclassName: 'fc-more-popover',\n\t\t\t\tcontent: this.renderSegPopoverContent(cell, segs),\n\t\t\t\tparentEl: this.el,\n\t\t\t\ttop: topEl.offset().top,\n\t\t\t\tautoHide: true, // when the user clicks elsewhere, hide the popover\n\t\t\t\tviewportConstrain: view.opt('popoverViewportConstrain'),\n\t\t\t\thide: function() {\n\t\t\t\t\t// kill everything when the popover is hidden\n\t\t\t\t\t_this.segPopover.removeElement();\n\t\t\t\t\t_this.segPopover = null;\n\t\t\t\t\t_this.popoverSegs = null;\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\t// Determine horizontal coordinate.\n\t\t\t// We use the moreWrap instead of the <td> to avoid border confusion.\n\t\t\tif (this.isRTL) {\n\t\t\t\toptions.right = moreWrap.offset().left + moreWrap.outerWidth() + 1; // +1 to be over cell border\n\t\t\t}\n\t\t\telse {\n\t\t\t\toptions.left = moreWrap.offset().left - 1; // -1 to be over cell border\n\t\t\t}\n\t\n\t\t\tthis.segPopover = new Popover(options);\n\t\t\tthis.segPopover.show();\n\t\t},\n\t\n\t\n\t\t// Builds the inner DOM contents of the segment popover\n\t\trenderSegPopoverContent: function(cell, segs) {\n\t\t\tvar view = this.view;\n\t\t\tvar isTheme = view.opt('theme');\n\t\t\tvar title = cell.start.format(view.opt('dayPopoverFormat'));\n\t\t\tvar content = $(\n\t\t\t\t'<div class=\"fc-header ' + view.widgetHeaderClass + '\">' +\n\t\t\t\t\t'<span class=\"fc-close ' +\n\t\t\t\t\t\t(isTheme ? 'ui-icon ui-icon-closethick' : 'fc-icon fc-icon-x') +\n\t\t\t\t\t'\"></span>' +\n\t\t\t\t\t'<span class=\"fc-title\">' +\n\t\t\t\t\t\thtmlEscape(title) +\n\t\t\t\t\t'</span>' +\n\t\t\t\t\t'<div class=\"fc-clear\"/>' +\n\t\t\t\t'</div>' +\n\t\t\t\t'<div class=\"fc-body ' + view.widgetContentClass + '\">' +\n\t\t\t\t\t'<div class=\"fc-event-container\"></div>' +\n\t\t\t\t'</div>'\n\t\t\t);\n\t\t\tvar segContainer = content.find('.fc-event-container');\n\t\t\tvar i;\n\t\n\t\t\t// render each seg's `el` and only return the visible segs\n\t\t\tsegs = this.renderFgSegEls(segs, true); // disableResizing=true\n\t\t\tthis.popoverSegs = segs;\n\t\n\t\t\tfor (i = 0; i < segs.length; i++) {\n\t\n\t\t\t\t// because segments in the popover are not part of a grid coordinate system, provide a hint to any\n\t\t\t\t// grids that want to do drag-n-drop about which cell it came from\n\t\t\t\tsegs[i].cell = cell;\n\t\n\t\t\t\tsegContainer.append(segs[i].el);\n\t\t\t}\n\t\n\t\t\treturn content;\n\t\t},\n\t\n\t\n\t\t// Given the events within an array of segment objects, reslice them to be in a single day\n\t\tresliceDaySegs: function(segs, dayDate) {\n\t\n\t\t\t// build an array of the original events\n\t\t\tvar events = $.map(segs, function(seg) {\n\t\t\t\treturn seg.event;\n\t\t\t});\n\t\n\t\t\tvar dayStart = dayDate.clone().stripTime();\n\t\t\tvar dayEnd = dayStart.clone().add(1, 'days');\n\t\t\tvar dayRange = { start: dayStart, end: dayEnd };\n\t\n\t\t\t// slice the events with a custom slicing function\n\t\t\tsegs = this.eventsToSegs(\n\t\t\t\tevents,\n\t\t\t\tfunction(range) {\n\t\t\t\t\tvar seg = intersectionToSeg(range, dayRange); // undefind if no intersection\n\t\t\t\t\treturn seg ? [ seg ] : []; // must return an array of segments\n\t\t\t\t}\n\t\t\t);\n\t\n\t\t\t// force an order because eventsToSegs doesn't guarantee one\n\t\t\tthis.sortSegs(segs);\n\t\n\t\t\treturn segs;\n\t\t},\n\t\n\t\n\t\t// Generates the text that should be inside a \"more\" link, given the number of events it represents\n\t\tgetMoreLinkText: function(num) {\n\t\t\tvar opt = this.view.opt('eventLimitText');\n\t\n\t\t\tif (typeof opt === 'function') {\n\t\t\t\treturn opt(num);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn '+' + num + ' ' + opt;\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Returns segments within a given cell.\n\t\t// If `startLevel` is specified, returns only events including and below that level. Otherwise returns all segs.\n\t\tgetCellSegs: function(cell, startLevel) {\n\t\t\tvar segMatrix = this.rowStructs[cell.row].segMatrix;\n\t\t\tvar level = startLevel || 0;\n\t\t\tvar segs = [];\n\t\t\tvar seg;\n\t\n\t\t\twhile (level < segMatrix.length) {\n\t\t\t\tseg = segMatrix[level][cell.col];\n\t\t\t\tif (seg) {\n\t\t\t\t\tsegs.push(seg);\n\t\t\t\t}\n\t\t\t\tlevel++;\n\t\t\t}\n\t\n\t\t\treturn segs;\n\t\t}\n\t\n\t});\n\t\n\t;;\n\t\n\t/* A component that renders one or more columns of vertical time slots\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tvar TimeGrid = Grid.extend({\n\t\n\t\tslotDuration: null, // duration of a \"slot\", a distinct time segment on given day, visualized by lines\n\t\tsnapDuration: null, // granularity of time for dragging and selecting\n\t\tminTime: null, // Duration object that denotes the first visible time of any given day\n\t\tmaxTime: null, // Duration object that denotes the exclusive visible end time of any given day\n\t\tcolDates: null, // whole-day dates for each column. left to right\n\t\tlabelFormat: null, // formatting string for times running along vertical axis\n\t\tlabelInterval: null, // duration of how often a label should be displayed for a slot\n\t\n\t\tdayEls: null, // cells elements in the day-row background\n\t\tslatEls: null, // elements running horizontally across all columns\n\t\n\t\tslatTops: null, // an array of top positions, relative to the container. last item holds bottom of last slot\n\t\n\t\thelperEl: null, // cell skeleton element for rendering the mock event \"helper\"\n\t\n\t\tbusinessHourSegs: null,\n\t\n\t\n\t\tconstructor: function() {\n\t\t\tGrid.apply(this, arguments); // call the super-constructor\n\t\t\tthis.processOptions();\n\t\t},\n\t\n\t\n\t\t// Renders the time grid into `this.el`, which should already be assigned.\n\t\t// Relies on the view's colCnt. In the future, this component should probably be self-sufficient.\n\t\trenderDates: function() {\n\t\t\tthis.el.html(this.renderHtml());\n\t\t\tthis.dayEls = this.el.find('.fc-day');\n\t\t\tthis.slatEls = this.el.find('.fc-slats tr');\n\t\t},\n\t\n\t\n\t\trenderBusinessHours: function() {\n\t\t\tvar events = this.view.calendar.getBusinessHoursEvents();\n\t\t\tthis.businessHourSegs = this.renderFill('businessHours', this.eventsToSegs(events), 'bgevent');\n\t\t},\n\t\n\t\n\t\t// Renders the basic HTML skeleton for the grid\n\t\trenderHtml: function() {\n\t\t\treturn '' +\n\t\t\t\t'<div class=\"fc-bg\">' +\n\t\t\t\t\t'<table>' +\n\t\t\t\t\t\tthis.rowHtml('slotBg') + // leverages RowRenderer, which will call slotBgCellHtml\n\t\t\t\t\t'</table>' +\n\t\t\t\t'</div>' +\n\t\t\t\t'<div class=\"fc-slats\">' +\n\t\t\t\t\t'<table>' +\n\t\t\t\t\t\tthis.slatRowHtml() +\n\t\t\t\t\t'</table>' +\n\t\t\t\t'</div>';\n\t\t},\n\t\n\t\n\t\t// Renders the HTML for a vertical background cell behind the slots.\n\t\t// This method is distinct from 'bg' because we wanted a new `rowType` so the View could customize the rendering.\n\t\tslotBgCellHtml: function(cell) {\n\t\t\treturn this.bgCellHtml(cell);\n\t\t},\n\t\n\t\n\t\t// Generates the HTML for the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n\t\tslatRowHtml: function() {\n\t\t\tvar view = this.view;\n\t\t\tvar isRTL = this.isRTL;\n\t\t\tvar html = '';\n\t\t\tvar slotTime = moment.duration(+this.minTime); // wish there was .clone() for durations\n\t\t\tvar slotDate; // will be on the view's first day, but we only care about its time\n\t\t\tvar isLabeled;\n\t\t\tvar axisHtml;\n\t\n\t\t\t// Calculate the time for each slot\n\t\t\twhile (slotTime < this.maxTime) {\n\t\t\t\tslotDate = this.start.clone().time(slotTime); // after .time() will be in UTC. but that's good, avoids DST issues\n\t\t\t\tisLabeled = isInt(divideDurationByDuration(slotTime, this.labelInterval));\n\t\n\t\t\t\taxisHtml =\n\t\t\t\t\t'<td class=\"fc-axis fc-time ' + view.widgetContentClass + '\" ' + view.axisStyleAttr() + '>' +\n\t\t\t\t\t\t(isLabeled ?\n\t\t\t\t\t\t\t'<span>' + // for matchCellWidths\n\t\t\t\t\t\t\t\thtmlEscape(slotDate.format(this.labelFormat)) +\n\t\t\t\t\t\t\t'</span>' :\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t) +\n\t\t\t\t\t'</td>';\n\t\n\t\t\t\thtml +=\n\t\t\t\t\t'<tr ' + (isLabeled ? '' : 'class=\"fc-minor\"') + '>' +\n\t\t\t\t\t\t(!isRTL ? axisHtml : '') +\n\t\t\t\t\t\t'<td class=\"' + view.widgetContentClass + '\"/>' +\n\t\t\t\t\t\t(isRTL ? axisHtml : '') +\n\t\t\t\t\t\"</tr>\";\n\t\n\t\t\t\tslotTime.add(this.slotDuration);\n\t\t\t}\n\t\n\t\t\treturn html;\n\t\t},\n\t\n\t\n\t\t/* Options\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Parses various options into properties of this object\n\t\tprocessOptions: function() {\n\t\t\tvar view = this.view;\n\t\t\tvar slotDuration = view.opt('slotDuration');\n\t\t\tvar snapDuration = view.opt('snapDuration');\n\t\t\tvar input;\n\t\n\t\t\tslotDuration = moment.duration(slotDuration);\n\t\t\tsnapDuration = snapDuration ? moment.duration(snapDuration) : slotDuration;\n\t\n\t\t\tthis.slotDuration = slotDuration;\n\t\t\tthis.snapDuration = snapDuration;\n\t\t\tthis.cellDuration = snapDuration; // for Grid system\n\t\n\t\t\tthis.minTime = moment.duration(view.opt('minTime'));\n\t\t\tthis.maxTime = moment.duration(view.opt('maxTime'));\n\t\n\t\t\t// might be an array value (for TimelineView).\n\t\t\t// if so, getting the most granular entry (the last one probably).\n\t\t\tinput = view.opt('slotLabelFormat');\n\t\t\tif ($.isArray(input)) {\n\t\t\t\tinput = input[input.length - 1];\n\t\t\t}\n\t\n\t\t\tthis.labelFormat =\n\t\t\t\tinput ||\n\t\t\t\tview.opt('axisFormat') || // deprecated\n\t\t\t\tview.opt('smallTimeFormat'); // the computed default\n\t\n\t\t\tinput = view.opt('slotLabelInterval');\n\t\t\tthis.labelInterval = input ?\n\t\t\t\tmoment.duration(input) :\n\t\t\t\tthis.computeLabelInterval(slotDuration);\n\t\t},\n\t\n\t\n\t\t// Computes an automatic value for slotLabelInterval\n\t\tcomputeLabelInterval: function(slotDuration) {\n\t\t\tvar i;\n\t\t\tvar labelInterval;\n\t\t\tvar slotsPerLabel;\n\t\n\t\t\t// find the smallest stock label interval that results in more than one slots-per-label\n\t\t\tfor (i = AGENDA_STOCK_SUB_DURATIONS.length - 1; i >= 0; i--) {\n\t\t\t\tlabelInterval = moment.duration(AGENDA_STOCK_SUB_DURATIONS[i]);\n\t\t\t\tslotsPerLabel = divideDurationByDuration(labelInterval, slotDuration);\n\t\t\t\tif (isInt(slotsPerLabel) && slotsPerLabel > 1) {\n\t\t\t\t\treturn labelInterval;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn moment.duration(slotDuration); // fall back. clone\n\t\t},\n\t\n\t\n\t\t// Computes a default column header formatting string if `colFormat` is not explicitly defined\n\t\tcomputeColHeadFormat: function() {\n\t\t\tif (this.colCnt > 1) { // multiple days, so full single date string WON'T be in title text\n\t\t\t\treturn this.view.opt('dayOfMonthFormat'); // \"Sat 12/10\"\n\t\t\t}\n\t\t\telse { // single day, so full single date string will probably be in title text\n\t\t\t\treturn 'dddd'; // \"Saturday\"\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Computes a default event time formatting string if `timeFormat` is not explicitly defined\n\t\tcomputeEventTimeFormat: function() {\n\t\t\treturn this.view.opt('noMeridiemTimeFormat'); // like \"6:30\" (no AM/PM)\n\t\t},\n\t\n\t\n\t\t// Computes a default `displayEventEnd` value if one is not expliclty defined\n\t\tcomputeDisplayEventEnd: function() {\n\t\t\treturn true;\n\t\t},\n\t\n\t\n\t\t/* Cell System\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\trangeUpdated: function() {\n\t\t\tvar view = this.view;\n\t\t\tvar colDates = [];\n\t\t\tvar date;\n\t\n\t\t\tdate = this.start.clone();\n\t\t\twhile (date.isBefore(this.end)) {\n\t\t\t\tcolDates.push(date.clone());\n\t\t\t\tdate.add(1, 'day');\n\t\t\t\tdate = view.skipHiddenDays(date);\n\t\t\t}\n\t\n\t\t\tif (this.isRTL) {\n\t\t\t\tcolDates.reverse();\n\t\t\t}\n\t\n\t\t\tthis.colDates = colDates;\n\t\t\tthis.colCnt = colDates.length;\n\t\t\tthis.rowCnt = Math.ceil((this.maxTime - this.minTime) / this.snapDuration); // # of vertical snaps\n\t\t},\n\t\n\t\n\t\t// Given a cell object, generates its start date. Returns a reference-free copy.\n\t\tcomputeCellDate: function(cell) {\n\t\t\tvar date = this.colDates[cell.col];\n\t\t\tvar time = this.computeSnapTime(cell.row);\n\t\n\t\t\tdate = this.view.calendar.rezoneDate(date); // give it a 00:00 time\n\t\t\tdate.time(time);\n\t\n\t\t\treturn date;\n\t\t},\n\t\n\t\n\t\t// Retrieves the element representing the given column\n\t\tgetColEl: function(col) {\n\t\t\treturn this.dayEls.eq(col);\n\t\t},\n\t\n\t\n\t\t/* Dates\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Given a row number of the grid, representing a \"snap\", returns a time (Duration) from its start-of-day\n\t\tcomputeSnapTime: function(row) {\n\t\t\treturn moment.duration(this.minTime + this.snapDuration * row);\n\t\t},\n\t\n\t\n\t\t// Slices up a date range by column into an array of segments\n\t\trangeToSegs: function(range) {\n\t\t\tvar colCnt = this.colCnt;\n\t\t\tvar segs = [];\n\t\t\tvar seg;\n\t\t\tvar col;\n\t\t\tvar colDate;\n\t\t\tvar colRange;\n\t\n\t\t\t// normalize :(\n\t\t\trange = {\n\t\t\t\tstart: range.start.clone().stripZone(),\n\t\t\t\tend: range.end.clone().stripZone()\n\t\t\t};\n\t\n\t\t\tfor (col = 0; col < colCnt; col++) {\n\t\t\t\tcolDate = this.colDates[col]; // will be ambig time/timezone\n\t\t\t\tcolRange = {\n\t\t\t\t\tstart: colDate.clone().time(this.minTime),\n\t\t\t\t\tend: colDate.clone().time(this.maxTime)\n\t\t\t\t};\n\t\t\t\tseg = intersectionToSeg(range, colRange); // both will be ambig timezone\n\t\t\t\tif (seg) {\n\t\t\t\t\tseg.col = col;\n\t\t\t\t\tsegs.push(seg);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn segs;\n\t\t},\n\t\n\t\n\t\t/* Coordinates\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\tupdateSize: function(isResize) { // NOT a standard Grid method\n\t\t\tthis.computeSlatTops();\n\t\n\t\t\tif (isResize) {\n\t\t\t\tthis.updateSegVerticals();\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Computes the top/bottom coordinates of each \"snap\" rows\n\t\tcomputeRowCoords: function() {\n\t\t\tvar originTop = this.el.offset().top;\n\t\t\tvar items = [];\n\t\t\tvar i;\n\t\t\tvar item;\n\t\n\t\t\tfor (i = 0; i < this.rowCnt; i++) {\n\t\t\t\titem = {\n\t\t\t\t\ttop: originTop + this.computeTimeTop(this.computeSnapTime(i))\n\t\t\t\t};\n\t\t\t\tif (i > 0) {\n\t\t\t\t\titems[i - 1].bottom = item.top;\n\t\t\t\t}\n\t\t\t\titems.push(item);\n\t\t\t}\n\t\t\titem.bottom = item.top + this.computeTimeTop(this.computeSnapTime(i));\n\t\n\t\t\treturn items;\n\t\t},\n\t\n\t\n\t\t// Computes the top coordinate, relative to the bounds of the grid, of the given date.\n\t\t// A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n\t\tcomputeDateTop: function(date, startOfDayDate) {\n\t\t\treturn this.computeTimeTop(\n\t\t\t\tmoment.duration(\n\t\t\t\t\tdate.clone().stripZone() - startOfDayDate.clone().stripTime()\n\t\t\t\t)\n\t\t\t);\n\t\t},\n\t\n\t\n\t\t// Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n\t\tcomputeTimeTop: function(time) {\n\t\t\tvar slatCoverage = (time - this.minTime) / this.slotDuration; // floating-point value of # of slots covered\n\t\t\tvar slatIndex;\n\t\t\tvar slatRemainder;\n\t\t\tvar slatTop;\n\t\t\tvar slatBottom;\n\t\n\t\t\t// constrain. because minTime/maxTime might be customized\n\t\t\tslatCoverage = Math.max(0, slatCoverage);\n\t\t\tslatCoverage = Math.min(this.slatEls.length, slatCoverage);\n\t\n\t\t\tslatIndex = Math.floor(slatCoverage); // an integer index of the furthest whole slot\n\t\t\tslatRemainder = slatCoverage - slatIndex;\n\t\t\tslatTop = this.slatTops[slatIndex]; // the top position of the furthest whole slot\n\t\n\t\t\tif (slatRemainder) { // time spans part-way into the slot\n\t\t\t\tslatBottom = this.slatTops[slatIndex + 1];\n\t\t\t\treturn slatTop + (slatBottom - slatTop) * slatRemainder; // part-way between slots\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn slatTop;\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Queries each `slatEl` for its position relative to the grid's container and stores it in `slatTops`.\n\t\t// Includes the the bottom of the last slat as the last item in the array.\n\t\tcomputeSlatTops: function() {\n\t\t\tvar tops = [];\n\t\t\tvar top;\n\t\n\t\t\tthis.slatEls.each(function(i, node) {\n\t\t\t\ttop = $(node).position().top;\n\t\t\t\ttops.push(top);\n\t\t\t});\n\t\n\t\t\ttops.push(top + this.slatEls.last().outerHeight()); // bottom of the last slat\n\t\n\t\t\tthis.slatTops = tops;\n\t\t},\n\t\n\t\n\t\t/* Event Drag Visualization\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders a visual indication of an event being dragged over the specified date(s).\n\t\t// dropLocation's end might be null, as well as `seg`. See Grid::renderDrag for more info.\n\t\t// A returned value of `true` signals that a mock \"helper\" event has been rendered.\n\t\trenderDrag: function(dropLocation, seg) {\n\t\n\t\t\tif (seg) { // if there is event information for this drag, render a helper event\n\t\t\t\tthis.renderRangeHelper(dropLocation, seg);\n\t\t\t\tthis.applyDragOpacity(this.helperEl);\n\t\n\t\t\t\treturn true; // signal that a helper has been rendered\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// otherwise, just render a highlight\n\t\t\t\tthis.renderHighlight(this.eventRangeToSegs(dropLocation));\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Unrenders any visual indication of an event being dragged\n\t\tunrenderDrag: function() {\n\t\t\tthis.unrenderHelper();\n\t\t\tthis.unrenderHighlight();\n\t\t},\n\t\n\t\n\t\t/* Event Resize Visualization\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders a visual indication of an event being resized\n\t\trenderEventResize: function(range, seg) {\n\t\t\tthis.renderRangeHelper(range, seg);\n\t\t},\n\t\n\t\n\t\t// Unrenders any visual indication of an event being resized\n\t\tunrenderEventResize: function() {\n\t\t\tthis.unrenderHelper();\n\t\t},\n\t\n\t\n\t\t/* Event Helper\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders a mock \"helper\" event. `sourceSeg` is the original segment object and might be null (an external drag)\n\t\trenderHelper: function(event, sourceSeg) {\n\t\t\tvar segs = this.eventsToSegs([ event ]);\n\t\t\tvar tableEl;\n\t\t\tvar i, seg;\n\t\t\tvar sourceEl;\n\t\n\t\t\tsegs = this.renderFgSegEls(segs); // assigns each seg's el and returns a subset of segs that were rendered\n\t\t\ttableEl = this.renderSegTable(segs);\n\t\n\t\t\t// Try to make the segment that is in the same row as sourceSeg look the same\n\t\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\t\tseg = segs[i];\n\t\t\t\tif (sourceSeg && sourceSeg.col === seg.col) {\n\t\t\t\t\tsourceEl = sourceSeg.el;\n\t\t\t\t\tseg.el.css({\n\t\t\t\t\t\tleft: sourceEl.css('left'),\n\t\t\t\t\t\tright: sourceEl.css('right'),\n\t\t\t\t\t\t'margin-left': sourceEl.css('margin-left'),\n\t\t\t\t\t\t'margin-right': sourceEl.css('margin-right')\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tthis.helperEl = $('<div class=\"fc-helper-skeleton\"/>')\n\t\t\t\t.append(tableEl)\n\t\t\t\t\t.appendTo(this.el);\n\t\t},\n\t\n\t\n\t\t// Unrenders any mock helper event\n\t\tunrenderHelper: function() {\n\t\t\tif (this.helperEl) {\n\t\t\t\tthis.helperEl.remove();\n\t\t\t\tthis.helperEl = null;\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t/* Selection\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders a visual indication of a selection. Overrides the default, which was to simply render a highlight.\n\t\trenderSelection: function(range) {\n\t\t\tif (this.view.opt('selectHelper')) { // this setting signals that a mock helper event should be rendered\n\t\t\t\tthis.renderRangeHelper(range);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.renderHighlight(this.selectionRangeToSegs(range));\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Unrenders any visual indication of a selection\n\t\tunrenderSelection: function() {\n\t\t\tthis.unrenderHelper();\n\t\t\tthis.unrenderHighlight();\n\t\t},\n\t\n\t\n\t\t/* Fill System (highlight, background events, business hours)\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders a set of rectangles over the given time segments.\n\t\t// Only returns segments that successfully rendered.\n\t\trenderFill: function(type, segs, className) {\n\t\t\tvar segCols;\n\t\t\tvar skeletonEl;\n\t\t\tvar trEl;\n\t\t\tvar col, colSegs;\n\t\t\tvar tdEl;\n\t\t\tvar containerEl;\n\t\t\tvar dayDate;\n\t\t\tvar i, seg;\n\t\n\t\t\tif (segs.length) {\n\t\n\t\t\t\tsegs = this.renderFillSegEls(type, segs); // assignes `.el` to each seg. returns successfully rendered segs\n\t\t\t\tsegCols = this.groupSegCols(segs); // group into sub-arrays, and assigns 'col' to each seg\n\t\n\t\t\t\tclassName = className || type.toLowerCase();\n\t\t\t\tskeletonEl = $(\n\t\t\t\t\t'<div class=\"fc-' + className + '-skeleton\">' +\n\t\t\t\t\t\t'<table><tr/></table>' +\n\t\t\t\t\t'</div>'\n\t\t\t\t);\n\t\t\t\ttrEl = skeletonEl.find('tr');\n\t\n\t\t\t\tfor (col = 0; col < segCols.length; col++) {\n\t\t\t\t\tcolSegs = segCols[col];\n\t\t\t\t\ttdEl = $('<td/>').appendTo(trEl);\n\t\n\t\t\t\t\tif (colSegs.length) {\n\t\t\t\t\t\tcontainerEl = $('<div class=\"fc-' + className + '-container\"/>').appendTo(tdEl);\n\t\t\t\t\t\tdayDate = this.colDates[col];\n\t\n\t\t\t\t\t\tfor (i = 0; i < colSegs.length; i++) {\n\t\t\t\t\t\t\tseg = colSegs[i];\n\t\t\t\t\t\t\tcontainerEl.append(\n\t\t\t\t\t\t\t\tseg.el.css({\n\t\t\t\t\t\t\t\t\ttop: this.computeDateTop(seg.start, dayDate),\n\t\t\t\t\t\t\t\t\tbottom: -this.computeDateTop(seg.end, dayDate) // the y position of the bottom edge\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tthis.bookendCells(trEl, type);\n\t\n\t\t\t\tthis.el.append(skeletonEl);\n\t\t\t\tthis.elsByFill[type] = skeletonEl;\n\t\t\t}\n\t\n\t\t\treturn segs;\n\t\t}\n\t\n\t});\n\t\n\t;;\n\t\n\t/* Event-rendering methods for the TimeGrid class\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tTimeGrid.mixin({\n\t\n\t\teventSkeletonEl: null, // has cells with event-containers, which contain absolutely positioned event elements\n\t\n\t\n\t\t// Renders the given foreground event segments onto the grid\n\t\trenderFgSegs: function(segs) {\n\t\t\tsegs = this.renderFgSegEls(segs); // returns a subset of the segs. segs that were actually rendered\n\t\n\t\t\tthis.el.append(\n\t\t\t\tthis.eventSkeletonEl = $('<div class=\"fc-content-skeleton\"/>')\n\t\t\t\t\t.append(this.renderSegTable(segs))\n\t\t\t);\n\t\n\t\t\treturn segs; // return only the segs that were actually rendered\n\t\t},\n\t\n\t\n\t\t// Unrenders all currently rendered foreground event segments\n\t\tunrenderFgSegs: function(segs) {\n\t\t\tif (this.eventSkeletonEl) {\n\t\t\t\tthis.eventSkeletonEl.remove();\n\t\t\t\tthis.eventSkeletonEl = null;\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Renders and returns the <table> portion of the event-skeleton.\n\t\t// Returns an object with properties 'tbodyEl' and 'segs'.\n\t\trenderSegTable: function(segs) {\n\t\t\tvar tableEl = $('<table><tr/></table>');\n\t\t\tvar trEl = tableEl.find('tr');\n\t\t\tvar segCols;\n\t\t\tvar i, seg;\n\t\t\tvar col, colSegs;\n\t\t\tvar containerEl;\n\t\n\t\t\tsegCols = this.groupSegCols(segs); // group into sub-arrays, and assigns 'col' to each seg\n\t\n\t\t\tthis.computeSegVerticals(segs); // compute and assign top/bottom\n\t\n\t\t\tfor (col = 0; col < segCols.length; col++) { // iterate each column grouping\n\t\t\t\tcolSegs = segCols[col];\n\t\t\t\tthis.placeSlotSegs(colSegs); // compute horizontal coordinates, z-index's, and reorder the array\n\t\n\t\t\t\tcontainerEl = $('<div class=\"fc-event-container\"/>');\n\t\n\t\t\t\t// assign positioning CSS and insert into container\n\t\t\t\tfor (i = 0; i < colSegs.length; i++) {\n\t\t\t\t\tseg = colSegs[i];\n\t\t\t\t\tseg.el.css(this.generateSegPositionCss(seg));\n\t\n\t\t\t\t\t// if the height is short, add a className for alternate styling\n\t\t\t\t\tif (seg.bottom - seg.top < 30) {\n\t\t\t\t\t\tseg.el.addClass('fc-short');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tcontainerEl.append(seg.el);\n\t\t\t\t}\n\t\n\t\t\t\ttrEl.append($('<td/>').append(containerEl));\n\t\t\t}\n\t\n\t\t\tthis.bookendCells(trEl, 'eventSkeleton');\n\t\n\t\t\treturn tableEl;\n\t\t},\n\t\n\t\n\t\t// Given an array of segments that are all in the same column, sets the backwardCoord and forwardCoord on each.\n\t\t// NOTE: Also reorders the given array by date!\n\t\tplaceSlotSegs: function(segs) {\n\t\t\tvar levels;\n\t\t\tvar level0;\n\t\t\tvar i;\n\t\n\t\t\tthis.sortSegs(segs); // order by date\n\t\t\tlevels = buildSlotSegLevels(segs);\n\t\t\tcomputeForwardSlotSegs(levels);\n\t\n\t\t\tif ((level0 = levels[0])) {\n\t\n\t\t\t\tfor (i = 0; i < level0.length; i++) {\n\t\t\t\t\tcomputeSlotSegPressures(level0[i]);\n\t\t\t\t}\n\t\n\t\t\t\tfor (i = 0; i < level0.length; i++) {\n\t\t\t\t\tthis.computeSlotSegCoords(level0[i], 0, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Calculate seg.forwardCoord and seg.backwardCoord for the segment, where both values range\n\t\t// from 0 to 1. If the calendar is left-to-right, the seg.backwardCoord maps to \"left\" and\n\t\t// seg.forwardCoord maps to \"right\" (via percentage). Vice-versa if the calendar is right-to-left.\n\t\t//\n\t\t// The segment might be part of a \"series\", which means consecutive segments with the same pressure\n\t\t// who's width is unknown until an edge has been hit. `seriesBackwardPressure` is the number of\n\t\t// segments behind this one in the current series, and `seriesBackwardCoord` is the starting\n\t\t// coordinate of the first segment in the series.\n\t\tcomputeSlotSegCoords: function(seg, seriesBackwardPressure, seriesBackwardCoord) {\n\t\t\tvar forwardSegs = seg.forwardSegs;\n\t\t\tvar i;\n\t\n\t\t\tif (seg.forwardCoord === undefined) { // not already computed\n\t\n\t\t\t\tif (!forwardSegs.length) {\n\t\n\t\t\t\t\t// if there are no forward segments, this segment should butt up against the edge\n\t\t\t\t\tseg.forwardCoord = 1;\n\t\t\t\t}\n\t\t\t\telse {\n\t\n\t\t\t\t\t// sort highest pressure first\n\t\t\t\t\tthis.sortForwardSlotSegs(forwardSegs);\n\t\n\t\t\t\t\t// this segment's forwardCoord will be calculated from the backwardCoord of the\n\t\t\t\t\t// highest-pressure forward segment.\n\t\t\t\t\tthis.computeSlotSegCoords(forwardSegs[0], seriesBackwardPressure + 1, seriesBackwardCoord);\n\t\t\t\t\tseg.forwardCoord = forwardSegs[0].backwardCoord;\n\t\t\t\t}\n\t\n\t\t\t\t// calculate the backwardCoord from the forwardCoord. consider the series\n\t\t\t\tseg.backwardCoord = seg.forwardCoord -\n\t\t\t\t\t(seg.forwardCoord - seriesBackwardCoord) / // available width for series\n\t\t\t\t\t(seriesBackwardPressure + 1); // # of segments in the series\n\t\n\t\t\t\t// use this segment's coordinates to computed the coordinates of the less-pressurized\n\t\t\t\t// forward segments\n\t\t\t\tfor (i=0; i<forwardSegs.length; i++) {\n\t\t\t\t\tthis.computeSlotSegCoords(forwardSegs[i], 0, seg.forwardCoord);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Refreshes the CSS top/bottom coordinates for each segment element. Probably after a window resize/zoom.\n\t\t// Repositions business hours segs too, so not just for events. Maybe shouldn't be here.\n\t\tupdateSegVerticals: function() {\n\t\t\tvar allSegs = (this.segs || []).concat(this.businessHourSegs || []);\n\t\t\tvar i;\n\t\n\t\t\tthis.computeSegVerticals(allSegs);\n\t\n\t\t\tfor (i = 0; i < allSegs.length; i++) {\n\t\t\t\tallSegs[i].el.css(\n\t\t\t\t\tthis.generateSegVerticalCss(allSegs[i])\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// For each segment in an array, computes and assigns its top and bottom properties\n\t\tcomputeSegVerticals: function(segs) {\n\t\t\tvar i, seg;\n\t\n\t\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\t\tseg = segs[i];\n\t\t\t\tseg.top = this.computeDateTop(seg.start, seg.start);\n\t\t\t\tseg.bottom = this.computeDateTop(seg.end, seg.start);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Renders the HTML for a single event segment's default rendering\n\t\tfgSegHtml: function(seg, disableResizing) {\n\t\t\tvar view = this.view;\n\t\t\tvar event = seg.event;\n\t\t\tvar isDraggable = view.isEventDraggable(event);\n\t\t\tvar isResizableFromStart = !disableResizing && seg.isStart && view.isEventResizableFromStart(event);\n\t\t\tvar isResizableFromEnd = !disableResizing && seg.isEnd && view.isEventResizableFromEnd(event);\n\t\t\tvar classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd);\n\t\t\tvar skinCss = cssToStr(this.getEventSkinCss(event));\n\t\t\tvar timeText;\n\t\t\tvar fullTimeText; // more verbose time text. for the print stylesheet\n\t\t\tvar startTimeText; // just the start time text\n\t\n\t\t\tclasses.unshift('fc-time-grid-event', 'fc-v-event');\n\t\n\t\t\tif (view.isMultiDayEvent(event)) { // if the event appears to span more than one day...\n\t\t\t\t// Don't display time text on segments that run entirely through a day.\n\t\t\t\t// That would appear as midnight-midnight and would look dumb.\n\t\t\t\t// Otherwise, display the time text for the *segment's* times (like 6pm-midnight or midnight-10am)\n\t\t\t\tif (seg.isStart || seg.isEnd) {\n\t\t\t\t\ttimeText = this.getEventTimeText(seg);\n\t\t\t\t\tfullTimeText = this.getEventTimeText(seg, 'LT');\n\t\t\t\t\tstartTimeText = this.getEventTimeText(seg, null, false); // displayEnd=false\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Display the normal time text for the *event's* times\n\t\t\t\ttimeText = this.getEventTimeText(event);\n\t\t\t\tfullTimeText = this.getEventTimeText(event, 'LT');\n\t\t\t\tstartTimeText = this.getEventTimeText(event, null, false); // displayEnd=false\n\t\t\t}\n\t\n\t\t\treturn '<a class=\"' + classes.join(' ') + '\"' +\n\t\t\t\t(event.url ?\n\t\t\t\t\t' href=\"' + htmlEscape(event.url) + '\"' :\n\t\t\t\t\t''\n\t\t\t\t\t) +\n\t\t\t\t(skinCss ?\n\t\t\t\t\t' style=\"' + skinCss + '\"' :\n\t\t\t\t\t''\n\t\t\t\t\t) +\n\t\t\t\t'>' +\n\t\t\t\t\t'<div class=\"fc-content\">' +\n\t\t\t\t\t\t(timeText ?\n\t\t\t\t\t\t\t'<div class=\"fc-time\"' +\n\t\t\t\t\t\t\t' data-start=\"' + htmlEscape(startTimeText) + '\"' +\n\t\t\t\t\t\t\t' data-full=\"' + htmlEscape(fullTimeText) + '\"' +\n\t\t\t\t\t\t\t'>' +\n\t\t\t\t\t\t\t\t'<span>' + htmlEscape(timeText) + '</span>' +\n\t\t\t\t\t\t\t'</div>' :\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t(event.title ?\n\t\t\t\t\t\t\t'<div class=\"fc-title\">' +\n\t\t\t\t\t\t\t\thtmlEscape(event.title) +\n\t\t\t\t\t\t\t'</div>' :\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t) +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t'<div class=\"fc-bg\"/>' +\n\t\t\t\t\t/* TODO: write CSS for this\n\t\t\t\t\t(isResizableFromStart ?\n\t\t\t\t\t\t'<div class=\"fc-resizer fc-start-resizer\" />' :\n\t\t\t\t\t\t''\n\t\t\t\t\t\t) +\n\t\t\t\t\t*/\n\t\t\t\t\t(isResizableFromEnd ?\n\t\t\t\t\t\t'<div class=\"fc-resizer fc-end-resizer\" />' :\n\t\t\t\t\t\t''\n\t\t\t\t\t\t) +\n\t\t\t\t'</a>';\n\t\t},\n\t\n\t\n\t\t// Generates an object with CSS properties/values that should be applied to an event segment element.\n\t\t// Contains important positioning-related properties that should be applied to any event element, customized or not.\n\t\tgenerateSegPositionCss: function(seg) {\n\t\t\tvar shouldOverlap = this.view.opt('slotEventOverlap');\n\t\t\tvar backwardCoord = seg.backwardCoord; // the left side if LTR. the right side if RTL. floating-point\n\t\t\tvar forwardCoord = seg.forwardCoord; // the right side if LTR. the left side if RTL. floating-point\n\t\t\tvar props = this.generateSegVerticalCss(seg); // get top/bottom first\n\t\t\tvar left; // amount of space from left edge, a fraction of the total width\n\t\t\tvar right; // amount of space from right edge, a fraction of the total width\n\t\n\t\t\tif (shouldOverlap) {\n\t\t\t\t// double the width, but don't go beyond the maximum forward coordinate (1.0)\n\t\t\t\tforwardCoord = Math.min(1, backwardCoord + (forwardCoord - backwardCoord) * 2);\n\t\t\t}\n\t\n\t\t\tif (this.isRTL) {\n\t\t\t\tleft = 1 - forwardCoord;\n\t\t\t\tright = backwardCoord;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tleft = backwardCoord;\n\t\t\t\tright = 1 - forwardCoord;\n\t\t\t}\n\t\n\t\t\tprops.zIndex = seg.level + 1; // convert from 0-base to 1-based\n\t\t\tprops.left = left * 100 + '%';\n\t\t\tprops.right = right * 100 + '%';\n\t\n\t\t\tif (shouldOverlap && seg.forwardPressure) {\n\t\t\t\t// add padding to the edge so that forward stacked events don't cover the resizer's icon\n\t\t\t\tprops[this.isRTL ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n\t\t\t}\n\t\n\t\t\treturn props;\n\t\t},\n\t\n\t\n\t\t// Generates an object with CSS properties for the top/bottom coordinates of a segment element\n\t\tgenerateSegVerticalCss: function(seg) {\n\t\t\treturn {\n\t\t\t\ttop: seg.top,\n\t\t\t\tbottom: -seg.bottom // flipped because needs to be space beyond bottom edge of event container\n\t\t\t};\n\t\t},\n\t\n\t\n\t\t// Given a flat array of segments, return an array of sub-arrays, grouped by each segment's col\n\t\tgroupSegCols: function(segs) {\n\t\t\tvar segCols = [];\n\t\t\tvar i;\n\t\n\t\t\tfor (i = 0; i < this.colCnt; i++) {\n\t\t\t\tsegCols.push([]);\n\t\t\t}\n\t\n\t\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\t\tsegCols[segs[i].col].push(segs[i]);\n\t\t\t}\n\t\n\t\t\treturn segCols;\n\t\t},\n\t\n\t\n\t\tsortForwardSlotSegs: function(forwardSegs) {\n\t\t\tforwardSegs.sort(proxy(this, 'compareForwardSlotSegs'));\n\t\t},\n\t\n\t\n\t\t// A cmp function for determining which forward segment to rely on more when computing coordinates.\n\t\tcompareForwardSlotSegs: function(seg1, seg2) {\n\t\t\t// put higher-pressure first\n\t\t\treturn seg2.forwardPressure - seg1.forwardPressure ||\n\t\t\t\t// put segments that are closer to initial edge first (and favor ones with no coords yet)\n\t\t\t\t(seg1.backwardCoord || 0) - (seg2.backwardCoord || 0) ||\n\t\t\t\t// do normal sorting...\n\t\t\t\tthis.compareSegs(seg1, seg2);\n\t\t}\n\t\n\t});\n\t\n\t\n\t// Builds an array of segments \"levels\". The first level will be the leftmost tier of segments if the calendar is\n\t// left-to-right, or the rightmost if the calendar is right-to-left. Assumes the segments are already ordered by date.\n\tfunction buildSlotSegLevels(segs) {\n\t\tvar levels = [];\n\t\tvar i, seg;\n\t\tvar j;\n\t\n\t\tfor (i=0; i<segs.length; i++) {\n\t\t\tseg = segs[i];\n\t\n\t\t\t// go through all the levels and stop on the first level where there are no collisions\n\t\t\tfor (j=0; j<levels.length; j++) {\n\t\t\t\tif (!computeSlotSegCollisions(seg, levels[j]).length) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tseg.level = j;\n\t\n\t\t\t(levels[j] || (levels[j] = [])).push(seg);\n\t\t}\n\t\n\t\treturn levels;\n\t}\n\t\n\t\n\t// For every segment, figure out the other segments that are in subsequent\n\t// levels that also occupy the same vertical space. Accumulate in seg.forwardSegs\n\tfunction computeForwardSlotSegs(levels) {\n\t\tvar i, level;\n\t\tvar j, seg;\n\t\tvar k;\n\t\n\t\tfor (i=0; i<levels.length; i++) {\n\t\t\tlevel = levels[i];\n\t\n\t\t\tfor (j=0; j<level.length; j++) {\n\t\t\t\tseg = level[j];\n\t\n\t\t\t\tseg.forwardSegs = [];\n\t\t\t\tfor (k=i+1; k<levels.length; k++) {\n\t\t\t\t\tcomputeSlotSegCollisions(seg, levels[k], seg.forwardSegs);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t// Figure out which path forward (via seg.forwardSegs) results in the longest path until\n\t// the furthest edge is reached. The number of segments in this path will be seg.forwardPressure\n\tfunction computeSlotSegPressures(seg) {\n\t\tvar forwardSegs = seg.forwardSegs;\n\t\tvar forwardPressure = 0;\n\t\tvar i, forwardSeg;\n\t\n\t\tif (seg.forwardPressure === undefined) { // not already computed\n\t\n\t\t\tfor (i=0; i<forwardSegs.length; i++) {\n\t\t\t\tforwardSeg = forwardSegs[i];\n\t\n\t\t\t\t// figure out the child's maximum forward path\n\t\t\t\tcomputeSlotSegPressures(forwardSeg);\n\t\n\t\t\t\t// either use the existing maximum, or use the child's forward pressure\n\t\t\t\t// plus one (for the forwardSeg itself)\n\t\t\t\tforwardPressure = Math.max(\n\t\t\t\t\tforwardPressure,\n\t\t\t\t\t1 + forwardSeg.forwardPressure\n\t\t\t\t);\n\t\t\t}\n\t\n\t\t\tseg.forwardPressure = forwardPressure;\n\t\t}\n\t}\n\t\n\t\n\t// Find all the segments in `otherSegs` that vertically collide with `seg`.\n\t// Append into an optionally-supplied `results` array and return.\n\tfunction computeSlotSegCollisions(seg, otherSegs, results) {\n\t\tresults = results || [];\n\t\n\t\tfor (var i=0; i<otherSegs.length; i++) {\n\t\t\tif (isSlotSegCollision(seg, otherSegs[i])) {\n\t\t\t\tresults.push(otherSegs[i]);\n\t\t\t}\n\t\t}\n\t\n\t\treturn results;\n\t}\n\t\n\t\n\t// Do these segments occupy the same vertical space?\n\tfunction isSlotSegCollision(seg1, seg2) {\n\t\treturn seg1.bottom > seg2.top && seg1.top < seg2.bottom;\n\t}\n\t\n\t;;\n\t\n\t/* An abstract class from which other views inherit from\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tvar View = fc.View = Class.extend({\n\t\n\t\ttype: null, // subclass' view name (string)\n\t\tname: null, // deprecated. use `type` instead\n\t\ttitle: null, // the text that will be displayed in the header's title\n\t\n\t\tcalendar: null, // owner Calendar object\n\t\toptions: null, // hash containing all options. already merged with view-specific-options\n\t\tcoordMap: null, // a CoordMap object for converting pixel regions to dates\n\t\tel: null, // the view's containing element. set by Calendar\n\t\n\t\tdisplaying: null, // a promise representing the state of rendering. null if no render requested\n\t\tisSkeletonRendered: false,\n\t\tisEventsRendered: false,\n\t\n\t\t// range the view is actually displaying (moments)\n\t\tstart: null,\n\t\tend: null, // exclusive\n\t\n\t\t// range the view is formally responsible for (moments)\n\t\t// may be different from start/end. for example, a month view might have 1st-31st, excluding padded dates\n\t\tintervalStart: null,\n\t\tintervalEnd: null, // exclusive\n\t\tintervalDuration: null,\n\t\tintervalUnit: null, // name of largest unit being displayed, like \"month\" or \"week\"\n\t\n\t\tisRTL: false,\n\t\tisSelected: false, // boolean whether a range of time is user-selected or not\n\t\n\t\teventOrderSpecs: null, // criteria for ordering events when they have same date/time\n\t\n\t\t// subclasses can optionally use a scroll container\n\t\tscrollerEl: null, // the element that will most likely scroll when content is too tall\n\t\tscrollTop: null, // cached vertical scroll value\n\t\n\t\t// classNames styled by jqui themes\n\t\twidgetHeaderClass: null,\n\t\twidgetContentClass: null,\n\t\thighlightStateClass: null,\n\t\n\t\t// for date utils, computed from options\n\t\tnextDayThreshold: null,\n\t\tisHiddenDayHash: null,\n\t\n\t\t// document handlers, bound to `this` object\n\t\tdocumentMousedownProxy: null, // TODO: doesn't work with touch\n\t\n\t\n\t\tconstructor: function(calendar, type, options, intervalDuration) {\n\t\n\t\t\tthis.calendar = calendar;\n\t\t\tthis.type = this.name = type; // .name is deprecated\n\t\t\tthis.options = options;\n\t\t\tthis.intervalDuration = intervalDuration || moment.duration(1, 'day');\n\t\n\t\t\tthis.nextDayThreshold = moment.duration(this.opt('nextDayThreshold'));\n\t\t\tthis.initThemingProps();\n\t\t\tthis.initHiddenDays();\n\t\t\tthis.isRTL = this.opt('isRTL');\n\t\n\t\t\tthis.eventOrderSpecs = parseFieldSpecs(this.opt('eventOrder'));\n\t\n\t\t\tthis.documentMousedownProxy = proxy(this, 'documentMousedown');\n\t\n\t\t\tthis.initialize();\n\t\t},\n\t\n\t\n\t\t// A good place for subclasses to initialize member variables\n\t\tinitialize: function() {\n\t\t\t// subclasses can implement\n\t\t},\n\t\n\t\n\t\t// Retrieves an option with the given name\n\t\topt: function(name) {\n\t\t\treturn this.options[name];\n\t\t},\n\t\n\t\n\t\t// Triggers handlers that are view-related. Modifies args before passing to calendar.\n\t\ttrigger: function(name, thisObj) { // arguments beyond thisObj are passed along\n\t\t\tvar calendar = this.calendar;\n\t\n\t\t\treturn calendar.trigger.apply(\n\t\t\t\tcalendar,\n\t\t\t\t[name, thisObj || this].concat(\n\t\t\t\t\tArray.prototype.slice.call(arguments, 2), // arguments beyond thisObj\n\t\t\t\t\t[ this ] // always make the last argument a reference to the view. TODO: deprecate\n\t\t\t\t)\n\t\t\t);\n\t\t},\n\t\n\t\n\t\t/* Dates\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Updates all internal dates to center around the given current date\n\t\tsetDate: function(date) {\n\t\t\tthis.setRange(this.computeRange(date));\n\t\t},\n\t\n\t\n\t\t// Updates all internal dates for displaying the given range.\n\t\t// Expects all values to be normalized (like what computeRange does).\n\t\tsetRange: function(range) {\n\t\t\t$.extend(this, range);\n\t\t\tthis.updateTitle();\n\t\t},\n\t\n\t\n\t\t// Given a single current date, produce information about what range to display.\n\t\t// Subclasses can override. Must return all properties.\n\t\tcomputeRange: function(date) {\n\t\t\tvar intervalUnit = computeIntervalUnit(this.intervalDuration);\n\t\t\tvar intervalStart = date.clone().startOf(intervalUnit);\n\t\t\tvar intervalEnd = intervalStart.clone().add(this.intervalDuration);\n\t\t\tvar start, end;\n\t\n\t\t\t// normalize the range's time-ambiguity\n\t\t\tif (/year|month|week|day/.test(intervalUnit)) { // whole-days?\n\t\t\t\tintervalStart.stripTime();\n\t\t\t\tintervalEnd.stripTime();\n\t\t\t}\n\t\t\telse { // needs to have a time?\n\t\t\t\tif (!intervalStart.hasTime()) {\n\t\t\t\t\tintervalStart = this.calendar.rezoneDate(intervalStart); // convert to current timezone, with 00:00\n\t\t\t\t}\n\t\t\t\tif (!intervalEnd.hasTime()) {\n\t\t\t\t\tintervalEnd = this.calendar.rezoneDate(intervalEnd); // convert to current timezone, with 00:00\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tstart = intervalStart.clone();\n\t\t\tstart = this.skipHiddenDays(start);\n\t\t\tend = intervalEnd.clone();\n\t\t\tend = this.skipHiddenDays(end, -1, true); // exclusively move backwards\n\t\n\t\t\treturn {\n\t\t\t\tintervalUnit: intervalUnit,\n\t\t\t\tintervalStart: intervalStart,\n\t\t\t\tintervalEnd: intervalEnd,\n\t\t\t\tstart: start,\n\t\t\t\tend: end\n\t\t\t};\n\t\t},\n\t\n\t\n\t\t// Computes the new date when the user hits the prev button, given the current date\n\t\tcomputePrevDate: function(date) {\n\t\t\treturn this.massageCurrentDate(\n\t\t\t\tdate.clone().startOf(this.intervalUnit).subtract(this.intervalDuration), -1\n\t\t\t);\n\t\t},\n\t\n\t\n\t\t// Computes the new date when the user hits the next button, given the current date\n\t\tcomputeNextDate: function(date) {\n\t\t\treturn this.massageCurrentDate(\n\t\t\t\tdate.clone().startOf(this.intervalUnit).add(this.intervalDuration)\n\t\t\t);\n\t\t},\n\t\n\t\n\t\t// Given an arbitrarily calculated current date of the calendar, returns a date that is ensured to be completely\n\t\t// visible. `direction` is optional and indicates which direction the current date was being\n\t\t// incremented or decremented (1 or -1).\n\t\tmassageCurrentDate: function(date, direction) {\n\t\t\tif (this.intervalDuration.as('days') <= 1) { // if the view displays a single day or smaller\n\t\t\t\tif (this.isHiddenDay(date)) {\n\t\t\t\t\tdate = this.skipHiddenDays(date, direction);\n\t\t\t\t\tdate.startOf('day');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn date;\n\t\t},\n\t\n\t\n\t\t/* Title and Date Formatting\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Sets the view's title property to the most updated computed value\n\t\tupdateTitle: function() {\n\t\t\tthis.title = this.computeTitle();\n\t\t},\n\t\n\t\n\t\t// Computes what the title at the top of the calendar should be for this view\n\t\tcomputeTitle: function() {\n\t\t\treturn this.formatRange(\n\t\t\t\t{ start: this.intervalStart, end: this.intervalEnd },\n\t\t\t\tthis.opt('titleFormat') || this.computeTitleFormat(),\n\t\t\t\tthis.opt('titleRangeSeparator')\n\t\t\t);\n\t\t},\n\t\n\t\n\t\t// Generates the format string that should be used to generate the title for the current date range.\n\t\t// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\n\t\tcomputeTitleFormat: function() {\n\t\t\tif (this.intervalUnit == 'year') {\n\t\t\t\treturn 'YYYY';\n\t\t\t}\n\t\t\telse if (this.intervalUnit == 'month') {\n\t\t\t\treturn this.opt('monthYearFormat'); // like \"September 2014\"\n\t\t\t}\n\t\t\telse if (this.intervalDuration.as('days') > 1) {\n\t\t\t\treturn 'll'; // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn 'LL'; // one day. longer, like \"September 9 2014\"\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Utility for formatting a range. Accepts a range object, formatting string, and optional separator.\n\t\t// Displays all-day ranges naturally, with an inclusive end. Takes the current isRTL into account.\n\t\tformatRange: function(range, formatStr, separator) {\n\t\t\tvar end = range.end;\n\t\n\t\t\tif (!end.hasTime()) { // all-day?\n\t\t\t\tend = end.clone().subtract(1); // convert to inclusive. last ms of previous day\n\t\t\t}\n\t\n\t\t\treturn formatRange(range.start, end, formatStr, separator, this.opt('isRTL'));\n\t\t},\n\t\n\t\n\t\t/* Rendering\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Sets the container element that the view should render inside of.\n\t\t// Does other DOM-related initializations.\n\t\tsetElement: function(el) {\n\t\t\tthis.el = el;\n\t\t\tthis.bindGlobalHandlers();\n\t\t},\n\t\n\t\n\t\t// Removes the view's container element from the DOM, clearing any content beforehand.\n\t\t// Undoes any other DOM-related attachments.\n\t\tremoveElement: function() {\n\t\t\tthis.clear(); // clears all content\n\t\n\t\t\t// clean up the skeleton\n\t\t\tif (this.isSkeletonRendered) {\n\t\t\t\tthis.unrenderSkeleton();\n\t\t\t\tthis.isSkeletonRendered = false;\n\t\t\t}\n\t\n\t\t\tthis.unbindGlobalHandlers();\n\t\n\t\t\tthis.el.remove();\n\t\n\t\t\t// NOTE: don't null-out this.el in case the View was destroyed within an API callback.\n\t\t\t// We don't null-out the View's other jQuery element references upon destroy,\n\t\t\t//  so we shouldn't kill this.el either.\n\t\t},\n\t\n\t\n\t\t// Does everything necessary to display the view centered around the given date.\n\t\t// Does every type of rendering EXCEPT rendering events.\n\t\t// Is asychronous and returns a promise.\n\t\tdisplay: function(date) {\n\t\t\tvar _this = this;\n\t\t\tvar scrollState = null;\n\t\n\t\t\tif (this.displaying) {\n\t\t\t\tscrollState = this.queryScroll();\n\t\t\t}\n\t\n\t\t\treturn this.clear().then(function() { // clear the content first (async)\n\t\t\t\treturn (\n\t\t\t\t\t_this.displaying =\n\t\t\t\t\t\t$.when(_this.displayView(date)) // displayView might return a promise\n\t\t\t\t\t\t\t.then(function() {\n\t\t\t\t\t\t\t\t_this.forceScroll(_this.computeInitialScroll(scrollState));\n\t\t\t\t\t\t\t\t_this.triggerRender();\n\t\t\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\n\t\n\t\t// Does everything necessary to clear the content of the view.\n\t\t// Clears dates and events. Does not clear the skeleton.\n\t\t// Is asychronous and returns a promise.\n\t\tclear: function() {\n\t\t\tvar _this = this;\n\t\t\tvar displaying = this.displaying;\n\t\n\t\t\tif (displaying) { // previously displayed, or in the process of being displayed?\n\t\t\t\treturn displaying.then(function() { // wait for the display to finish\n\t\t\t\t\t_this.displaying = null;\n\t\t\t\t\t_this.clearEvents();\n\t\t\t\t\treturn _this.clearView(); // might return a promise. chain it\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn $.when(); // an immediately-resolved promise\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Displays the view's non-event content, such as date-related content or anything required by events.\n\t\t// Renders the view's non-content skeleton if necessary.\n\t\t// Can be asynchronous and return a promise.\n\t\tdisplayView: function(date) {\n\t\t\tif (!this.isSkeletonRendered) {\n\t\t\t\tthis.renderSkeleton();\n\t\t\t\tthis.isSkeletonRendered = true;\n\t\t\t}\n\t\t\tthis.setDate(date);\n\t\t\tif (this.render) {\n\t\t\t\tthis.render(); // TODO: deprecate\n\t\t\t}\n\t\t\tthis.renderDates();\n\t\t\tthis.updateSize();\n\t\t\tthis.renderBusinessHours(); // might need coordinates, so should go after updateSize()\n\t\t},\n\t\n\t\n\t\t// Unrenders the view content that was rendered in displayView.\n\t\t// Can be asynchronous and return a promise.\n\t\tclearView: function() {\n\t\t\tthis.unselect();\n\t\t\tthis.triggerUnrender();\n\t\t\tthis.unrenderBusinessHours();\n\t\t\tthis.unrenderDates();\n\t\t\tif (this.destroy) {\n\t\t\t\tthis.destroy(); // TODO: deprecate\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Renders the basic structure of the view before any content is rendered\n\t\trenderSkeleton: function() {\n\t\t\t// subclasses should implement\n\t\t},\n\t\n\t\n\t\t// Unrenders the basic structure of the view\n\t\tunrenderSkeleton: function() {\n\t\t\t// subclasses should implement\n\t\t},\n\t\n\t\n\t\t// Renders the view's date-related content (like cells that represent days/times).\n\t\t// Assumes setRange has already been called and the skeleton has already been rendered.\n\t\trenderDates: function() {\n\t\t\t// subclasses should implement\n\t\t},\n\t\n\t\n\t\t// Unrenders the view's date-related content\n\t\tunrenderDates: function() {\n\t\t\t// subclasses should override\n\t\t},\n\t\n\t\n\t\t// Renders business-hours onto the view. Assumes updateSize has already been called.\n\t\trenderBusinessHours: function() {\n\t\t\t// subclasses should implement\n\t\t},\n\t\n\t\n\t\t// Unrenders previously-rendered business-hours\n\t\tunrenderBusinessHours: function() {\n\t\t\t// subclasses should implement\n\t\t},\n\t\n\t\n\t\t// Signals that the view's content has been rendered\n\t\ttriggerRender: function() {\n\t\t\tthis.trigger('viewRender', this, this, this.el);\n\t\t},\n\t\n\t\n\t\t// Signals that the view's content is about to be unrendered\n\t\ttriggerUnrender: function() {\n\t\t\tthis.trigger('viewDestroy', this, this, this.el);\n\t\t},\n\t\n\t\n\t\t// Binds DOM handlers to elements that reside outside the view container, such as the document\n\t\tbindGlobalHandlers: function() {\n\t\t\t$(document).on('mousedown', this.documentMousedownProxy);\n\t\t},\n\t\n\t\n\t\t// Unbinds DOM handlers from elements that reside outside the view container\n\t\tunbindGlobalHandlers: function() {\n\t\t\t$(document).off('mousedown', this.documentMousedownProxy);\n\t\t},\n\t\n\t\n\t\t// Initializes internal variables related to theming\n\t\tinitThemingProps: function() {\n\t\t\tvar tm = this.opt('theme') ? 'ui' : 'fc';\n\t\n\t\t\tthis.widgetHeaderClass = tm + '-widget-header';\n\t\t\tthis.widgetContentClass = tm + '-widget-content';\n\t\t\tthis.highlightStateClass = tm + '-state-highlight';\n\t\t},\n\t\n\t\n\t\t/* Dimensions\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Refreshes anything dependant upon sizing of the container element of the grid\n\t\tupdateSize: function(isResize) {\n\t\t\tvar scrollState;\n\t\n\t\t\tif (isResize) {\n\t\t\t\tscrollState = this.queryScroll();\n\t\t\t}\n\t\n\t\t\tthis.updateHeight(isResize);\n\t\t\tthis.updateWidth(isResize);\n\t\n\t\t\tif (isResize) {\n\t\t\t\tthis.setScroll(scrollState);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Refreshes the horizontal dimensions of the calendar\n\t\tupdateWidth: function(isResize) {\n\t\t\t// subclasses should implement\n\t\t},\n\t\n\t\n\t\t// Refreshes the vertical dimensions of the calendar\n\t\tupdateHeight: function(isResize) {\n\t\t\tvar calendar = this.calendar; // we poll the calendar for height information\n\t\n\t\t\tthis.setHeight(\n\t\t\t\tcalendar.getSuggestedViewHeight(),\n\t\t\t\tcalendar.isHeightAuto()\n\t\t\t);\n\t\t},\n\t\n\t\n\t\t// Updates the vertical dimensions of the calendar to the specified height.\n\t\t// if `isAuto` is set to true, height becomes merely a suggestion and the view should use its \"natural\" height.\n\t\tsetHeight: function(height, isAuto) {\n\t\t\t// subclasses should implement\n\t\t},\n\t\n\t\n\t\t/* Scroller\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Given the total height of the view, return the number of pixels that should be used for the scroller.\n\t\t// Utility for subclasses.\n\t\tcomputeScrollerHeight: function(totalHeight) {\n\t\t\tvar scrollerEl = this.scrollerEl;\n\t\t\tvar both;\n\t\t\tvar otherHeight; // cumulative height of everything that is not the scrollerEl in the view (header+borders)\n\t\n\t\t\tboth = this.el.add(scrollerEl);\n\t\n\t\t\t// fuckin IE8/9/10/11 sometimes returns 0 for dimensions. this weird hack was the only thing that worked\n\t\t\tboth.css({\n\t\t\t\tposition: 'relative', // cause a reflow, which will force fresh dimension recalculation\n\t\t\t\tleft: -1 // ensure reflow in case the el was already relative. negative is less likely to cause new scroll\n\t\t\t});\n\t\t\totherHeight = this.el.outerHeight() - scrollerEl.height(); // grab the dimensions\n\t\t\tboth.css({ position: '', left: '' }); // undo hack\n\t\n\t\t\treturn totalHeight - otherHeight;\n\t\t},\n\t\n\t\n\t\t// Computes the initial pre-configured scroll state prior to allowing the user to change it.\n\t\t// Given the scroll state from the previous rendering. If first time rendering, given null.\n\t\tcomputeInitialScroll: function(previousScrollState) {\n\t\t\treturn 0;\n\t\t},\n\t\n\t\n\t\t// Retrieves the view's current natural scroll state. Can return an arbitrary format.\n\t\tqueryScroll: function() {\n\t\t\tif (this.scrollerEl) {\n\t\t\t\treturn this.scrollerEl.scrollTop(); // operates on scrollerEl by default\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Sets the view's scroll state. Will accept the same format computeInitialScroll and queryScroll produce.\n\t\tsetScroll: function(scrollState) {\n\t\t\tif (this.scrollerEl) {\n\t\t\t\treturn this.scrollerEl.scrollTop(scrollState); // operates on scrollerEl by default\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Sets the scroll state, making sure to overcome any predefined scroll value the browser has in mind\n\t\tforceScroll: function(scrollState) {\n\t\t\tvar _this = this;\n\t\n\t\t\tthis.setScroll(scrollState);\n\t\t\tsetTimeout(function() {\n\t\t\t\t_this.setScroll(scrollState);\n\t\t\t}, 0);\n\t\t},\n\t\n\t\n\t\t/* Event Elements / Segments\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Does everything necessary to display the given events onto the current view\n\t\tdisplayEvents: function(events) {\n\t\t\tvar scrollState = this.queryScroll();\n\t\n\t\t\tthis.clearEvents();\n\t\t\tthis.renderEvents(events);\n\t\t\tthis.isEventsRendered = true;\n\t\t\tthis.setScroll(scrollState);\n\t\t\tthis.triggerEventRender();\n\t\t},\n\t\n\t\n\t\t// Does everything necessary to clear the view's currently-rendered events\n\t\tclearEvents: function() {\n\t\t\tif (this.isEventsRendered) {\n\t\t\t\tthis.triggerEventUnrender();\n\t\t\t\tif (this.destroyEvents) {\n\t\t\t\t\tthis.destroyEvents(); // TODO: deprecate\n\t\t\t\t}\n\t\t\t\tthis.unrenderEvents();\n\t\t\t\tthis.isEventsRendered = false;\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Renders the events onto the view.\n\t\trenderEvents: function(events) {\n\t\t\t// subclasses should implement\n\t\t},\n\t\n\t\n\t\t// Removes event elements from the view.\n\t\tunrenderEvents: function() {\n\t\t\t// subclasses should implement\n\t\t},\n\t\n\t\n\t\t// Signals that all events have been rendered\n\t\ttriggerEventRender: function() {\n\t\t\tthis.renderedEventSegEach(function(seg) {\n\t\t\t\tthis.trigger('eventAfterRender', seg.event, seg.event, seg.el);\n\t\t\t});\n\t\t\tthis.trigger('eventAfterAllRender');\n\t\t},\n\t\n\t\n\t\t// Signals that all event elements are about to be removed\n\t\ttriggerEventUnrender: function() {\n\t\t\tthis.renderedEventSegEach(function(seg) {\n\t\t\t\tthis.trigger('eventDestroy', seg.event, seg.event, seg.el);\n\t\t\t});\n\t\t},\n\t\n\t\n\t\t// Given an event and the default element used for rendering, returns the element that should actually be used.\n\t\t// Basically runs events and elements through the eventRender hook.\n\t\tresolveEventEl: function(event, el) {\n\t\t\tvar custom = this.trigger('eventRender', event, event, el);\n\t\n\t\t\tif (custom === false) { // means don't render at all\n\t\t\t\tel = null;\n\t\t\t}\n\t\t\telse if (custom && custom !== true) {\n\t\t\t\tel = $(custom);\n\t\t\t}\n\t\n\t\t\treturn el;\n\t\t},\n\t\n\t\n\t\t// Hides all rendered event segments linked to the given event\n\t\tshowEvent: function(event) {\n\t\t\tthis.renderedEventSegEach(function(seg) {\n\t\t\t\tseg.el.css('visibility', '');\n\t\t\t}, event);\n\t\t},\n\t\n\t\n\t\t// Shows all rendered event segments linked to the given event\n\t\thideEvent: function(event) {\n\t\t\tthis.renderedEventSegEach(function(seg) {\n\t\t\t\tseg.el.css('visibility', 'hidden');\n\t\t\t}, event);\n\t\t},\n\t\n\t\n\t\t// Iterates through event segments that have been rendered (have an el). Goes through all by default.\n\t\t// If the optional `event` argument is specified, only iterates through segments linked to that event.\n\t\t// The `this` value of the callback function will be the view.\n\t\trenderedEventSegEach: function(func, event) {\n\t\t\tvar segs = this.getEventSegs();\n\t\t\tvar i;\n\t\n\t\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\t\tif (!event || segs[i].event._id === event._id) {\n\t\t\t\t\tif (segs[i].el) {\n\t\t\t\t\t\tfunc.call(this, segs[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Retrieves all the rendered segment objects for the view\n\t\tgetEventSegs: function() {\n\t\t\t// subclasses must implement\n\t\t\treturn [];\n\t\t},\n\t\n\t\n\t\t/* Event Drag-n-Drop\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Computes if the given event is allowed to be dragged by the user\n\t\tisEventDraggable: function(event) {\n\t\t\tvar source = event.source || {};\n\t\n\t\t\treturn firstDefined(\n\t\t\t\tevent.startEditable,\n\t\t\t\tsource.startEditable,\n\t\t\t\tthis.opt('eventStartEditable'),\n\t\t\t\tevent.editable,\n\t\t\t\tsource.editable,\n\t\t\t\tthis.opt('editable')\n\t\t\t);\n\t\t},\n\t\n\t\n\t\t// Must be called when an event in the view is dropped onto new location.\n\t\t// `dropLocation` is an object that contains the new start/end/allDay values for the event.\n\t\treportEventDrop: function(event, dropLocation, largeUnit, el, ev) {\n\t\t\tvar calendar = this.calendar;\n\t\t\tvar mutateResult = calendar.mutateEvent(event, dropLocation, largeUnit);\n\t\t\tvar undoFunc = function() {\n\t\t\t\tmutateResult.undo();\n\t\t\t\tcalendar.reportEventChange();\n\t\t\t};\n\t\n\t\t\tthis.triggerEventDrop(event, mutateResult.dateDelta, undoFunc, el, ev);\n\t\t\tcalendar.reportEventChange(); // will rerender events\n\t\t},\n\t\n\t\n\t\t// Triggers event-drop handlers that have subscribed via the API\n\t\ttriggerEventDrop: function(event, dateDelta, undoFunc, el, ev) {\n\t\t\tthis.trigger('eventDrop', el[0], event, dateDelta, undoFunc, ev, {}); // {} = jqui dummy\n\t\t},\n\t\n\t\n\t\t/* External Element Drag-n-Drop\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Must be called when an external element, via jQuery UI, has been dropped onto the calendar.\n\t\t// `meta` is the parsed data that has been embedded into the dragging event.\n\t\t// `dropLocation` is an object that contains the new start/end/allDay values for the event.\n\t\treportExternalDrop: function(meta, dropLocation, el, ev, ui) {\n\t\t\tvar eventProps = meta.eventProps;\n\t\t\tvar eventInput;\n\t\t\tvar event;\n\t\n\t\t\t// Try to build an event object and render it. TODO: decouple the two\n\t\t\tif (eventProps) {\n\t\t\t\teventInput = $.extend({}, eventProps, dropLocation);\n\t\t\t\tevent = this.calendar.renderEvent(eventInput, meta.stick)[0]; // renderEvent returns an array\n\t\t\t}\n\t\n\t\t\tthis.triggerExternalDrop(event, dropLocation, el, ev, ui);\n\t\t},\n\t\n\t\n\t\t// Triggers external-drop handlers that have subscribed via the API\n\t\ttriggerExternalDrop: function(event, dropLocation, el, ev, ui) {\n\t\n\t\t\t// trigger 'drop' regardless of whether element represents an event\n\t\t\tthis.trigger('drop', el[0], dropLocation.start, ev, ui);\n\t\n\t\t\tif (event) {\n\t\t\t\tthis.trigger('eventReceive', null, event); // signal an external event landed\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t/* Drag-n-Drop Rendering (for both events and external elements)\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders a visual indication of a event or external-element drag over the given drop zone.\n\t\t// If an external-element, seg will be `null`\n\t\trenderDrag: function(dropLocation, seg) {\n\t\t\t// subclasses must implement\n\t\t},\n\t\n\t\n\t\t// Unrenders a visual indication of an event or external-element being dragged.\n\t\tunrenderDrag: function() {\n\t\t\t// subclasses must implement\n\t\t},\n\t\n\t\n\t\t/* Event Resizing\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Computes if the given event is allowed to be resized from its starting edge\n\t\tisEventResizableFromStart: function(event) {\n\t\t\treturn this.opt('eventResizableFromStart') && this.isEventResizable(event);\n\t\t},\n\t\n\t\n\t\t// Computes if the given event is allowed to be resized from its ending edge\n\t\tisEventResizableFromEnd: function(event) {\n\t\t\treturn this.isEventResizable(event);\n\t\t},\n\t\n\t\n\t\t// Computes if the given event is allowed to be resized by the user at all\n\t\tisEventResizable: function(event) {\n\t\t\tvar source = event.source || {};\n\t\n\t\t\treturn firstDefined(\n\t\t\t\tevent.durationEditable,\n\t\t\t\tsource.durationEditable,\n\t\t\t\tthis.opt('eventDurationEditable'),\n\t\t\t\tevent.editable,\n\t\t\t\tsource.editable,\n\t\t\t\tthis.opt('editable')\n\t\t\t);\n\t\t},\n\t\n\t\n\t\t// Must be called when an event in the view has been resized to a new length\n\t\treportEventResize: function(event, resizeLocation, largeUnit, el, ev) {\n\t\t\tvar calendar = this.calendar;\n\t\t\tvar mutateResult = calendar.mutateEvent(event, resizeLocation, largeUnit);\n\t\t\tvar undoFunc = function() {\n\t\t\t\tmutateResult.undo();\n\t\t\t\tcalendar.reportEventChange();\n\t\t\t};\n\t\n\t\t\tthis.triggerEventResize(event, mutateResult.durationDelta, undoFunc, el, ev);\n\t\t\tcalendar.reportEventChange(); // will rerender events\n\t\t},\n\t\n\t\n\t\t// Triggers event-resize handlers that have subscribed via the API\n\t\ttriggerEventResize: function(event, durationDelta, undoFunc, el, ev) {\n\t\t\tthis.trigger('eventResize', el[0], event, durationDelta, undoFunc, ev, {}); // {} = jqui dummy\n\t\t},\n\t\n\t\n\t\t/* Selection\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Selects a date range on the view. `start` and `end` are both Moments.\n\t\t// `ev` is the native mouse event that begin the interaction.\n\t\tselect: function(range, ev) {\n\t\t\tthis.unselect(ev);\n\t\t\tthis.renderSelection(range);\n\t\t\tthis.reportSelection(range, ev);\n\t\t},\n\t\n\t\n\t\t// Renders a visual indication of the selection\n\t\trenderSelection: function(range) {\n\t\t\t// subclasses should implement\n\t\t},\n\t\n\t\n\t\t// Called when a new selection is made. Updates internal state and triggers handlers.\n\t\treportSelection: function(range, ev) {\n\t\t\tthis.isSelected = true;\n\t\t\tthis.triggerSelect(range, ev);\n\t\t},\n\t\n\t\n\t\t// Triggers handlers to 'select'\n\t\ttriggerSelect: function(range, ev) {\n\t\t\tthis.trigger('select', null, range.start, range.end, ev);\n\t\t},\n\t\n\t\n\t\t// Undoes a selection. updates in the internal state and triggers handlers.\n\t\t// `ev` is the native mouse event that began the interaction.\n\t\tunselect: function(ev) {\n\t\t\tif (this.isSelected) {\n\t\t\t\tthis.isSelected = false;\n\t\t\t\tif (this.destroySelection) {\n\t\t\t\t\tthis.destroySelection(); // TODO: deprecate\n\t\t\t\t}\n\t\t\t\tthis.unrenderSelection();\n\t\t\t\tthis.trigger('unselect', null, ev);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Unrenders a visual indication of selection\n\t\tunrenderSelection: function() {\n\t\t\t// subclasses should implement\n\t\t},\n\t\n\t\n\t\t// Handler for unselecting when the user clicks something and the 'unselectAuto' setting is on\n\t\tdocumentMousedown: function(ev) {\n\t\t\tvar ignore;\n\t\n\t\t\t// is there a selection, and has the user made a proper left click?\n\t\t\tif (this.isSelected && this.opt('unselectAuto') && isPrimaryMouseButton(ev)) {\n\t\n\t\t\t\t// only unselect if the clicked element is not identical to or inside of an 'unselectCancel' element\n\t\t\t\tignore = this.opt('unselectCancel');\n\t\t\t\tif (!ignore || !$(ev.target).closest(ignore).length) {\n\t\t\t\t\tthis.unselect(ev);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t/* Day Click\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Triggers handlers to 'dayClick'\n\t\ttriggerDayClick: function(cell, dayEl, ev) {\n\t\t\tthis.trigger('dayClick', dayEl, cell.start, ev);\n\t\t},\n\t\n\t\n\t\t/* Date Utils\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Initializes internal variables related to calculating hidden days-of-week\n\t\tinitHiddenDays: function() {\n\t\t\tvar hiddenDays = this.opt('hiddenDays') || []; // array of day-of-week indices that are hidden\n\t\t\tvar isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n\t\t\tvar dayCnt = 0;\n\t\t\tvar i;\n\t\n\t\t\tif (this.opt('weekends') === false) {\n\t\t\t\thiddenDays.push(0, 6); // 0=sunday, 6=saturday\n\t\t\t}\n\t\n\t\t\tfor (i = 0; i < 7; i++) {\n\t\t\t\tif (\n\t\t\t\t\t!(isHiddenDayHash[i] = $.inArray(i, hiddenDays) !== -1)\n\t\t\t\t) {\n\t\t\t\t\tdayCnt++;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (!dayCnt) {\n\t\t\t\tthrow 'invalid hiddenDays'; // all days were hidden? bad.\n\t\t\t}\n\t\n\t\t\tthis.isHiddenDayHash = isHiddenDayHash;\n\t\t},\n\t\n\t\n\t\t// Is the current day hidden?\n\t\t// `day` is a day-of-week index (0-6), or a Moment\n\t\tisHiddenDay: function(day) {\n\t\t\tif (moment.isMoment(day)) {\n\t\t\t\tday = day.day();\n\t\t\t}\n\t\t\treturn this.isHiddenDayHash[day];\n\t\t},\n\t\n\t\n\t\t// Incrementing the current day until it is no longer a hidden day, returning a copy.\n\t\t// If the initial value of `date` is not a hidden day, don't do anything.\n\t\t// Pass `isExclusive` as `true` if you are dealing with an end date.\n\t\t// `inc` defaults to `1` (increment one day forward each time)\n\t\tskipHiddenDays: function(date, inc, isExclusive) {\n\t\t\tvar out = date.clone();\n\t\t\tinc = inc || 1;\n\t\t\twhile (\n\t\t\t\tthis.isHiddenDayHash[(out.day() + (isExclusive ? inc : 0) + 7) % 7]\n\t\t\t) {\n\t\t\t\tout.add(inc, 'days');\n\t\t\t}\n\t\t\treturn out;\n\t\t},\n\t\n\t\n\t\t// Returns the date range of the full days the given range visually appears to occupy.\n\t\t// Returns a new range object.\n\t\tcomputeDayRange: function(range) {\n\t\t\tvar startDay = range.start.clone().stripTime(); // the beginning of the day the range starts\n\t\t\tvar end = range.end;\n\t\t\tvar endDay = null;\n\t\t\tvar endTimeMS;\n\t\n\t\t\tif (end) {\n\t\t\t\tendDay = end.clone().stripTime(); // the beginning of the day the range exclusively ends\n\t\t\t\tendTimeMS = +end.time(); // # of milliseconds into `endDay`\n\t\n\t\t\t\t// If the end time is actually inclusively part of the next day and is equal to or\n\t\t\t\t// beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n\t\t\t\t// Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n\t\t\t\tif (endTimeMS && endTimeMS >= this.nextDayThreshold) {\n\t\t\t\t\tendDay.add(1, 'days');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// If no end was specified, or if it is within `startDay` but not past nextDayThreshold,\n\t\t\t// assign the default duration of one day.\n\t\t\tif (!end || endDay <= startDay) {\n\t\t\t\tendDay = startDay.clone().add(1, 'days');\n\t\t\t}\n\t\n\t\t\treturn { start: startDay, end: endDay };\n\t\t},\n\t\n\t\n\t\t// Does the given event visually appear to occupy more than one day?\n\t\tisMultiDayEvent: function(event) {\n\t\t\tvar range = this.computeDayRange(event); // event is range-ish\n\t\n\t\t\treturn range.end.diff(range.start, 'days') > 1;\n\t\t}\n\t\n\t});\n\t\n\t;;\n\t\n\tvar Calendar = fc.Calendar = Class.extend({\n\t\n\t\tdirDefaults: null, // option defaults related to LTR or RTL\n\t\tlangDefaults: null, // option defaults related to current locale\n\t\toverrides: null, // option overrides given to the fullCalendar constructor\n\t\toptions: null, // all defaults combined with overrides\n\t\tviewSpecCache: null, // cache of view definitions\n\t\tview: null, // current View object\n\t\theader: null,\n\t\tloadingLevel: 0, // number of simultaneous loading tasks\n\t\n\t\n\t\t// a lot of this class' OOP logic is scoped within this constructor function,\n\t\t// but in the future, write individual methods on the prototype.\n\t\tconstructor: Calendar_constructor,\n\t\n\t\n\t\t// Subclasses can override this for initialization logic after the constructor has been called\n\t\tinitialize: function() {\n\t\t},\n\t\n\t\n\t\t// Initializes `this.options` and other important options-related objects\n\t\tinitOptions: function(overrides) {\n\t\t\tvar lang, langDefaults;\n\t\t\tvar isRTL, dirDefaults;\n\t\n\t\t\t// converts legacy options into non-legacy ones.\n\t\t\t// in the future, when this is removed, don't use `overrides` reference. make a copy.\n\t\t\toverrides = massageOverrides(overrides);\n\t\n\t\t\tlang = overrides.lang;\n\t\t\tlangDefaults = langOptionHash[lang];\n\t\t\tif (!langDefaults) {\n\t\t\t\tlang = Calendar.defaults.lang;\n\t\t\t\tlangDefaults = langOptionHash[lang] || {};\n\t\t\t}\n\t\n\t\t\tisRTL = firstDefined(\n\t\t\t\toverrides.isRTL,\n\t\t\t\tlangDefaults.isRTL,\n\t\t\t\tCalendar.defaults.isRTL\n\t\t\t);\n\t\t\tdirDefaults = isRTL ? Calendar.rtlDefaults : {};\n\t\n\t\t\tthis.dirDefaults = dirDefaults;\n\t\t\tthis.langDefaults = langDefaults;\n\t\t\tthis.overrides = overrides;\n\t\t\tthis.options = mergeOptions([ // merge defaults and overrides. lowest to highest precedence\n\t\t\t\tCalendar.defaults, // global defaults\n\t\t\t\tdirDefaults,\n\t\t\t\tlangDefaults,\n\t\t\t\toverrides\n\t\t\t]);\n\t\t\tpopulateInstanceComputableOptions(this.options);\n\t\n\t\t\tthis.viewSpecCache = {}; // somewhat unrelated\n\t\t},\n\t\n\t\n\t\t// Gets information about how to create a view. Will use a cache.\n\t\tgetViewSpec: function(viewType) {\n\t\t\tvar cache = this.viewSpecCache;\n\t\n\t\t\treturn cache[viewType] || (cache[viewType] = this.buildViewSpec(viewType));\n\t\t},\n\t\n\t\n\t\t// Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n\t\t// Preference is given to views that have corresponding buttons.\n\t\tgetUnitViewSpec: function(unit) {\n\t\t\tvar viewTypes;\n\t\t\tvar i;\n\t\t\tvar spec;\n\t\n\t\t\tif ($.inArray(unit, intervalUnits) != -1) {\n\t\n\t\t\t\t// put views that have buttons first. there will be duplicates, but oh well\n\t\t\t\tviewTypes = this.header.getViewsWithButtons();\n\t\t\t\t$.each(fc.views, function(viewType) { // all views\n\t\t\t\t\tviewTypes.push(viewType);\n\t\t\t\t});\n\t\n\t\t\t\tfor (i = 0; i < viewTypes.length; i++) {\n\t\t\t\t\tspec = this.getViewSpec(viewTypes[i]);\n\t\t\t\t\tif (spec) {\n\t\t\t\t\t\tif (spec.singleUnit == unit) {\n\t\t\t\t\t\t\treturn spec;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Builds an object with information on how to create a given view\n\t\tbuildViewSpec: function(requestedViewType) {\n\t\t\tvar viewOverrides = this.overrides.views || {};\n\t\t\tvar specChain = []; // for the view. lowest to highest priority\n\t\t\tvar defaultsChain = []; // for the view. lowest to highest priority\n\t\t\tvar overridesChain = []; // for the view. lowest to highest priority\n\t\t\tvar viewType = requestedViewType;\n\t\t\tvar spec; // for the view\n\t\t\tvar overrides; // for the view\n\t\t\tvar duration;\n\t\t\tvar unit;\n\t\n\t\t\t// iterate from the specific view definition to a more general one until we hit an actual View class\n\t\t\twhile (viewType) {\n\t\t\t\tspec = fcViews[viewType];\n\t\t\t\toverrides = viewOverrides[viewType];\n\t\t\t\tviewType = null; // clear. might repopulate for another iteration\n\t\n\t\t\t\tif (typeof spec === 'function') { // TODO: deprecate\n\t\t\t\t\tspec = { 'class': spec };\n\t\t\t\t}\n\t\n\t\t\t\tif (spec) {\n\t\t\t\t\tspecChain.unshift(spec);\n\t\t\t\t\tdefaultsChain.unshift(spec.defaults || {});\n\t\t\t\t\tduration = duration || spec.duration;\n\t\t\t\t\tviewType = viewType || spec.type;\n\t\t\t\t}\n\t\n\t\t\t\tif (overrides) {\n\t\t\t\t\toverridesChain.unshift(overrides); // view-specific option hashes have options at zero-level\n\t\t\t\t\tduration = duration || overrides.duration;\n\t\t\t\t\tviewType = viewType || overrides.type;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tspec = mergeProps(specChain);\n\t\t\tspec.type = requestedViewType;\n\t\t\tif (!spec['class']) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tif (duration) {\n\t\t\t\tduration = moment.duration(duration);\n\t\t\t\tif (duration.valueOf()) { // valid?\n\t\t\t\t\tspec.duration = duration;\n\t\t\t\t\tunit = computeIntervalUnit(duration);\n\t\n\t\t\t\t\t// view is a single-unit duration, like \"week\" or \"day\"\n\t\t\t\t\t// incorporate options for this. lowest priority\n\t\t\t\t\tif (duration.as(unit) === 1) {\n\t\t\t\t\t\tspec.singleUnit = unit;\n\t\t\t\t\t\toverridesChain.unshift(viewOverrides[unit] || {});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tspec.defaults = mergeOptions(defaultsChain);\n\t\t\tspec.overrides = mergeOptions(overridesChain);\n\t\n\t\t\tthis.buildViewSpecOptions(spec);\n\t\t\tthis.buildViewSpecButtonText(spec, requestedViewType);\n\t\n\t\t\treturn spec;\n\t\t},\n\t\n\t\n\t\t// Builds and assigns a view spec's options object from its already-assigned defaults and overrides\n\t\tbuildViewSpecOptions: function(spec) {\n\t\t\tspec.options = mergeOptions([ // lowest to highest priority\n\t\t\t\tCalendar.defaults, // global defaults\n\t\t\t\tspec.defaults, // view's defaults (from ViewSubclass.defaults)\n\t\t\t\tthis.dirDefaults,\n\t\t\t\tthis.langDefaults, // locale and dir take precedence over view's defaults!\n\t\t\t\tthis.overrides, // calendar's overrides (options given to constructor)\n\t\t\t\tspec.overrides // view's overrides (view-specific options)\n\t\t\t]);\n\t\t\tpopulateInstanceComputableOptions(spec.options);\n\t\t},\n\t\n\t\n\t\t// Computes and assigns a view spec's buttonText-related options\n\t\tbuildViewSpecButtonText: function(spec, requestedViewType) {\n\t\n\t\t\t// given an options object with a possible `buttonText` hash, lookup the buttonText for the\n\t\t\t// requested view, falling back to a generic unit entry like \"week\" or \"day\"\n\t\t\tfunction queryButtonText(options) {\n\t\t\t\tvar buttonText = options.buttonText || {};\n\t\t\t\treturn buttonText[requestedViewType] ||\n\t\t\t\t\t(spec.singleUnit ? buttonText[spec.singleUnit] : null);\n\t\t\t}\n\t\n\t\t\t// highest to lowest priority\n\t\t\tspec.buttonTextOverride =\n\t\t\t\tqueryButtonText(this.overrides) || // constructor-specified buttonText lookup hash takes precedence\n\t\t\t\tspec.overrides.buttonText; // `buttonText` for view-specific options is a string\n\t\n\t\t\t// highest to lowest priority. mirrors buildViewSpecOptions\n\t\t\tspec.buttonTextDefault =\n\t\t\t\tqueryButtonText(this.langDefaults) ||\n\t\t\t\tqueryButtonText(this.dirDefaults) ||\n\t\t\t\tspec.defaults.buttonText || // a single string. from ViewSubclass.defaults\n\t\t\t\tqueryButtonText(Calendar.defaults) ||\n\t\t\t\t(spec.duration ? this.humanizeDuration(spec.duration) : null) || // like \"3 days\"\n\t\t\t\trequestedViewType; // fall back to given view name\n\t\t},\n\t\n\t\n\t\t// Given a view name for a custom view or a standard view, creates a ready-to-go View object\n\t\tinstantiateView: function(viewType) {\n\t\t\tvar spec = this.getViewSpec(viewType);\n\t\n\t\t\treturn new spec['class'](this, viewType, spec.options, spec.duration);\n\t\t},\n\t\n\t\n\t\t// Returns a boolean about whether the view is okay to instantiate at some point\n\t\tisValidViewType: function(viewType) {\n\t\t\treturn Boolean(this.getViewSpec(viewType));\n\t\t},\n\t\n\t\n\t\t// Should be called when any type of async data fetching begins\n\t\tpushLoading: function() {\n\t\t\tif (!(this.loadingLevel++)) {\n\t\t\t\tthis.trigger('loading', null, true, this.view);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Should be called when any type of async data fetching completes\n\t\tpopLoading: function() {\n\t\t\tif (!(--this.loadingLevel)) {\n\t\t\t\tthis.trigger('loading', null, false, this.view);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Given arguments to the select method in the API, returns a range\n\t\tbuildSelectRange: function(start, end) {\n\t\n\t\t\tstart = this.moment(start);\n\t\t\tif (end) {\n\t\t\t\tend = this.moment(end);\n\t\t\t}\n\t\t\telse if (start.hasTime()) {\n\t\t\t\tend = start.clone().add(this.defaultTimedEventDuration);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tend = start.clone().add(this.defaultAllDayEventDuration);\n\t\t\t}\n\t\n\t\t\treturn { start: start, end: end };\n\t\t}\n\t\n\t});\n\t\n\t\n\tCalendar.mixin(Emitter);\n\t\n\t\n\tfunction Calendar_constructor(element, overrides) {\n\t\tvar t = this;\n\t\n\t\n\t\tt.initOptions(overrides || {});\n\t\tvar options = this.options;\n\t\n\t\t\n\t\t// Exports\n\t\t// -----------------------------------------------------------------------------------\n\t\n\t\tt.render = render;\n\t\tt.destroy = destroy;\n\t\tt.refetchEvents = refetchEvents;\n\t\tt.reportEvents = reportEvents;\n\t\tt.reportEventChange = reportEventChange;\n\t\tt.rerenderEvents = renderEvents; // `renderEvents` serves as a rerender. an API method\n\t\tt.changeView = renderView; // `renderView` will switch to another view\n\t\tt.select = select;\n\t\tt.unselect = unselect;\n\t\tt.prev = prev;\n\t\tt.next = next;\n\t\tt.prevYear = prevYear;\n\t\tt.nextYear = nextYear;\n\t\tt.today = today;\n\t\tt.gotoDate = gotoDate;\n\t\tt.incrementDate = incrementDate;\n\t\tt.zoomTo = zoomTo;\n\t\tt.getDate = getDate;\n\t\tt.getCalendar = getCalendar;\n\t\tt.getView = getView;\n\t\tt.option = option;\n\t\tt.trigger = trigger;\n\t\n\t\n\t\n\t\t// Language-data Internals\n\t\t// -----------------------------------------------------------------------------------\n\t\t// Apply overrides to the current language's data\n\t\n\t\n\t\tvar localeData = createObject( // make a cheap copy\n\t\t\tgetMomentLocaleData(options.lang) // will fall back to en\n\t\t);\n\t\n\t\tif (options.monthNames) {\n\t\t\tlocaleData._months = options.monthNames;\n\t\t}\n\t\tif (options.monthNamesShort) {\n\t\t\tlocaleData._monthsShort = options.monthNamesShort;\n\t\t}\n\t\tif (options.dayNames) {\n\t\t\tlocaleData._weekdays = options.dayNames;\n\t\t}\n\t\tif (options.dayNamesShort) {\n\t\t\tlocaleData._weekdaysShort = options.dayNamesShort;\n\t\t}\n\t\tif (options.firstDay != null) {\n\t\t\tvar _week = createObject(localeData._week); // _week: { dow: # }\n\t\t\t_week.dow = options.firstDay;\n\t\t\tlocaleData._week = _week;\n\t\t}\n\t\n\t\t// assign a normalized value, to be used by our .week() moment extension\n\t\tlocaleData._fullCalendar_weekCalc = (function(weekCalc) {\n\t\t\tif (typeof weekCalc === 'function') {\n\t\t\t\treturn weekCalc;\n\t\t\t}\n\t\t\telse if (weekCalc === 'local') {\n\t\t\t\treturn weekCalc;\n\t\t\t}\n\t\t\telse if (weekCalc === 'iso' || weekCalc === 'ISO') {\n\t\t\t\treturn 'ISO';\n\t\t\t}\n\t\t})(options.weekNumberCalculation);\n\t\n\t\n\t\n\t\t// Calendar-specific Date Utilities\n\t\t// -----------------------------------------------------------------------------------\n\t\n\t\n\t\tt.defaultAllDayEventDuration = moment.duration(options.defaultAllDayEventDuration);\n\t\tt.defaultTimedEventDuration = moment.duration(options.defaultTimedEventDuration);\n\t\n\t\n\t\t// Builds a moment using the settings of the current calendar: timezone and language.\n\t\t// Accepts anything the vanilla moment() constructor accepts.\n\t\tt.moment = function() {\n\t\t\tvar mom;\n\t\n\t\t\tif (options.timezone === 'local') {\n\t\t\t\tmom = fc.moment.apply(null, arguments);\n\t\n\t\t\t\t// Force the moment to be local, because fc.moment doesn't guarantee it.\n\t\t\t\tif (mom.hasTime()) { // don't give ambiguously-timed moments a local zone\n\t\t\t\t\tmom.local();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (options.timezone === 'UTC') {\n\t\t\t\tmom = fc.moment.utc.apply(null, arguments); // process as UTC\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmom = fc.moment.parseZone.apply(null, arguments); // let the input decide the zone\n\t\t\t}\n\t\n\t\t\tif ('_locale' in mom) { // moment 2.8 and above\n\t\t\t\tmom._locale = localeData;\n\t\t\t}\n\t\t\telse { // pre-moment-2.8\n\t\t\t\tmom._lang = localeData;\n\t\t\t}\n\t\n\t\t\treturn mom;\n\t\t};\n\t\n\t\n\t\t// Returns a boolean about whether or not the calendar knows how to calculate\n\t\t// the timezone offset of arbitrary dates in the current timezone.\n\t\tt.getIsAmbigTimezone = function() {\n\t\t\treturn options.timezone !== 'local' && options.timezone !== 'UTC';\n\t\t};\n\t\n\t\n\t\t// Returns a copy of the given date in the current timezone of it is ambiguously zoned.\n\t\t// This will also give the date an unambiguous time.\n\t\tt.rezoneDate = function(date) {\n\t\t\treturn t.moment(date.toArray());\n\t\t};\n\t\n\t\n\t\t// Returns a moment for the current date, as defined by the client's computer,\n\t\t// or overridden by the `now` option.\n\t\tt.getNow = function() {\n\t\t\tvar now = options.now;\n\t\t\tif (typeof now === 'function') {\n\t\t\t\tnow = now();\n\t\t\t}\n\t\t\treturn t.moment(now);\n\t\t};\n\t\n\t\n\t\t// Get an event's normalized end date. If not present, calculate it from the defaults.\n\t\tt.getEventEnd = function(event) {\n\t\t\tif (event.end) {\n\t\t\t\treturn event.end.clone();\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn t.getDefaultEventEnd(event.allDay, event.start);\n\t\t\t}\n\t\t};\n\t\n\t\n\t\t// Given an event's allDay status and start date, return swhat its fallback end date should be.\n\t\tt.getDefaultEventEnd = function(allDay, start) { // TODO: rename to computeDefaultEventEnd\n\t\t\tvar end = start.clone();\n\t\n\t\t\tif (allDay) {\n\t\t\t\tend.stripTime().add(t.defaultAllDayEventDuration);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tend.add(t.defaultTimedEventDuration);\n\t\t\t}\n\t\n\t\t\tif (t.getIsAmbigTimezone()) {\n\t\t\t\tend.stripZone(); // we don't know what the tzo should be\n\t\t\t}\n\t\n\t\t\treturn end;\n\t\t};\n\t\n\t\n\t\t// Produces a human-readable string for the given duration.\n\t\t// Side-effect: changes the locale of the given duration.\n\t\tt.humanizeDuration = function(duration) {\n\t\t\treturn (duration.locale || duration.lang).call(duration, options.lang) // works moment-pre-2.8\n\t\t\t\t.humanize();\n\t\t};\n\t\n\t\n\t\t\n\t\t// Imports\n\t\t// -----------------------------------------------------------------------------------\n\t\n\t\n\t\tEventManager.call(t, options);\n\t\tvar isFetchNeeded = t.isFetchNeeded;\n\t\tvar fetchEvents = t.fetchEvents;\n\t\n\t\n\t\n\t\t// Locals\n\t\t// -----------------------------------------------------------------------------------\n\t\n\t\n\t\tvar _element = element[0];\n\t\tvar header;\n\t\tvar headerElement;\n\t\tvar content;\n\t\tvar tm; // for making theme classes\n\t\tvar currentView; // NOTE: keep this in sync with this.view\n\t\tvar viewsByType = {}; // holds all instantiated view instances, current or not\n\t\tvar suggestedViewHeight;\n\t\tvar windowResizeProxy; // wraps the windowResize function\n\t\tvar ignoreWindowResize = 0;\n\t\tvar date;\n\t\tvar events = [];\n\t\t\n\t\t\n\t\t\n\t\t// Main Rendering\n\t\t// -----------------------------------------------------------------------------------\n\t\n\t\n\t\tif (options.defaultDate != null) {\n\t\t\tdate = t.moment(options.defaultDate);\n\t\t}\n\t\telse {\n\t\t\tdate = t.getNow();\n\t\t}\n\t\t\n\t\t\n\t\tfunction render() {\n\t\t\tif (!content) {\n\t\t\t\tinitialRender();\n\t\t\t}\n\t\t\telse if (elementVisible()) {\n\t\t\t\t// mainly for the public API\n\t\t\t\tcalcSize();\n\t\t\t\trenderView();\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tfunction initialRender() {\n\t\t\ttm = options.theme ? 'ui' : 'fc';\n\t\t\telement.addClass('fc');\n\t\n\t\t\tif (options.isRTL) {\n\t\t\t\telement.addClass('fc-rtl');\n\t\t\t}\n\t\t\telse {\n\t\t\t\telement.addClass('fc-ltr');\n\t\t\t}\n\t\n\t\t\tif (options.theme) {\n\t\t\t\telement.addClass('ui-widget');\n\t\t\t}\n\t\t\telse {\n\t\t\t\telement.addClass('fc-unthemed');\n\t\t\t}\n\t\n\t\t\tcontent = $(\"<div class='fc-view-container'/>\").prependTo(element);\n\t\n\t\t\theader = t.header = new Header(t, options);\n\t\t\theaderElement = header.render();\n\t\t\tif (headerElement) {\n\t\t\t\telement.prepend(headerElement);\n\t\t\t}\n\t\n\t\t\trenderView(options.defaultView);\n\t\n\t\t\tif (options.handleWindowResize) {\n\t\t\t\twindowResizeProxy = debounce(windowResize, options.windowResizeDelay); // prevents rapid calls\n\t\t\t\t$(window).resize(windowResizeProxy);\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tfunction destroy() {\n\t\n\t\t\tif (currentView) {\n\t\t\t\tcurrentView.removeElement();\n\t\n\t\t\t\t// NOTE: don't null-out currentView/t.view in case API methods are called after destroy.\n\t\t\t\t// It is still the \"current\" view, just not rendered.\n\t\t\t}\n\t\n\t\t\theader.removeElement();\n\t\t\tcontent.remove();\n\t\t\telement.removeClass('fc fc-ltr fc-rtl fc-unthemed ui-widget');\n\t\n\t\t\tif (windowResizeProxy) {\n\t\t\t\t$(window).unbind('resize', windowResizeProxy);\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tfunction elementVisible() {\n\t\t\treturn element.is(':visible');\n\t\t}\n\t\t\n\t\t\n\t\n\t\t// View Rendering\n\t\t// -----------------------------------------------------------------------------------\n\t\n\t\n\t\t// Renders a view because of a date change, view-type change, or for the first time.\n\t\t// If not given a viewType, keep the current view but render different dates.\n\t\tfunction renderView(viewType) {\n\t\t\tignoreWindowResize++;\n\t\n\t\t\t// if viewType is changing, remove the old view's rendering\n\t\t\tif (currentView && viewType && currentView.type !== viewType) {\n\t\t\t\theader.deactivateButton(currentView.type);\n\t\t\t\tfreezeContentHeight(); // prevent a scroll jump when view element is removed\n\t\t\t\tcurrentView.removeElement();\n\t\t\t\tcurrentView = t.view = null;\n\t\t\t}\n\t\n\t\t\t// if viewType changed, or the view was never created, create a fresh view\n\t\t\tif (!currentView && viewType) {\n\t\t\t\tcurrentView = t.view =\n\t\t\t\t\tviewsByType[viewType] ||\n\t\t\t\t\t(viewsByType[viewType] = t.instantiateView(viewType));\n\t\n\t\t\t\tcurrentView.setElement(\n\t\t\t\t\t$(\"<div class='fc-view fc-\" + viewType + \"-view' />\").appendTo(content)\n\t\t\t\t);\n\t\t\t\theader.activateButton(viewType);\n\t\t\t}\n\t\n\t\t\tif (currentView) {\n\t\n\t\t\t\t// in case the view should render a period of time that is completely hidden\n\t\t\t\tdate = currentView.massageCurrentDate(date);\n\t\n\t\t\t\t// render or rerender the view\n\t\t\t\tif (\n\t\t\t\t\t!currentView.displaying ||\n\t\t\t\t\t!date.isWithin(currentView.intervalStart, currentView.intervalEnd) // implicit date window change\n\t\t\t\t) {\n\t\t\t\t\tif (elementVisible()) {\n\t\n\t\t\t\t\t\tfreezeContentHeight();\n\t\t\t\t\t\tcurrentView.display(date);\n\t\t\t\t\t\tunfreezeContentHeight(); // immediately unfreeze regardless of whether display is async\n\t\n\t\t\t\t\t\t// need to do this after View::render, so dates are calculated\n\t\t\t\t\t\tupdateHeaderTitle();\n\t\t\t\t\t\tupdateTodayButton();\n\t\n\t\t\t\t\t\tgetAndRenderEvents();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tunfreezeContentHeight(); // undo any lone freezeContentHeight calls\n\t\t\tignoreWindowResize--;\n\t\t}\n\t\n\t\t\n\t\n\t\t// Resizing\n\t\t// -----------------------------------------------------------------------------------\n\t\n\t\n\t\tt.getSuggestedViewHeight = function() {\n\t\t\tif (suggestedViewHeight === undefined) {\n\t\t\t\tcalcSize();\n\t\t\t}\n\t\t\treturn suggestedViewHeight;\n\t\t};\n\t\n\t\n\t\tt.isHeightAuto = function() {\n\t\t\treturn options.contentHeight === 'auto' || options.height === 'auto';\n\t\t};\n\t\t\n\t\t\n\t\tfunction updateSize(shouldRecalc) {\n\t\t\tif (elementVisible()) {\n\t\n\t\t\t\tif (shouldRecalc) {\n\t\t\t\t\t_calcSize();\n\t\t\t\t}\n\t\n\t\t\t\tignoreWindowResize++;\n\t\t\t\tcurrentView.updateSize(true); // isResize=true. will poll getSuggestedViewHeight() and isHeightAuto()\n\t\t\t\tignoreWindowResize--;\n\t\n\t\t\t\treturn true; // signal success\n\t\t\t}\n\t\t}\n\t\n\t\n\t\tfunction calcSize() {\n\t\t\tif (elementVisible()) {\n\t\t\t\t_calcSize();\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tfunction _calcSize() { // assumes elementVisible\n\t\t\tif (typeof options.contentHeight === 'number') { // exists and not 'auto'\n\t\t\t\tsuggestedViewHeight = options.contentHeight;\n\t\t\t}\n\t\t\telse if (typeof options.height === 'number') { // exists and not 'auto'\n\t\t\t\tsuggestedViewHeight = options.height - (headerElement ? headerElement.outerHeight(true) : 0);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsuggestedViewHeight = Math.round(content.width() / Math.max(options.aspectRatio, .5));\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tfunction windowResize(ev) {\n\t\t\tif (\n\t\t\t\t!ignoreWindowResize &&\n\t\t\t\tev.target === window && // so we don't process jqui \"resize\" events that have bubbled up\n\t\t\t\tcurrentView.start // view has already been rendered\n\t\t\t) {\n\t\t\t\tif (updateSize(true)) {\n\t\t\t\t\tcurrentView.trigger('windowResize', _element);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/* Event Fetching/Rendering\n\t\t-----------------------------------------------------------------------------*/\n\t\t// TODO: going forward, most of this stuff should be directly handled by the view\n\t\n\t\n\t\tfunction refetchEvents() { // can be called as an API method\n\t\t\tdestroyEvents(); // so that events are cleared before user starts waiting for AJAX\n\t\t\tfetchAndRenderEvents();\n\t\t}\n\t\n\t\n\t\tfunction renderEvents() { // destroys old events if previously rendered\n\t\t\tif (elementVisible()) {\n\t\t\t\tfreezeContentHeight();\n\t\t\t\tcurrentView.displayEvents(events);\n\t\t\t\tunfreezeContentHeight();\n\t\t\t}\n\t\t}\n\t\n\t\n\t\tfunction destroyEvents() {\n\t\t\tfreezeContentHeight();\n\t\t\tcurrentView.clearEvents();\n\t\t\tunfreezeContentHeight();\n\t\t}\n\t\t\n\t\n\t\tfunction getAndRenderEvents() {\n\t\t\tif (!options.lazyFetching || isFetchNeeded(currentView.start, currentView.end)) {\n\t\t\t\tfetchAndRenderEvents();\n\t\t\t}\n\t\t\telse {\n\t\t\t\trenderEvents();\n\t\t\t}\n\t\t}\n\t\n\t\n\t\tfunction fetchAndRenderEvents() {\n\t\t\tfetchEvents(currentView.start, currentView.end);\n\t\t\t\t// ... will call reportEvents\n\t\t\t\t// ... which will call renderEvents\n\t\t}\n\t\n\t\t\n\t\t// called when event data arrives\n\t\tfunction reportEvents(_events) {\n\t\t\tevents = _events;\n\t\t\trenderEvents();\n\t\t}\n\t\n\t\n\t\t// called when a single event's data has been changed\n\t\tfunction reportEventChange() {\n\t\t\trenderEvents();\n\t\t}\n\t\n\t\n\t\n\t\t/* Header Updating\n\t\t-----------------------------------------------------------------------------*/\n\t\n\t\n\t\tfunction updateHeaderTitle() {\n\t\t\theader.updateTitle(currentView.title);\n\t\t}\n\t\n\t\n\t\tfunction updateTodayButton() {\n\t\t\tvar now = t.getNow();\n\t\t\tif (now.isWithin(currentView.intervalStart, currentView.intervalEnd)) {\n\t\t\t\theader.disableButton('today');\n\t\t\t}\n\t\t\telse {\n\t\t\t\theader.enableButton('today');\n\t\t\t}\n\t\t}\n\t\t\n\t\n\t\n\t\t/* Selection\n\t\t-----------------------------------------------------------------------------*/\n\t\t\n\t\n\t\tfunction select(start, end) {\n\t\t\tcurrentView.select(\n\t\t\t\tt.buildSelectRange.apply(t, arguments)\n\t\t\t);\n\t\t}\n\t\t\n\t\n\t\tfunction unselect() { // safe to be called before renderView\n\t\t\tif (currentView) {\n\t\t\t\tcurrentView.unselect();\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/* Date\n\t\t-----------------------------------------------------------------------------*/\n\t\t\n\t\t\n\t\tfunction prev() {\n\t\t\tdate = currentView.computePrevDate(date);\n\t\t\trenderView();\n\t\t}\n\t\t\n\t\t\n\t\tfunction next() {\n\t\t\tdate = currentView.computeNextDate(date);\n\t\t\trenderView();\n\t\t}\n\t\t\n\t\t\n\t\tfunction prevYear() {\n\t\t\tdate.add(-1, 'years');\n\t\t\trenderView();\n\t\t}\n\t\t\n\t\t\n\t\tfunction nextYear() {\n\t\t\tdate.add(1, 'years');\n\t\t\trenderView();\n\t\t}\n\t\t\n\t\t\n\t\tfunction today() {\n\t\t\tdate = t.getNow();\n\t\t\trenderView();\n\t\t}\n\t\t\n\t\t\n\t\tfunction gotoDate(dateInput) {\n\t\t\tdate = t.moment(dateInput);\n\t\t\trenderView();\n\t\t}\n\t\t\n\t\t\n\t\tfunction incrementDate(delta) {\n\t\t\tdate.add(moment.duration(delta));\n\t\t\trenderView();\n\t\t}\n\t\n\t\n\t\t// Forces navigation to a view for the given date.\n\t\t// `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n\t\tfunction zoomTo(newDate, viewType) {\n\t\t\tvar spec;\n\t\n\t\t\tviewType = viewType || 'day'; // day is default zoom\n\t\t\tspec = t.getViewSpec(viewType) || t.getUnitViewSpec(viewType);\n\t\n\t\t\tdate = newDate;\n\t\t\trenderView(spec ? spec.type : null);\n\t\t}\n\t\t\n\t\t\n\t\tfunction getDate() {\n\t\t\treturn date.clone();\n\t\t}\n\t\n\t\n\t\n\t\t/* Height \"Freezing\"\n\t\t-----------------------------------------------------------------------------*/\n\t\t// TODO: move this into the view\n\t\n\t\n\t\tfunction freezeContentHeight() {\n\t\t\tcontent.css({\n\t\t\t\twidth: '100%',\n\t\t\t\theight: content.height(),\n\t\t\t\toverflow: 'hidden'\n\t\t\t});\n\t\t}\n\t\n\t\n\t\tfunction unfreezeContentHeight() {\n\t\t\tcontent.css({\n\t\t\t\twidth: '',\n\t\t\t\theight: '',\n\t\t\t\toverflow: ''\n\t\t\t});\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/* Misc\n\t\t-----------------------------------------------------------------------------*/\n\t\t\n\t\n\t\tfunction getCalendar() {\n\t\t\treturn t;\n\t\t}\n\t\n\t\t\n\t\tfunction getView() {\n\t\t\treturn currentView;\n\t\t}\n\t\t\n\t\t\n\t\tfunction option(name, value) {\n\t\t\tif (value === undefined) {\n\t\t\t\treturn options[name];\n\t\t\t}\n\t\t\tif (name == 'height' || name == 'contentHeight' || name == 'aspectRatio') {\n\t\t\t\toptions[name] = value;\n\t\t\t\tupdateSize(true); // true = allow recalculation of height\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tfunction trigger(name, thisObj) { // overrides the Emitter's trigger method :(\n\t\t\tvar args = Array.prototype.slice.call(arguments, 2);\n\t\n\t\t\tthisObj = thisObj || _element;\n\t\t\tthis.triggerWith(name, thisObj, args); // Emitter's method\n\t\n\t\t\tif (options[name]) {\n\t\t\t\treturn options[name].apply(thisObj, args);\n\t\t\t}\n\t\t}\n\t\n\t\tt.initialize();\n\t}\n\t\n\t;;\n\t\n\tCalendar.defaults = {\n\t\n\t\ttitleRangeSeparator: ' \\u2014 ', // emphasized dash\n\t\tmonthYearFormat: 'MMMM YYYY', // required for en. other languages rely on datepicker computable option\n\t\n\t\tdefaultTimedEventDuration: '02:00:00',\n\t\tdefaultAllDayEventDuration: { days: 1 },\n\t\tforceEventDuration: false,\n\t\tnextDayThreshold: '09:00:00', // 9am\n\t\n\t\t// display\n\t\tdefaultView: 'month',\n\t\taspectRatio: 1.35,\n\t\theader: {\n\t\t\tleft: 'title',\n\t\t\tcenter: '',\n\t\t\tright: 'today prev,next'\n\t\t},\n\t\tweekends: true,\n\t\tweekNumbers: false,\n\t\n\t\tweekNumberTitle: 'W',\n\t\tweekNumberCalculation: 'local',\n\t\t\n\t\t//editable: false,\n\t\n\t\tscrollTime: '06:00:00',\n\t\t\n\t\t// event ajax\n\t\tlazyFetching: true,\n\t\tstartParam: 'start',\n\t\tendParam: 'end',\n\t\ttimezoneParam: 'timezone',\n\t\n\t\ttimezone: false,\n\t\n\t\t//allDayDefault: undefined,\n\t\n\t\t// locale\n\t\tisRTL: false,\n\t\tbuttonText: {\n\t\t\tprev: \"prev\",\n\t\t\tnext: \"next\",\n\t\t\tprevYear: \"prev year\",\n\t\t\tnextYear: \"next year\",\n\t\t\tyear: 'year', // TODO: locale files need to specify this\n\t\t\ttoday: 'today',\n\t\t\tmonth: 'month',\n\t\t\tweek: 'week',\n\t\t\tday: 'day'\n\t\t},\n\t\n\t\tbuttonIcons: {\n\t\t\tprev: 'left-single-arrow',\n\t\t\tnext: 'right-single-arrow',\n\t\t\tprevYear: 'left-double-arrow',\n\t\t\tnextYear: 'right-double-arrow'\n\t\t},\n\t\t\n\t\t// jquery-ui theming\n\t\ttheme: false,\n\t\tthemeButtonIcons: {\n\t\t\tprev: 'circle-triangle-w',\n\t\t\tnext: 'circle-triangle-e',\n\t\t\tprevYear: 'seek-prev',\n\t\t\tnextYear: 'seek-next'\n\t\t},\n\t\n\t\t//eventResizableFromStart: false,\n\t\tdragOpacity: .75,\n\t\tdragRevertDuration: 500,\n\t\tdragScroll: true,\n\t\t\n\t\t//selectable: false,\n\t\tunselectAuto: true,\n\t\t\n\t\tdropAccept: '*',\n\t\n\t\teventOrder: 'title',\n\t\n\t\teventLimit: false,\n\t\teventLimitText: 'more',\n\t\teventLimitClick: 'popover',\n\t\tdayPopoverFormat: 'LL',\n\t\t\n\t\thandleWindowResize: true,\n\t\twindowResizeDelay: 200 // milliseconds before an updateSize happens\n\t\t\n\t};\n\t\n\t\n\tCalendar.englishDefaults = { // used by lang.js\n\t\tdayPopoverFormat: 'dddd, MMMM D'\n\t};\n\t\n\t\n\tCalendar.rtlDefaults = { // right-to-left defaults\n\t\theader: { // TODO: smarter solution (first/center/last ?)\n\t\t\tleft: 'next,prev today',\n\t\t\tcenter: '',\n\t\t\tright: 'title'\n\t\t},\n\t\tbuttonIcons: {\n\t\t\tprev: 'right-single-arrow',\n\t\t\tnext: 'left-single-arrow',\n\t\t\tprevYear: 'right-double-arrow',\n\t\t\tnextYear: 'left-double-arrow'\n\t\t},\n\t\tthemeButtonIcons: {\n\t\t\tprev: 'circle-triangle-e',\n\t\t\tnext: 'circle-triangle-w',\n\t\t\tnextYear: 'seek-prev',\n\t\t\tprevYear: 'seek-next'\n\t\t}\n\t};\n\t\n\t;;\n\t\n\tvar langOptionHash = fc.langs = {}; // initialize and expose\n\t\n\t\n\t// TODO: document the structure and ordering of a FullCalendar lang file\n\t// TODO: rename everything \"lang\" to \"locale\", like what the moment project did\n\t\n\t\n\t// Initialize jQuery UI datepicker translations while using some of the translations\n\t// Will set this as the default language for datepicker.\n\tfc.datepickerLang = function(langCode, dpLangCode, dpOptions) {\n\t\n\t\t// get the FullCalendar internal option hash for this language. create if necessary\n\t\tvar fcOptions = langOptionHash[langCode] || (langOptionHash[langCode] = {});\n\t\n\t\t// transfer some simple options from datepicker to fc\n\t\tfcOptions.isRTL = dpOptions.isRTL;\n\t\tfcOptions.weekNumberTitle = dpOptions.weekHeader;\n\t\n\t\t// compute some more complex options from datepicker\n\t\t$.each(dpComputableOptions, function(name, func) {\n\t\t\tfcOptions[name] = func(dpOptions);\n\t\t});\n\t\n\t\t// is jQuery UI Datepicker is on the page?\n\t\tif ($.datepicker) {\n\t\n\t\t\t// Register the language data.\n\t\t\t// FullCalendar and MomentJS use language codes like \"pt-br\" but Datepicker\n\t\t\t// does it like \"pt-BR\" or if it doesn't have the language, maybe just \"pt\".\n\t\t\t// Make an alias so the language can be referenced either way.\n\t\t\t$.datepicker.regional[dpLangCode] =\n\t\t\t\t$.datepicker.regional[langCode] = // alias\n\t\t\t\t\tdpOptions;\n\t\n\t\t\t// Alias 'en' to the default language data. Do this every time.\n\t\t\t$.datepicker.regional.en = $.datepicker.regional[''];\n\t\n\t\t\t// Set as Datepicker's global defaults.\n\t\t\t$.datepicker.setDefaults(dpOptions);\n\t\t}\n\t};\n\t\n\t\n\t// Sets FullCalendar-specific translations. Will set the language as the global default.\n\tfc.lang = function(langCode, newFcOptions) {\n\t\tvar fcOptions;\n\t\tvar momOptions;\n\t\n\t\t// get the FullCalendar internal option hash for this language. create if necessary\n\t\tfcOptions = langOptionHash[langCode] || (langOptionHash[langCode] = {});\n\t\n\t\t// provided new options for this language? merge them in\n\t\tif (newFcOptions) {\n\t\t\tfcOptions = langOptionHash[langCode] = mergeOptions([ fcOptions, newFcOptions ]);\n\t\t}\n\t\n\t\t// compute language options that weren't defined.\n\t\t// always do this. newFcOptions can be undefined when initializing from i18n file,\n\t\t// so no way to tell if this is an initialization or a default-setting.\n\t\tmomOptions = getMomentLocaleData(langCode); // will fall back to en\n\t\t$.each(momComputableOptions, function(name, func) {\n\t\t\tif (fcOptions[name] == null) {\n\t\t\t\tfcOptions[name] = func(momOptions, fcOptions);\n\t\t\t}\n\t\t});\n\t\n\t\t// set it as the default language for FullCalendar\n\t\tCalendar.defaults.lang = langCode;\n\t};\n\t\n\t\n\t// NOTE: can't guarantee any of these computations will run because not every language has datepicker\n\t// configs, so make sure there are English fallbacks for these in the defaults file.\n\tvar dpComputableOptions = {\n\t\n\t\tbuttonText: function(dpOptions) {\n\t\t\treturn {\n\t\t\t\t// the translations sometimes wrongly contain HTML entities\n\t\t\t\tprev: stripHtmlEntities(dpOptions.prevText),\n\t\t\t\tnext: stripHtmlEntities(dpOptions.nextText),\n\t\t\t\ttoday: stripHtmlEntities(dpOptions.currentText)\n\t\t\t};\n\t\t},\n\t\n\t\t// Produces format strings like \"MMMM YYYY\" -> \"September 2014\"\n\t\tmonthYearFormat: function(dpOptions) {\n\t\t\treturn dpOptions.showMonthAfterYear ?\n\t\t\t\t'YYYY[' + dpOptions.yearSuffix + '] MMMM' :\n\t\t\t\t'MMMM YYYY[' + dpOptions.yearSuffix + ']';\n\t\t}\n\t\n\t};\n\t\n\tvar momComputableOptions = {\n\t\n\t\t// Produces format strings like \"ddd M/D\" -> \"Fri 9/15\"\n\t\tdayOfMonthFormat: function(momOptions, fcOptions) {\n\t\t\tvar format = momOptions.longDateFormat('l'); // for the format like \"M/D/YYYY\"\n\t\n\t\t\t// strip the year off the edge, as well as other misc non-whitespace chars\n\t\t\tformat = format.replace(/^Y+[^\\w\\s]*|[^\\w\\s]*Y+$/g, '');\n\t\n\t\t\tif (fcOptions.isRTL) {\n\t\t\t\tformat += ' ddd'; // for RTL, add day-of-week to end\n\t\t\t}\n\t\t\telse {\n\t\t\t\tformat = 'ddd ' + format; // for LTR, add day-of-week to beginning\n\t\t\t}\n\t\t\treturn format;\n\t\t},\n\t\n\t\t// Produces format strings like \"h:mma\" -> \"6:00pm\"\n\t\tmediumTimeFormat: function(momOptions) { // can't be called `timeFormat` because collides with option\n\t\t\treturn momOptions.longDateFormat('LT')\n\t\t\t\t.replace(/\\s*a$/i, 'a'); // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\n\t\t},\n\t\n\t\t// Produces format strings like \"h(:mm)a\" -> \"6pm\" / \"6:30pm\"\n\t\tsmallTimeFormat: function(momOptions) {\n\t\t\treturn momOptions.longDateFormat('LT')\n\t\t\t\t.replace(':mm', '(:mm)')\n\t\t\t\t.replace(/(\\Wmm)$/, '($1)') // like above, but for foreign langs\n\t\t\t\t.replace(/\\s*a$/i, 'a'); // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\n\t\t},\n\t\n\t\t// Produces format strings like \"h(:mm)t\" -> \"6p\" / \"6:30p\"\n\t\textraSmallTimeFormat: function(momOptions) {\n\t\t\treturn momOptions.longDateFormat('LT')\n\t\t\t\t.replace(':mm', '(:mm)')\n\t\t\t\t.replace(/(\\Wmm)$/, '($1)') // like above, but for foreign langs\n\t\t\t\t.replace(/\\s*a$/i, 't'); // convert to AM/PM/am/pm to lowercase one-letter. remove any spaces beforehand\n\t\t},\n\t\n\t\t// Produces format strings like \"ha\" / \"H\" -> \"6pm\" / \"18\"\n\t\thourFormat: function(momOptions) {\n\t\t\treturn momOptions.longDateFormat('LT')\n\t\t\t\t.replace(':mm', '')\n\t\t\t\t.replace(/(\\Wmm)$/, '') // like above, but for foreign langs\n\t\t\t\t.replace(/\\s*a$/i, 'a'); // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\n\t\t},\n\t\n\t\t// Produces format strings like \"h:mm\" -> \"6:30\" (with no AM/PM)\n\t\tnoMeridiemTimeFormat: function(momOptions) {\n\t\t\treturn momOptions.longDateFormat('LT')\n\t\t\t\t.replace(/\\s*a$/i, ''); // remove trailing AM/PM\n\t\t}\n\t\n\t};\n\t\n\t\n\t// options that should be computed off live calendar options (considers override options)\n\tvar instanceComputableOptions = { // TODO: best place for this? related to lang?\n\t\n\t\t// Produces format strings for results like \"Mo 16\"\n\t\tsmallDayDateFormat: function(options) {\n\t\t\treturn options.isRTL ?\n\t\t\t\t'D dd' :\n\t\t\t\t'dd D';\n\t\t},\n\t\n\t\t// Produces format strings for results like \"Wk 5\"\n\t\tweekFormat: function(options) {\n\t\t\treturn options.isRTL ?\n\t\t\t\t'w[ ' + options.weekNumberTitle + ']' :\n\t\t\t\t'[' + options.weekNumberTitle + ' ]w';\n\t\t},\n\t\n\t\t// Produces format strings for results like \"Wk5\"\n\t\tsmallWeekFormat: function(options) {\n\t\t\treturn options.isRTL ?\n\t\t\t\t'w[' + options.weekNumberTitle + ']' :\n\t\t\t\t'[' + options.weekNumberTitle + ']w';\n\t\t}\n\t\n\t};\n\t\n\tfunction populateInstanceComputableOptions(options) {\n\t\t$.each(instanceComputableOptions, function(name, func) {\n\t\t\tif (options[name] == null) {\n\t\t\t\toptions[name] = func(options);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t\n\t// Returns moment's internal locale data. If doesn't exist, returns English.\n\t// Works with moment-pre-2.8\n\tfunction getMomentLocaleData(langCode) {\n\t\tvar func = moment.localeData || moment.langData;\n\t\treturn func.call(moment, langCode) ||\n\t\t\tfunc.call(moment, 'en'); // the newer localData could return null, so fall back to en\n\t}\n\t\n\t\n\t// Initialize English by forcing computation of moment-derived options.\n\t// Also, sets it as the default.\n\tfc.lang('en', Calendar.englishDefaults);\n\t\n\t;;\n\t\n\t/* Top toolbar area with buttons and title\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t// TODO: rename all header-related things to \"toolbar\"\n\t\n\tfunction Header(calendar, options) {\n\t\tvar t = this;\n\t\t\n\t\t// exports\n\t\tt.render = render;\n\t\tt.removeElement = removeElement;\n\t\tt.updateTitle = updateTitle;\n\t\tt.activateButton = activateButton;\n\t\tt.deactivateButton = deactivateButton;\n\t\tt.disableButton = disableButton;\n\t\tt.enableButton = enableButton;\n\t\tt.getViewsWithButtons = getViewsWithButtons;\n\t\t\n\t\t// locals\n\t\tvar el = $();\n\t\tvar viewsWithButtons = [];\n\t\tvar tm;\n\t\n\t\n\t\tfunction render() {\n\t\t\tvar sections = options.header;\n\t\n\t\t\ttm = options.theme ? 'ui' : 'fc';\n\t\n\t\t\tif (sections) {\n\t\t\t\tel = $(\"<div class='fc-toolbar'/>\")\n\t\t\t\t\t.append(renderSection('left'))\n\t\t\t\t\t.append(renderSection('right'))\n\t\t\t\t\t.append(renderSection('center'))\n\t\t\t\t\t.append('<div class=\"fc-clear\"/>');\n\t\n\t\t\t\treturn el;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tfunction removeElement() {\n\t\t\tel.remove();\n\t\t\tel = $();\n\t\t}\n\t\t\n\t\t\n\t\tfunction renderSection(position) {\n\t\t\tvar sectionEl = $('<div class=\"fc-' + position + '\"/>');\n\t\t\tvar buttonStr = options.header[position];\n\t\n\t\t\tif (buttonStr) {\n\t\t\t\t$.each(buttonStr.split(' '), function(i) {\n\t\t\t\t\tvar groupChildren = $();\n\t\t\t\t\tvar isOnlyButtons = true;\n\t\t\t\t\tvar groupEl;\n\t\n\t\t\t\t\t$.each(this.split(','), function(j, buttonName) {\n\t\t\t\t\t\tvar customButtonProps;\n\t\t\t\t\t\tvar viewSpec;\n\t\t\t\t\t\tvar buttonClick;\n\t\t\t\t\t\tvar overrideText; // text explicitly set by calendar's constructor options. overcomes icons\n\t\t\t\t\t\tvar defaultText;\n\t\t\t\t\t\tvar themeIcon;\n\t\t\t\t\t\tvar normalIcon;\n\t\t\t\t\t\tvar innerHtml;\n\t\t\t\t\t\tvar classes;\n\t\t\t\t\t\tvar button; // the element\n\t\n\t\t\t\t\t\tif (buttonName == 'title') {\n\t\t\t\t\t\t\tgroupChildren = groupChildren.add($('<h2>&nbsp;</h2>')); // we always want it to take up height\n\t\t\t\t\t\t\tisOnlyButtons = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif ((customButtonProps = (calendar.options.customButtons || {})[buttonName])) {\n\t\t\t\t\t\t\t\tbuttonClick = function(ev) {\n\t\t\t\t\t\t\t\t\tif (customButtonProps.click) {\n\t\t\t\t\t\t\t\t\t\tcustomButtonProps.click.call(button[0], ev);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\toverrideText = ''; // icons will override text\n\t\t\t\t\t\t\t\tdefaultText = customButtonProps.text;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if ((viewSpec = calendar.getViewSpec(buttonName))) {\n\t\t\t\t\t\t\t\tbuttonClick = function() {\n\t\t\t\t\t\t\t\t\tcalendar.changeView(buttonName);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tviewsWithButtons.push(buttonName);\n\t\t\t\t\t\t\t\toverrideText = viewSpec.buttonTextOverride;\n\t\t\t\t\t\t\t\tdefaultText = viewSpec.buttonTextDefault;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (calendar[buttonName]) { // a calendar method\n\t\t\t\t\t\t\t\tbuttonClick = function() {\n\t\t\t\t\t\t\t\t\tcalendar[buttonName]();\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\toverrideText = (calendar.overrides.buttonText || {})[buttonName];\n\t\t\t\t\t\t\t\tdefaultText = options.buttonText[buttonName]; // everything else is considered default\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tif (buttonClick) {\n\t\n\t\t\t\t\t\t\t\tthemeIcon =\n\t\t\t\t\t\t\t\t\tcustomButtonProps ?\n\t\t\t\t\t\t\t\t\t\tcustomButtonProps.themeIcon :\n\t\t\t\t\t\t\t\t\t\toptions.themeButtonIcons[buttonName];\n\t\n\t\t\t\t\t\t\t\tnormalIcon =\n\t\t\t\t\t\t\t\t\tcustomButtonProps ?\n\t\t\t\t\t\t\t\t\t\tcustomButtonProps.icon :\n\t\t\t\t\t\t\t\t\t\toptions.buttonIcons[buttonName];\n\t\n\t\t\t\t\t\t\t\tif (overrideText) {\n\t\t\t\t\t\t\t\t\tinnerHtml = htmlEscape(overrideText);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (themeIcon && options.theme) {\n\t\t\t\t\t\t\t\t\tinnerHtml = \"<span class='ui-icon ui-icon-\" + themeIcon + \"'></span>\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (normalIcon && !options.theme) {\n\t\t\t\t\t\t\t\t\tinnerHtml = \"<span class='fc-icon fc-icon-\" + normalIcon + \"'></span>\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tinnerHtml = htmlEscape(defaultText);\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\tclasses = [\n\t\t\t\t\t\t\t\t\t'fc-' + buttonName + '-button',\n\t\t\t\t\t\t\t\t\ttm + '-button',\n\t\t\t\t\t\t\t\t\ttm + '-state-default'\n\t\t\t\t\t\t\t\t];\n\t\n\t\t\t\t\t\t\t\tbutton = $( // type=\"button\" so that it doesn't submit a form\n\t\t\t\t\t\t\t\t\t'<button type=\"button\" class=\"' + classes.join(' ') + '\">' +\n\t\t\t\t\t\t\t\t\t\tinnerHtml +\n\t\t\t\t\t\t\t\t\t'</button>'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.click(function(ev) {\n\t\t\t\t\t\t\t\t\t\t// don't process clicks for disabled buttons\n\t\t\t\t\t\t\t\t\t\tif (!button.hasClass(tm + '-state-disabled')) {\n\t\n\t\t\t\t\t\t\t\t\t\t\tbuttonClick(ev);\n\t\n\t\t\t\t\t\t\t\t\t\t\t// after the click action, if the button becomes the \"active\" tab, or disabled,\n\t\t\t\t\t\t\t\t\t\t\t// it should never have a hover class, so remove it now.\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tbutton.hasClass(tm + '-state-active') ||\n\t\t\t\t\t\t\t\t\t\t\t\tbutton.hasClass(tm + '-state-disabled')\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\tbutton.removeClass(tm + '-state-hover');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.mousedown(function() {\n\t\t\t\t\t\t\t\t\t\t// the *down* effect (mouse pressed in).\n\t\t\t\t\t\t\t\t\t\t// only on buttons that are not the \"active\" tab, or disabled\n\t\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\t\t\t.not('.' + tm + '-state-active')\n\t\t\t\t\t\t\t\t\t\t\t.not('.' + tm + '-state-disabled')\n\t\t\t\t\t\t\t\t\t\t\t.addClass(tm + '-state-down');\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.mouseup(function() {\n\t\t\t\t\t\t\t\t\t\t// undo the *down* effect\n\t\t\t\t\t\t\t\t\t\tbutton.removeClass(tm + '-state-down');\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.hover(\n\t\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\t\t// the *hover* effect.\n\t\t\t\t\t\t\t\t\t\t\t// only on buttons that are not the \"active\" tab, or disabled\n\t\t\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\t\t\t\t.not('.' + tm + '-state-active')\n\t\t\t\t\t\t\t\t\t\t\t\t.not('.' + tm + '-state-disabled')\n\t\t\t\t\t\t\t\t\t\t\t\t.addClass(tm + '-state-hover');\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\t\t// undo the *hover* effect\n\t\t\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\t\t\t\t.removeClass(tm + '-state-hover')\n\t\t\t\t\t\t\t\t\t\t\t\t.removeClass(tm + '-state-down'); // if mouseleave happens before mouseup\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\t\tgroupChildren = groupChildren.add(button);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\n\t\t\t\t\tif (isOnlyButtons) {\n\t\t\t\t\t\tgroupChildren\n\t\t\t\t\t\t\t.first().addClass(tm + '-corner-left').end()\n\t\t\t\t\t\t\t.last().addClass(tm + '-corner-right').end();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (groupChildren.length > 1) {\n\t\t\t\t\t\tgroupEl = $('<div/>');\n\t\t\t\t\t\tif (isOnlyButtons) {\n\t\t\t\t\t\t\tgroupEl.addClass('fc-button-group');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgroupEl.append(groupChildren);\n\t\t\t\t\t\tsectionEl.append(groupEl);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsectionEl.append(groupChildren); // 1 or 0 children\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn sectionEl;\n\t\t}\n\t\t\n\t\t\n\t\tfunction updateTitle(text) {\n\t\t\tel.find('h2').text(text);\n\t\t}\n\t\t\n\t\t\n\t\tfunction activateButton(buttonName) {\n\t\t\tel.find('.fc-' + buttonName + '-button')\n\t\t\t\t.addClass(tm + '-state-active');\n\t\t}\n\t\t\n\t\t\n\t\tfunction deactivateButton(buttonName) {\n\t\t\tel.find('.fc-' + buttonName + '-button')\n\t\t\t\t.removeClass(tm + '-state-active');\n\t\t}\n\t\t\n\t\t\n\t\tfunction disableButton(buttonName) {\n\t\t\tel.find('.fc-' + buttonName + '-button')\n\t\t\t\t.attr('disabled', 'disabled')\n\t\t\t\t.addClass(tm + '-state-disabled');\n\t\t}\n\t\t\n\t\t\n\t\tfunction enableButton(buttonName) {\n\t\t\tel.find('.fc-' + buttonName + '-button')\n\t\t\t\t.removeAttr('disabled')\n\t\t\t\t.removeClass(tm + '-state-disabled');\n\t\t}\n\t\n\t\n\t\tfunction getViewsWithButtons() {\n\t\t\treturn viewsWithButtons;\n\t\t}\n\t\n\t}\n\t\n\t;;\n\t\n\tfc.sourceNormalizers = [];\n\tfc.sourceFetchers = [];\n\t\n\tvar ajaxDefaults = {\n\t\tdataType: 'json',\n\t\tcache: false\n\t};\n\t\n\tvar eventGUID = 1;\n\t\n\t\n\tfunction EventManager(options) { // assumed to be a calendar\n\t\tvar t = this;\n\t\t\n\t\t\n\t\t// exports\n\t\tt.isFetchNeeded = isFetchNeeded;\n\t\tt.fetchEvents = fetchEvents;\n\t\tt.addEventSource = addEventSource;\n\t\tt.removeEventSource = removeEventSource;\n\t\tt.updateEvent = updateEvent;\n\t\tt.renderEvent = renderEvent;\n\t\tt.removeEvents = removeEvents;\n\t\tt.clientEvents = clientEvents;\n\t\tt.mutateEvent = mutateEvent;\n\t\tt.normalizeEventRange = normalizeEventRange;\n\t\tt.normalizeEventRangeTimes = normalizeEventRangeTimes;\n\t\tt.ensureVisibleEventRange = ensureVisibleEventRange;\n\t\t\n\t\t\n\t\t// imports\n\t\tvar reportEvents = t.reportEvents;\n\t\t\n\t\t\n\t\t// locals\n\t\tvar stickySource = { events: [] };\n\t\tvar sources = [ stickySource ];\n\t\tvar rangeStart, rangeEnd;\n\t\tvar currentFetchID = 0;\n\t\tvar pendingSourceCnt = 0;\n\t\tvar cache = []; // holds events that have already been expanded\n\t\n\t\n\t\t$.each(\n\t\t\t(options.events ? [ options.events ] : []).concat(options.eventSources || []),\n\t\t\tfunction(i, sourceInput) {\n\t\t\t\tvar source = buildEventSource(sourceInput);\n\t\t\t\tif (source) {\n\t\t\t\t\tsources.push(source);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\t\n\t\t\n\t\t\n\t\t/* Fetching\n\t\t-----------------------------------------------------------------------------*/\n\t\t\n\t\t\n\t\tfunction isFetchNeeded(start, end) {\n\t\t\treturn !rangeStart || // nothing has been fetched yet?\n\t\t\t\t// or, a part of the new range is outside of the old range? (after normalizing)\n\t\t\t\tstart.clone().stripZone() < rangeStart.clone().stripZone() ||\n\t\t\t\tend.clone().stripZone() > rangeEnd.clone().stripZone();\n\t\t}\n\t\t\n\t\t\n\t\tfunction fetchEvents(start, end) {\n\t\t\trangeStart = start;\n\t\t\trangeEnd = end;\n\t\t\tcache = [];\n\t\t\tvar fetchID = ++currentFetchID;\n\t\t\tvar len = sources.length;\n\t\t\tpendingSourceCnt = len;\n\t\t\tfor (var i=0; i<len; i++) {\n\t\t\t\tfetchEventSource(sources[i], fetchID);\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tfunction fetchEventSource(source, fetchID) {\n\t\t\t_fetchEventSource(source, function(eventInputs) {\n\t\t\t\tvar isArraySource = $.isArray(source.events);\n\t\t\t\tvar i, eventInput;\n\t\t\t\tvar abstractEvent;\n\t\n\t\t\t\tif (fetchID == currentFetchID) {\n\t\n\t\t\t\t\tif (eventInputs) {\n\t\t\t\t\t\tfor (i = 0; i < eventInputs.length; i++) {\n\t\t\t\t\t\t\teventInput = eventInputs[i];\n\t\n\t\t\t\t\t\t\tif (isArraySource) { // array sources have already been convert to Event Objects\n\t\t\t\t\t\t\t\tabstractEvent = eventInput;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tabstractEvent = buildEventFromInput(eventInput, source);\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tif (abstractEvent) { // not false (an invalid event)\n\t\t\t\t\t\t\t\tcache.push.apply(\n\t\t\t\t\t\t\t\t\tcache,\n\t\t\t\t\t\t\t\t\texpandEvent(abstractEvent) // add individual expanded events to the cache\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\tpendingSourceCnt--;\n\t\t\t\t\tif (!pendingSourceCnt) {\n\t\t\t\t\t\treportEvents(cache);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\t\n\t\tfunction _fetchEventSource(source, callback) {\n\t\t\tvar i;\n\t\t\tvar fetchers = fc.sourceFetchers;\n\t\t\tvar res;\n\t\n\t\t\tfor (i=0; i<fetchers.length; i++) {\n\t\t\t\tres = fetchers[i].call(\n\t\t\t\t\tt, // this, the Calendar object\n\t\t\t\t\tsource,\n\t\t\t\t\trangeStart.clone(),\n\t\t\t\t\trangeEnd.clone(),\n\t\t\t\t\toptions.timezone,\n\t\t\t\t\tcallback\n\t\t\t\t);\n\t\n\t\t\t\tif (res === true) {\n\t\t\t\t\t// the fetcher is in charge. made its own async request\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telse if (typeof res == 'object') {\n\t\t\t\t\t// the fetcher returned a new source. process it\n\t\t\t\t\t_fetchEventSource(res, callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tvar events = source.events;\n\t\t\tif (events) {\n\t\t\t\tif ($.isFunction(events)) {\n\t\t\t\t\tt.pushLoading();\n\t\t\t\t\tevents.call(\n\t\t\t\t\t\tt, // this, the Calendar object\n\t\t\t\t\t\trangeStart.clone(),\n\t\t\t\t\t\trangeEnd.clone(),\n\t\t\t\t\t\toptions.timezone,\n\t\t\t\t\t\tfunction(events) {\n\t\t\t\t\t\t\tcallback(events);\n\t\t\t\t\t\t\tt.popLoading();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\telse if ($.isArray(events)) {\n\t\t\t\t\tcallback(events);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tvar url = source.url;\n\t\t\t\tif (url) {\n\t\t\t\t\tvar success = source.success;\n\t\t\t\t\tvar error = source.error;\n\t\t\t\t\tvar complete = source.complete;\n\t\n\t\t\t\t\t// retrieve any outbound GET/POST $.ajax data from the options\n\t\t\t\t\tvar customData;\n\t\t\t\t\tif ($.isFunction(source.data)) {\n\t\t\t\t\t\t// supplied as a function that returns a key/value object\n\t\t\t\t\t\tcustomData = source.data();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// supplied as a straight key/value object\n\t\t\t\t\t\tcustomData = source.data;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// use a copy of the custom data so we can modify the parameters\n\t\t\t\t\t// and not affect the passed-in object.\n\t\t\t\t\tvar data = $.extend({}, customData || {});\n\t\n\t\t\t\t\tvar startParam = firstDefined(source.startParam, options.startParam);\n\t\t\t\t\tvar endParam = firstDefined(source.endParam, options.endParam);\n\t\t\t\t\tvar timezoneParam = firstDefined(source.timezoneParam, options.timezoneParam);\n\t\n\t\t\t\t\tif (startParam) {\n\t\t\t\t\t\tdata[startParam] = rangeStart.format();\n\t\t\t\t\t}\n\t\t\t\t\tif (endParam) {\n\t\t\t\t\t\tdata[endParam] = rangeEnd.format();\n\t\t\t\t\t}\n\t\t\t\t\tif (options.timezone && options.timezone != 'local') {\n\t\t\t\t\t\tdata[timezoneParam] = options.timezone;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tt.pushLoading();\n\t\t\t\t\t$.ajax($.extend({}, ajaxDefaults, source, {\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tsuccess: function(events) {\n\t\t\t\t\t\t\tevents = events || [];\n\t\t\t\t\t\t\tvar res = applyAll(success, this, arguments);\n\t\t\t\t\t\t\tif ($.isArray(res)) {\n\t\t\t\t\t\t\t\tevents = res;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcallback(events);\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function() {\n\t\t\t\t\t\t\tapplyAll(error, this, arguments);\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\tapplyAll(complete, this, arguments);\n\t\t\t\t\t\t\tt.popLoading();\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t}else{\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/* Sources\n\t\t-----------------------------------------------------------------------------*/\n\t\t\n\t\n\t\tfunction addEventSource(sourceInput) {\n\t\t\tvar source = buildEventSource(sourceInput);\n\t\t\tif (source) {\n\t\t\t\tsources.push(source);\n\t\t\t\tpendingSourceCnt++;\n\t\t\t\tfetchEventSource(source, currentFetchID); // will eventually call reportEvents\n\t\t\t}\n\t\t}\n\t\n\t\n\t\tfunction buildEventSource(sourceInput) { // will return undefined if invalid source\n\t\t\tvar normalizers = fc.sourceNormalizers;\n\t\t\tvar source;\n\t\t\tvar i;\n\t\n\t\t\tif ($.isFunction(sourceInput) || $.isArray(sourceInput)) {\n\t\t\t\tsource = { events: sourceInput };\n\t\t\t}\n\t\t\telse if (typeof sourceInput === 'string') {\n\t\t\t\tsource = { url: sourceInput };\n\t\t\t}\n\t\t\telse if (typeof sourceInput === 'object') {\n\t\t\t\tsource = $.extend({}, sourceInput); // shallow copy\n\t\t\t}\n\t\n\t\t\tif (source) {\n\t\n\t\t\t\t// TODO: repeat code, same code for event classNames\n\t\t\t\tif (source.className) {\n\t\t\t\t\tif (typeof source.className === 'string') {\n\t\t\t\t\t\tsource.className = source.className.split(/\\s+/);\n\t\t\t\t\t}\n\t\t\t\t\t// otherwise, assumed to be an array\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsource.className = [];\n\t\t\t\t}\n\t\n\t\t\t\t// for array sources, we convert to standard Event Objects up front\n\t\t\t\tif ($.isArray(source.events)) {\n\t\t\t\t\tsource.origArray = source.events; // for removeEventSource\n\t\t\t\t\tsource.events = $.map(source.events, function(eventInput) {\n\t\t\t\t\t\treturn buildEventFromInput(eventInput, source);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\tfor (i=0; i<normalizers.length; i++) {\n\t\t\t\t\tnormalizers[i].call(t, source);\n\t\t\t\t}\n\t\n\t\t\t\treturn source;\n\t\t\t}\n\t\t}\n\t\n\t\n\t\tfunction removeEventSource(source) {\n\t\t\tsources = $.grep(sources, function(src) {\n\t\t\t\treturn !isSourcesEqual(src, source);\n\t\t\t});\n\t\t\t// remove all client events from that source\n\t\t\tcache = $.grep(cache, function(e) {\n\t\t\t\treturn !isSourcesEqual(e.source, source);\n\t\t\t});\n\t\t\treportEvents(cache);\n\t\t}\n\t\n\t\n\t\tfunction isSourcesEqual(source1, source2) {\n\t\t\treturn source1 && source2 && getSourcePrimitive(source1) == getSourcePrimitive(source2);\n\t\t}\n\t\n\t\n\t\tfunction getSourcePrimitive(source) {\n\t\t\treturn (\n\t\t\t\t(typeof source === 'object') ? // a normalized event source?\n\t\t\t\t\t(source.origArray || source.googleCalendarId || source.url || source.events) : // get the primitive\n\t\t\t\t\tnull\n\t\t\t) ||\n\t\t\tsource; // the given argument *is* the primitive\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/* Manipulation\n\t\t-----------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Only ever called from the externally-facing API\n\t\tfunction updateEvent(event) {\n\t\n\t\t\t// massage start/end values, even if date string values\n\t\t\tevent.start = t.moment(event.start);\n\t\t\tif (event.end) {\n\t\t\t\tevent.end = t.moment(event.end);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tevent.end = null;\n\t\t\t}\n\t\n\t\t\tmutateEvent(event, getMiscEventProps(event)); // will handle start/end/allDay normalization\n\t\t\treportEvents(cache); // reports event modifications (so we can redraw)\n\t\t}\n\t\n\t\n\t\t// Returns a hash of misc event properties that should be copied over to related events.\n\t\tfunction getMiscEventProps(event) {\n\t\t\tvar props = {};\n\t\n\t\t\t$.each(event, function(name, val) {\n\t\t\t\tif (isMiscEventPropName(name)) {\n\t\t\t\t\tif (val !== undefined && isAtomic(val)) { // a defined non-object\n\t\t\t\t\t\tprops[name] = val;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\treturn props;\n\t\t}\n\t\n\t\t// non-date-related, non-id-related, non-secret\n\t\tfunction isMiscEventPropName(name) {\n\t\t\treturn !/^_|^(id|allDay|start|end)$/.test(name);\n\t\t}\n\t\n\t\t\n\t\t// returns the expanded events that were created\n\t\tfunction renderEvent(eventInput, stick) {\n\t\t\tvar abstractEvent = buildEventFromInput(eventInput);\n\t\t\tvar events;\n\t\t\tvar i, event;\n\t\n\t\t\tif (abstractEvent) { // not false (a valid input)\n\t\t\t\tevents = expandEvent(abstractEvent);\n\t\n\t\t\t\tfor (i = 0; i < events.length; i++) {\n\t\t\t\t\tevent = events[i];\n\t\n\t\t\t\t\tif (!event.source) {\n\t\t\t\t\t\tif (stick) {\n\t\t\t\t\t\t\tstickySource.events.push(event);\n\t\t\t\t\t\t\tevent.source = stickySource;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcache.push(event);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\treportEvents(cache);\n\t\n\t\t\t\treturn events;\n\t\t\t}\n\t\n\t\t\treturn [];\n\t\t}\n\t\t\n\t\t\n\t\tfunction removeEvents(filter) {\n\t\t\tvar eventID;\n\t\t\tvar i;\n\t\n\t\t\tif (filter == null) { // null or undefined. remove all events\n\t\t\t\tfilter = function() { return true; }; // will always match\n\t\t\t}\n\t\t\telse if (!$.isFunction(filter)) { // an event ID\n\t\t\t\teventID = filter + '';\n\t\t\t\tfilter = function(event) {\n\t\t\t\t\treturn event._id == eventID;\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\t// Purge event(s) from our local cache\n\t\t\tcache = $.grep(cache, filter, true); // inverse=true\n\t\n\t\t\t// Remove events from array sources.\n\t\t\t// This works because they have been converted to official Event Objects up front.\n\t\t\t// (and as a result, event._id has been calculated).\n\t\t\tfor (i=0; i<sources.length; i++) {\n\t\t\t\tif ($.isArray(sources[i].events)) {\n\t\t\t\t\tsources[i].events = $.grep(sources[i].events, filter, true);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treportEvents(cache);\n\t\t}\n\t\t\n\t\t\n\t\tfunction clientEvents(filter) {\n\t\t\tif ($.isFunction(filter)) {\n\t\t\t\treturn $.grep(cache, filter);\n\t\t\t}\n\t\t\telse if (filter != null) { // not null, not undefined. an event ID\n\t\t\t\tfilter += '';\n\t\t\t\treturn $.grep(cache, function(e) {\n\t\t\t\t\treturn e._id == filter;\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn cache; // else, return all\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/* Event Normalization\n\t\t-----------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Given a raw object with key/value properties, returns an \"abstract\" Event object.\n\t\t// An \"abstract\" event is an event that, if recurring, will not have been expanded yet.\n\t\t// Will return `false` when input is invalid.\n\t\t// `source` is optional\n\t\tfunction buildEventFromInput(input, source) {\n\t\t\tvar out = {};\n\t\t\tvar start, end;\n\t\t\tvar allDay;\n\t\n\t\t\tif (options.eventDataTransform) {\n\t\t\t\tinput = options.eventDataTransform(input);\n\t\t\t}\n\t\t\tif (source && source.eventDataTransform) {\n\t\t\t\tinput = source.eventDataTransform(input);\n\t\t\t}\n\t\n\t\t\t// Copy all properties over to the resulting object.\n\t\t\t// The special-case properties will be copied over afterwards.\n\t\t\t$.extend(out, input);\n\t\n\t\t\tif (source) {\n\t\t\t\tout.source = source;\n\t\t\t}\n\t\n\t\t\tout._id = input._id || (input.id === undefined ? '_fc' + eventGUID++ : input.id + '');\n\t\n\t\t\tif (input.className) {\n\t\t\t\tif (typeof input.className == 'string') {\n\t\t\t\t\tout.className = input.className.split(/\\s+/);\n\t\t\t\t}\n\t\t\t\telse { // assumed to be an array\n\t\t\t\t\tout.className = input.className;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tout.className = [];\n\t\t\t}\n\t\n\t\t\tstart = input.start || input.date; // \"date\" is an alias for \"start\"\n\t\t\tend = input.end;\n\t\n\t\t\t// parse as a time (Duration) if applicable\n\t\t\tif (isTimeString(start)) {\n\t\t\t\tstart = moment.duration(start);\n\t\t\t}\n\t\t\tif (isTimeString(end)) {\n\t\t\t\tend = moment.duration(end);\n\t\t\t}\n\t\n\t\t\tif (input.dow || moment.isDuration(start) || moment.isDuration(end)) {\n\t\n\t\t\t\t// the event is \"abstract\" (recurring) so don't calculate exact start/end dates just yet\n\t\t\t\tout.start = start ? moment.duration(start) : null; // will be a Duration or null\n\t\t\t\tout.end = end ? moment.duration(end) : null; // will be a Duration or null\n\t\t\t\tout._recurring = true; // our internal marker\n\t\t\t}\n\t\t\telse {\n\t\n\t\t\t\tif (start) {\n\t\t\t\t\tstart = t.moment(start);\n\t\t\t\t\tif (!start.isValid()) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (end) {\n\t\t\t\t\tend = t.moment(end);\n\t\t\t\t\tif (!end.isValid()) {\n\t\t\t\t\t\tend = null; // let defaults take over\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tallDay = input.allDay;\n\t\t\t\tif (allDay === undefined) { // still undefined? fallback to default\n\t\t\t\t\tallDay = firstDefined(\n\t\t\t\t\t\tsource ? source.allDayDefault : undefined,\n\t\t\t\t\t\toptions.allDayDefault\n\t\t\t\t\t);\n\t\t\t\t\t// still undefined? normalizeEventRange will calculate it\n\t\t\t\t}\n\t\n\t\t\t\tassignDatesToEvent(start, end, allDay, out);\n\t\t\t}\n\t\n\t\t\treturn out;\n\t\t}\n\t\n\t\n\t\t// Normalizes and assigns the given dates to the given partially-formed event object.\n\t\t// NOTE: mutates the given start/end moments. does not make a copy.\n\t\tfunction assignDatesToEvent(start, end, allDay, event) {\n\t\t\tevent.start = start;\n\t\t\tevent.end = end;\n\t\t\tevent.allDay = allDay;\n\t\t\tnormalizeEventRange(event);\n\t\t\tbackupEventDates(event);\n\t\t}\n\t\n\t\n\t\t// Ensures proper values for allDay/start/end. Accepts an Event object, or a plain object with event-ish properties.\n\t\t// NOTE: Will modify the given object.\n\t\tfunction normalizeEventRange(props) {\n\t\n\t\t\tnormalizeEventRangeTimes(props);\n\t\n\t\t\tif (props.end && !props.end.isAfter(props.start)) {\n\t\t\t\tprops.end = null;\n\t\t\t}\n\t\n\t\t\tif (!props.end) {\n\t\t\t\tif (options.forceEventDuration) {\n\t\t\t\t\tprops.end = t.getDefaultEventEnd(props.allDay, props.start);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tprops.end = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\n\t\t// Ensures the allDay property exists and the timeliness of the start/end dates are consistent\n\t\tfunction normalizeEventRangeTimes(range) {\n\t\t\tif (range.allDay == null) {\n\t\t\t\trange.allDay = !(range.start.hasTime() || (range.end && range.end.hasTime()));\n\t\t\t}\n\t\n\t\t\tif (range.allDay) {\n\t\t\t\trange.start.stripTime();\n\t\t\t\tif (range.end) {\n\t\t\t\t\t// TODO: consider nextDayThreshold here? If so, will require a lot of testing and adjustment\n\t\t\t\t\trange.end.stripTime();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!range.start.hasTime()) {\n\t\t\t\t\trange.start = t.rezoneDate(range.start); // will assign a 00:00 time\n\t\t\t\t}\n\t\t\t\tif (range.end && !range.end.hasTime()) {\n\t\t\t\t\trange.end = t.rezoneDate(range.end); // will assign a 00:00 time\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\n\t\t// If `range` is a proper range with a start and end, returns the original object.\n\t\t// If missing an end, computes a new range with an end, computing it as if it were an event.\n\t\t// TODO: make this a part of the event -> eventRange system\n\t\tfunction ensureVisibleEventRange(range) {\n\t\t\tvar allDay;\n\t\n\t\t\tif (!range.end) {\n\t\n\t\t\t\tallDay = range.allDay; // range might be more event-ish than we think\n\t\t\t\tif (allDay == null) {\n\t\t\t\t\tallDay = !range.start.hasTime();\n\t\t\t\t}\n\t\n\t\t\t\trange = $.extend({}, range); // make a copy, copying over other misc properties\n\t\t\t\trange.end = t.getDefaultEventEnd(allDay, range.start);\n\t\t\t}\n\t\t\treturn range;\n\t\t}\n\t\n\t\n\t\t// If the given event is a recurring event, break it down into an array of individual instances.\n\t\t// If not a recurring event, return an array with the single original event.\n\t\t// If given a falsy input (probably because of a failed buildEventFromInput call), returns an empty array.\n\t\t// HACK: can override the recurring window by providing custom rangeStart/rangeEnd (for businessHours).\n\t\tfunction expandEvent(abstractEvent, _rangeStart, _rangeEnd) {\n\t\t\tvar events = [];\n\t\t\tvar dowHash;\n\t\t\tvar dow;\n\t\t\tvar i;\n\t\t\tvar date;\n\t\t\tvar startTime, endTime;\n\t\t\tvar start, end;\n\t\t\tvar event;\n\t\n\t\t\t_rangeStart = _rangeStart || rangeStart;\n\t\t\t_rangeEnd = _rangeEnd || rangeEnd;\n\t\n\t\t\tif (abstractEvent) {\n\t\t\t\tif (abstractEvent._recurring) {\n\t\n\t\t\t\t\t// make a boolean hash as to whether the event occurs on each day-of-week\n\t\t\t\t\tif ((dow = abstractEvent.dow)) {\n\t\t\t\t\t\tdowHash = {};\n\t\t\t\t\t\tfor (i = 0; i < dow.length; i++) {\n\t\t\t\t\t\t\tdowHash[dow[i]] = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// iterate through every day in the current range\n\t\t\t\t\tdate = _rangeStart.clone().stripTime(); // holds the date of the current day\n\t\t\t\t\twhile (date.isBefore(_rangeEnd)) {\n\t\n\t\t\t\t\t\tif (!dowHash || dowHash[date.day()]) { // if everyday, or this particular day-of-week\n\t\n\t\t\t\t\t\t\tstartTime = abstractEvent.start; // the stored start and end properties are times (Durations)\n\t\t\t\t\t\t\tendTime = abstractEvent.end; // \"\n\t\t\t\t\t\t\tstart = date.clone();\n\t\t\t\t\t\t\tend = null;\n\t\n\t\t\t\t\t\t\tif (startTime) {\n\t\t\t\t\t\t\t\tstart = start.time(startTime);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (endTime) {\n\t\t\t\t\t\t\t\tend = date.clone().time(endTime);\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tevent = $.extend({}, abstractEvent); // make a copy of the original\n\t\t\t\t\t\t\tassignDatesToEvent(\n\t\t\t\t\t\t\t\tstart, end,\n\t\t\t\t\t\t\t\t!startTime && !endTime, // allDay?\n\t\t\t\t\t\t\t\tevent\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tevents.push(event);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tdate.add(1, 'days');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tevents.push(abstractEvent); // return the original event. will be a one-item array\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn events;\n\t\t}\n\t\n\t\n\t\n\t\t/* Event Modification Math\n\t\t-----------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Modifies an event and all related events by applying the given properties.\n\t\t// Special date-diffing logic is used for manipulation of dates.\n\t\t// If `props` does not contain start/end dates, the updated values are assumed to be the event's current start/end.\n\t\t// All date comparisons are done against the event's pristine _start and _end dates.\n\t\t// Returns an object with delta information and a function to undo all operations.\n\t\t// For making computations in a granularity greater than day/time, specify largeUnit.\n\t\t// NOTE: The given `newProps` might be mutated for normalization purposes.\n\t\tfunction mutateEvent(event, newProps, largeUnit) {\n\t\t\tvar miscProps = {};\n\t\t\tvar oldProps;\n\t\t\tvar clearEnd;\n\t\t\tvar startDelta;\n\t\t\tvar endDelta;\n\t\t\tvar durationDelta;\n\t\t\tvar undoFunc;\n\t\n\t\t\t// diffs the dates in the appropriate way, returning a duration\n\t\t\tfunction diffDates(date1, date0) { // date1 - date0\n\t\t\t\tif (largeUnit) {\n\t\t\t\t\treturn diffByUnit(date1, date0, largeUnit);\n\t\t\t\t}\n\t\t\t\telse if (newProps.allDay) {\n\t\t\t\t\treturn diffDay(date1, date0);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn diffDayTime(date1, date0);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tnewProps = newProps || {};\n\t\n\t\t\t// normalize new date-related properties\n\t\t\tif (!newProps.start) {\n\t\t\t\tnewProps.start = event.start.clone();\n\t\t\t}\n\t\t\tif (newProps.end === undefined) {\n\t\t\t\tnewProps.end = event.end ? event.end.clone() : null;\n\t\t\t}\n\t\t\tif (newProps.allDay == null) { // is null or undefined?\n\t\t\t\tnewProps.allDay = event.allDay;\n\t\t\t}\n\t\t\tnormalizeEventRange(newProps);\n\t\n\t\t\t// create normalized versions of the original props to compare against\n\t\t\t// need a real end value, for diffing\n\t\t\toldProps = {\n\t\t\t\tstart: event._start.clone(),\n\t\t\t\tend: event._end ? event._end.clone() : t.getDefaultEventEnd(event._allDay, event._start),\n\t\t\t\tallDay: newProps.allDay // normalize the dates in the same regard as the new properties\n\t\t\t};\n\t\t\tnormalizeEventRange(oldProps);\n\t\n\t\t\t// need to clear the end date if explicitly changed to null\n\t\t\tclearEnd = event._end !== null && newProps.end === null;\n\t\n\t\t\t// compute the delta for moving the start date\n\t\t\tstartDelta = diffDates(newProps.start, oldProps.start);\n\t\n\t\t\t// compute the delta for moving the end date\n\t\t\tif (newProps.end) {\n\t\t\t\tendDelta = diffDates(newProps.end, oldProps.end);\n\t\t\t\tdurationDelta = endDelta.subtract(startDelta);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdurationDelta = null;\n\t\t\t}\n\t\n\t\t\t// gather all non-date-related properties\n\t\t\t$.each(newProps, function(name, val) {\n\t\t\t\tif (isMiscEventPropName(name)) {\n\t\t\t\t\tif (val !== undefined) {\n\t\t\t\t\t\tmiscProps[name] = val;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\t// apply the operations to the event and all related events\n\t\t\tundoFunc = mutateEvents(\n\t\t\t\tclientEvents(event._id), // get events with this ID\n\t\t\t\tclearEnd,\n\t\t\t\tnewProps.allDay,\n\t\t\t\tstartDelta,\n\t\t\t\tdurationDelta,\n\t\t\t\tmiscProps\n\t\t\t);\n\t\n\t\t\treturn {\n\t\t\t\tdateDelta: startDelta,\n\t\t\t\tdurationDelta: durationDelta,\n\t\t\t\tundo: undoFunc\n\t\t\t};\n\t\t}\n\t\n\t\n\t\t// Modifies an array of events in the following ways (operations are in order):\n\t\t// - clear the event's `end`\n\t\t// - convert the event to allDay\n\t\t// - add `dateDelta` to the start and end\n\t\t// - add `durationDelta` to the event's duration\n\t\t// - assign `miscProps` to the event\n\t\t//\n\t\t// Returns a function that can be called to undo all the operations.\n\t\t//\n\t\t// TODO: don't use so many closures. possible memory issues when lots of events with same ID.\n\t\t//\n\t\tfunction mutateEvents(events, clearEnd, allDay, dateDelta, durationDelta, miscProps) {\n\t\t\tvar isAmbigTimezone = t.getIsAmbigTimezone();\n\t\t\tvar undoFunctions = [];\n\t\n\t\t\t// normalize zero-length deltas to be null\n\t\t\tif (dateDelta && !dateDelta.valueOf()) { dateDelta = null; }\n\t\t\tif (durationDelta && !durationDelta.valueOf()) { durationDelta = null; }\n\t\n\t\t\t$.each(events, function(i, event) {\n\t\t\t\tvar oldProps;\n\t\t\t\tvar newProps;\n\t\n\t\t\t\t// build an object holding all the old values, both date-related and misc.\n\t\t\t\t// for the undo function.\n\t\t\t\toldProps = {\n\t\t\t\t\tstart: event.start.clone(),\n\t\t\t\t\tend: event.end ? event.end.clone() : null,\n\t\t\t\t\tallDay: event.allDay\n\t\t\t\t};\n\t\t\t\t$.each(miscProps, function(name) {\n\t\t\t\t\toldProps[name] = event[name];\n\t\t\t\t});\n\t\n\t\t\t\t// new date-related properties. work off the original date snapshot.\n\t\t\t\t// ok to use references because they will be thrown away when backupEventDates is called.\n\t\t\t\tnewProps = {\n\t\t\t\t\tstart: event._start,\n\t\t\t\t\tend: event._end,\n\t\t\t\t\tallDay: allDay // normalize the dates in the same regard as the new properties\n\t\t\t\t};\n\t\t\t\tnormalizeEventRange(newProps); // massages start/end/allDay\n\t\n\t\t\t\t// strip or ensure the end date\n\t\t\t\tif (clearEnd) {\n\t\t\t\t\tnewProps.end = null;\n\t\t\t\t}\n\t\t\t\telse if (durationDelta && !newProps.end) { // the duration translation requires an end date\n\t\t\t\t\tnewProps.end = t.getDefaultEventEnd(newProps.allDay, newProps.start);\n\t\t\t\t}\n\t\n\t\t\t\tif (dateDelta) {\n\t\t\t\t\tnewProps.start.add(dateDelta);\n\t\t\t\t\tif (newProps.end) {\n\t\t\t\t\t\tnewProps.end.add(dateDelta);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (durationDelta) {\n\t\t\t\t\tnewProps.end.add(durationDelta); // end already ensured above\n\t\t\t\t}\n\t\n\t\t\t\t// if the dates have changed, and we know it is impossible to recompute the\n\t\t\t\t// timezone offsets, strip the zone.\n\t\t\t\tif (\n\t\t\t\t\tisAmbigTimezone &&\n\t\t\t\t\t!newProps.allDay &&\n\t\t\t\t\t(dateDelta || durationDelta)\n\t\t\t\t) {\n\t\t\t\t\tnewProps.start.stripZone();\n\t\t\t\t\tif (newProps.end) {\n\t\t\t\t\t\tnewProps.end.stripZone();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t$.extend(event, miscProps, newProps); // copy over misc props, then date-related props\n\t\t\t\tbackupEventDates(event); // regenerate internal _start/_end/_allDay\n\t\n\t\t\t\tundoFunctions.push(function() {\n\t\t\t\t\t$.extend(event, oldProps);\n\t\t\t\t\tbackupEventDates(event); // regenerate internal _start/_end/_allDay\n\t\t\t\t});\n\t\t\t});\n\t\n\t\t\treturn function() {\n\t\t\t\tfor (var i = 0; i < undoFunctions.length; i++) {\n\t\t\t\t\tundoFunctions[i]();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\n\t\n\t\t/* Business Hours\n\t\t-----------------------------------------------------------------------------------------*/\n\t\n\t\tt.getBusinessHoursEvents = getBusinessHoursEvents;\n\t\n\t\n\t\t// Returns an array of events as to when the business hours occur in the given view.\n\t\t// Abuse of our event system :(\n\t\tfunction getBusinessHoursEvents(wholeDay) {\n\t\t\tvar optionVal = options.businessHours;\n\t\t\tvar defaultVal = {\n\t\t\t\tclassName: 'fc-nonbusiness',\n\t\t\t\tstart: '09:00',\n\t\t\t\tend: '17:00',\n\t\t\t\tdow: [ 1, 2, 3, 4, 5 ], // monday - friday\n\t\t\t\trendering: 'inverse-background'\n\t\t\t};\n\t\t\tvar view = t.getView();\n\t\t\tvar eventInput;\n\t\n\t\t\tif (optionVal) { // `true` (which means \"use the defaults\") or an override object\n\t\t\t\teventInput = $.extend(\n\t\t\t\t\t{}, // copy to a new object in either case\n\t\t\t\t\tdefaultVal,\n\t\t\t\t\ttypeof optionVal === 'object' ? optionVal : {} // override the defaults\n\t\t\t\t);\n\t\t\t}\n\t\n\t\t\tif (eventInput) {\n\t\n\t\t\t\t// if a whole-day series is requested, clear the start/end times\n\t\t\t\tif (wholeDay) {\n\t\t\t\t\teventInput.start = null;\n\t\t\t\t\teventInput.end = null;\n\t\t\t\t}\n\t\n\t\t\t\treturn expandEvent(\n\t\t\t\t\tbuildEventFromInput(eventInput),\n\t\t\t\t\tview.start,\n\t\t\t\t\tview.end\n\t\t\t\t);\n\t\t\t}\n\t\n\t\t\treturn [];\n\t\t}\n\t\n\t\n\t\t/* Overlapping / Constraining\n\t\t-----------------------------------------------------------------------------------------*/\n\t\n\t\tt.isEventRangeAllowed = isEventRangeAllowed;\n\t\tt.isSelectionRangeAllowed = isSelectionRangeAllowed;\n\t\tt.isExternalDropRangeAllowed = isExternalDropRangeAllowed;\n\t\n\t\n\t\tfunction isEventRangeAllowed(range, event) {\n\t\t\tvar source = event.source || {};\n\t\t\tvar constraint = firstDefined(\n\t\t\t\tevent.constraint,\n\t\t\t\tsource.constraint,\n\t\t\t\toptions.eventConstraint\n\t\t\t);\n\t\t\tvar overlap = firstDefined(\n\t\t\t\tevent.overlap,\n\t\t\t\tsource.overlap,\n\t\t\t\toptions.eventOverlap\n\t\t\t);\n\t\n\t\t\trange = ensureVisibleEventRange(range); // ensure a proper range with an end for isRangeAllowed\n\t\n\t\t\treturn isRangeAllowed(range, constraint, overlap, event);\n\t\t}\n\t\n\t\n\t\tfunction isSelectionRangeAllowed(range) {\n\t\t\treturn isRangeAllowed(range, options.selectConstraint, options.selectOverlap);\n\t\t}\n\t\n\t\n\t\t// when `eventProps` is defined, consider this an event.\n\t\t// `eventProps` can contain misc non-date-related info about the event.\n\t\tfunction isExternalDropRangeAllowed(range, eventProps) {\n\t\t\tvar eventInput;\n\t\t\tvar event;\n\t\n\t\t\t// note: very similar logic is in View's reportExternalDrop\n\t\t\tif (eventProps) {\n\t\t\t\teventInput = $.extend({}, eventProps, range);\n\t\t\t\tevent = expandEvent(buildEventFromInput(eventInput))[0];\n\t\t\t}\n\t\n\t\t\tif (event) {\n\t\t\t\treturn isEventRangeAllowed(range, event);\n\t\t\t}\n\t\t\telse { // treat it as a selection\n\t\n\t\t\t\trange = ensureVisibleEventRange(range); // ensure a proper range with an end for isSelectionRangeAllowed\n\t\n\t\t\t\treturn isSelectionRangeAllowed(range);\n\t\t\t}\n\t\t}\n\t\n\t\n\t\t// Returns true if the given range (caused by an event drop/resize or a selection) is allowed to exist\n\t\t// according to the constraint/overlap settings.\n\t\t// `event` is not required if checking a selection.\n\t\tfunction isRangeAllowed(range, constraint, overlap, event) {\n\t\t\tvar constraintEvents;\n\t\t\tvar anyContainment;\n\t\t\tvar peerEvents;\n\t\t\tvar i, peerEvent;\n\t\t\tvar peerOverlap;\n\t\n\t\t\t// normalize. fyi, we're normalizing in too many places :(\n\t\t\trange = $.extend({}, range); // copy all properties in case there are misc non-date properties\n\t\t\trange.start = range.start.clone().stripZone();\n\t\t\trange.end = range.end.clone().stripZone();\n\t\n\t\t\t// the range must be fully contained by at least one of produced constraint events\n\t\t\tif (constraint != null) {\n\t\n\t\t\t\t// not treated as an event! intermediate data structure\n\t\t\t\t// TODO: use ranges in the future\n\t\t\t\tconstraintEvents = constraintToEvents(constraint);\n\t\n\t\t\t\tanyContainment = false;\n\t\t\t\tfor (i = 0; i < constraintEvents.length; i++) {\n\t\t\t\t\tif (eventContainsRange(constraintEvents[i], range)) {\n\t\t\t\t\t\tanyContainment = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (!anyContainment) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tpeerEvents = t.getPeerEvents(event, range);\n\t\n\t\t\tfor (i = 0; i < peerEvents.length; i++)  {\n\t\t\t\tpeerEvent = peerEvents[i];\n\t\n\t\t\t\t// there needs to be an actual intersection before disallowing anything\n\t\t\t\tif (eventIntersectsRange(peerEvent, range)) {\n\t\n\t\t\t\t\t// evaluate overlap for the given range and short-circuit if necessary\n\t\t\t\t\tif (overlap === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t// if the event's overlap is a test function, pass the peer event in question as the first param\n\t\t\t\t\telse if (typeof overlap === 'function' && !overlap(peerEvent, event)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// if we are computing if the given range is allowable for an event, consider the other event's\n\t\t\t\t\t// EventObject-specific or Source-specific `overlap` property\n\t\t\t\t\tif (event) {\n\t\t\t\t\t\tpeerOverlap = firstDefined(\n\t\t\t\t\t\t\tpeerEvent.overlap,\n\t\t\t\t\t\t\t(peerEvent.source || {}).overlap\n\t\t\t\t\t\t\t// we already considered the global `eventOverlap`\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (peerOverlap === false) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// if the peer event's overlap is a test function, pass the subject event as the first param\n\t\t\t\t\t\tif (typeof peerOverlap === 'function' && !peerOverlap(event, peerEvent)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t}\n\t\n\t\n\t\t// Given an event input from the API, produces an array of event objects. Possible event inputs:\n\t\t// 'businessHours'\n\t\t// An event ID (number or string)\n\t\t// An object with specific start/end dates or a recurring event (like what businessHours accepts)\n\t\tfunction constraintToEvents(constraintInput) {\n\t\n\t\t\tif (constraintInput === 'businessHours') {\n\t\t\t\treturn getBusinessHoursEvents();\n\t\t\t}\n\t\n\t\t\tif (typeof constraintInput === 'object') {\n\t\t\t\treturn expandEvent(buildEventFromInput(constraintInput));\n\t\t\t}\n\t\n\t\t\treturn clientEvents(constraintInput); // probably an ID\n\t\t}\n\t\n\t\n\t\t// Does the event's date range fully contain the given range?\n\t\t// start/end already assumed to have stripped zones :(\n\t\tfunction eventContainsRange(event, range) {\n\t\t\tvar eventStart = event.start.clone().stripZone();\n\t\t\tvar eventEnd = t.getEventEnd(event).stripZone();\n\t\n\t\t\treturn range.start >= eventStart && range.end <= eventEnd;\n\t\t}\n\t\n\t\n\t\t// Does the event's date range intersect with the given range?\n\t\t// start/end already assumed to have stripped zones :(\n\t\tfunction eventIntersectsRange(event, range) {\n\t\t\tvar eventStart = event.start.clone().stripZone();\n\t\t\tvar eventEnd = t.getEventEnd(event).stripZone();\n\t\n\t\t\treturn range.start < eventEnd && range.end > eventStart;\n\t\t}\n\t\n\t\n\t\tt.getEventCache = function() {\n\t\t\treturn cache;\n\t\t};\n\t\n\t}\n\t\n\t\n\t// Returns a list of events that the given event should be compared against when being considered for a move to\n\t// the specified range. Attached to the Calendar's prototype because EventManager is a mixin for a Calendar.\n\tCalendar.prototype.getPeerEvents = function(event, range) {\n\t\tvar cache = this.getEventCache();\n\t\tvar peerEvents = [];\n\t\tvar i, otherEvent;\n\t\n\t\tfor (i = 0; i < cache.length; i++) {\n\t\t\totherEvent = cache[i];\n\t\t\tif (\n\t\t\t\t!event ||\n\t\t\t\tevent._id !== otherEvent._id // don't compare the event to itself or other related [repeating] events\n\t\t\t) {\n\t\t\t\tpeerEvents.push(otherEvent);\n\t\t\t}\n\t\t}\n\t\n\t\treturn peerEvents;\n\t};\n\t\n\t\n\t// updates the \"backup\" properties, which are preserved in order to compute diffs later on.\n\tfunction backupEventDates(event) {\n\t\tevent._allDay = event.allDay;\n\t\tevent._start = event.start.clone();\n\t\tevent._end = event.end ? event.end.clone() : null;\n\t}\n\t\n\t;;\n\t\n\t/* An abstract class for the \"basic\" views, as well as month view. Renders one or more rows of day cells.\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t// It is a manager for a DayGrid subcomponent, which does most of the heavy lifting.\n\t// It is responsible for managing width/height.\n\t\n\tvar BasicView = View.extend({\n\t\n\t\tdayGrid: null, // the main subcomponent that does most of the heavy lifting\n\t\n\t\tdayNumbersVisible: false, // display day numbers on each day cell?\n\t\tweekNumbersVisible: false, // display week numbers along the side?\n\t\n\t\tweekNumberWidth: null, // width of all the week-number cells running down the side\n\t\n\t\theadRowEl: null, // the fake row element of the day-of-week header\n\t\n\t\n\t\tinitialize: function() {\n\t\t\tthis.dayGrid = new DayGrid(this);\n\t\t\tthis.coordMap = this.dayGrid.coordMap; // the view's date-to-cell mapping is identical to the subcomponent's\n\t\t},\n\t\n\t\n\t\t// Sets the display range and computes all necessary dates\n\t\tsetRange: function(range) {\n\t\t\tView.prototype.setRange.call(this, range); // call the super-method\n\t\n\t\t\tthis.dayGrid.breakOnWeeks = /year|month|week/.test(this.intervalUnit); // do before setRange\n\t\t\tthis.dayGrid.setRange(range);\n\t\t},\n\t\n\t\n\t\t// Compute the value to feed into setRange. Overrides superclass.\n\t\tcomputeRange: function(date) {\n\t\t\tvar range = View.prototype.computeRange.call(this, date); // get value from the super-method\n\t\n\t\t\t// year and month views should be aligned with weeks. this is already done for week\n\t\t\tif (/year|month/.test(range.intervalUnit)) {\n\t\t\t\trange.start.startOf('week');\n\t\t\t\trange.start = this.skipHiddenDays(range.start);\n\t\n\t\t\t\t// make end-of-week if not already\n\t\t\t\tif (range.end.weekday()) {\n\t\t\t\t\trange.end.add(1, 'week').startOf('week');\n\t\t\t\t\trange.end = this.skipHiddenDays(range.end, -1, true); // exclusively move backwards\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn range;\n\t\t},\n\t\n\t\n\t\t// Renders the view into `this.el`, which should already be assigned\n\t\trenderDates: function() {\n\t\n\t\t\tthis.dayNumbersVisible = this.dayGrid.rowCnt > 1; // TODO: make grid responsible\n\t\t\tthis.weekNumbersVisible = this.opt('weekNumbers');\n\t\t\tthis.dayGrid.numbersVisible = this.dayNumbersVisible || this.weekNumbersVisible;\n\t\n\t\t\tthis.el.addClass('fc-basic-view').html(this.renderHtml());\n\t\n\t\t\tthis.headRowEl = this.el.find('thead .fc-row');\n\t\n\t\t\tthis.scrollerEl = this.el.find('.fc-day-grid-container');\n\t\t\tthis.dayGrid.coordMap.containerEl = this.scrollerEl; // constrain clicks/etc to the dimensions of the scroller\n\t\n\t\t\tthis.dayGrid.setElement(this.el.find('.fc-day-grid'));\n\t\t\tthis.dayGrid.renderDates(this.hasRigidRows());\n\t\t},\n\t\n\t\n\t\t// Unrenders the content of the view. Since we haven't separated skeleton rendering from date rendering,\n\t\t// always completely kill the dayGrid's rendering.\n\t\tunrenderDates: function() {\n\t\t\tthis.dayGrid.unrenderDates();\n\t\t\tthis.dayGrid.removeElement();\n\t\t},\n\t\n\t\n\t\trenderBusinessHours: function() {\n\t\t\tthis.dayGrid.renderBusinessHours();\n\t\t},\n\t\n\t\n\t\t// Builds the HTML skeleton for the view.\n\t\t// The day-grid component will render inside of a container defined by this HTML.\n\t\trenderHtml: function() {\n\t\t\treturn '' +\n\t\t\t\t'<table>' +\n\t\t\t\t\t'<thead class=\"fc-head\">' +\n\t\t\t\t\t\t'<tr>' +\n\t\t\t\t\t\t\t'<td class=\"' + this.widgetHeaderClass + '\">' +\n\t\t\t\t\t\t\t\tthis.dayGrid.headHtml() + // render the day-of-week headers\n\t\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t\t'</tr>' +\n\t\t\t\t\t'</thead>' +\n\t\t\t\t\t'<tbody class=\"fc-body\">' +\n\t\t\t\t\t\t'<tr>' +\n\t\t\t\t\t\t\t'<td class=\"' + this.widgetContentClass + '\">' +\n\t\t\t\t\t\t\t\t'<div class=\"fc-day-grid-container\">' +\n\t\t\t\t\t\t\t\t\t'<div class=\"fc-day-grid\"/>' +\n\t\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t\t'</tr>' +\n\t\t\t\t\t'</tbody>' +\n\t\t\t\t'</table>';\n\t\t},\n\t\n\t\n\t\t// Generates the HTML that will go before the day-of week header cells.\n\t\t// Queried by the DayGrid subcomponent when generating rows. Ordering depends on isRTL.\n\t\theadIntroHtml: function() {\n\t\t\tif (this.weekNumbersVisible) {\n\t\t\t\treturn '' +\n\t\t\t\t\t'<th class=\"fc-week-number ' + this.widgetHeaderClass + '\" ' + this.weekNumberStyleAttr() + '>' +\n\t\t\t\t\t\t'<span>' + // needed for matchCellWidths\n\t\t\t\t\t\t\thtmlEscape(this.opt('weekNumberTitle')) +\n\t\t\t\t\t\t'</span>' +\n\t\t\t\t\t'</th>';\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Generates the HTML that will go before content-skeleton cells that display the day/week numbers.\n\t\t// Queried by the DayGrid subcomponent. Ordering depends on isRTL.\n\t\tnumberIntroHtml: function(row) {\n\t\t\tif (this.weekNumbersVisible) {\n\t\t\t\treturn '' +\n\t\t\t\t\t'<td class=\"fc-week-number\" ' + this.weekNumberStyleAttr() + '>' +\n\t\t\t\t\t\t'<span>' + // needed for matchCellWidths\n\t\t\t\t\t\t\tthis.dayGrid.getCell(row, 0).start.format('w') +\n\t\t\t\t\t\t'</span>' +\n\t\t\t\t\t'</td>';\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Generates the HTML that goes before the day bg cells for each day-row.\n\t\t// Queried by the DayGrid subcomponent. Ordering depends on isRTL.\n\t\tdayIntroHtml: function() {\n\t\t\tif (this.weekNumbersVisible) {\n\t\t\t\treturn '<td class=\"fc-week-number ' + this.widgetContentClass + '\" ' +\n\t\t\t\t\tthis.weekNumberStyleAttr() + '></td>';\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Generates the HTML that goes before every other type of row generated by DayGrid. Ordering depends on isRTL.\n\t\t// Affects helper-skeleton and highlight-skeleton rows.\n\t\tintroHtml: function() {\n\t\t\tif (this.weekNumbersVisible) {\n\t\t\t\treturn '<td class=\"fc-week-number\" ' + this.weekNumberStyleAttr() + '></td>';\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Generates the HTML for the <td>s of the \"number\" row in the DayGrid's content skeleton.\n\t\t// The number row will only exist if either day numbers or week numbers are turned on.\n\t\tnumberCellHtml: function(cell) {\n\t\t\tvar date = cell.start;\n\t\t\tvar classes;\n\t\n\t\t\tif (!this.dayNumbersVisible) { // if there are week numbers but not day numbers\n\t\t\t\treturn '<td/>'; //  will create an empty space above events :(\n\t\t\t}\n\t\n\t\t\tclasses = this.dayGrid.getDayClasses(date);\n\t\t\tclasses.unshift('fc-day-number');\n\t\n\t\t\treturn '' +\n\t\t\t\t'<td class=\"' + classes.join(' ') + '\" data-date=\"' + date.format() + '\">' +\n\t\t\t\t\tdate.date() +\n\t\t\t\t'</td>';\n\t\t},\n\t\n\t\n\t\t// Generates an HTML attribute string for setting the width of the week number column, if it is known\n\t\tweekNumberStyleAttr: function() {\n\t\t\tif (this.weekNumberWidth !== null) {\n\t\t\t\treturn 'style=\"width:' + this.weekNumberWidth + 'px\"';\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\n\t\n\t\t// Determines whether each row should have a constant height\n\t\thasRigidRows: function() {\n\t\t\tvar eventLimit = this.opt('eventLimit');\n\t\t\treturn eventLimit && typeof eventLimit !== 'number';\n\t\t},\n\t\n\t\n\t\t/* Dimensions\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Refreshes the horizontal dimensions of the view\n\t\tupdateWidth: function() {\n\t\t\tif (this.weekNumbersVisible) {\n\t\t\t\t// Make sure all week number cells running down the side have the same width.\n\t\t\t\t// Record the width for cells created later.\n\t\t\t\tthis.weekNumberWidth = matchCellWidths(\n\t\t\t\t\tthis.el.find('.fc-week-number')\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Adjusts the vertical dimensions of the view to the specified values\n\t\tsetHeight: function(totalHeight, isAuto) {\n\t\t\tvar eventLimit = this.opt('eventLimit');\n\t\t\tvar scrollerHeight;\n\t\n\t\t\t// reset all heights to be natural\n\t\t\tunsetScroller(this.scrollerEl);\n\t\t\tuncompensateScroll(this.headRowEl);\n\t\n\t\t\tthis.dayGrid.removeSegPopover(); // kill the \"more\" popover if displayed\n\t\n\t\t\t// is the event limit a constant level number?\n\t\t\tif (eventLimit && typeof eventLimit === 'number') {\n\t\t\t\tthis.dayGrid.limitRows(eventLimit); // limit the levels first so the height can redistribute after\n\t\t\t}\n\t\n\t\t\tscrollerHeight = this.computeScrollerHeight(totalHeight);\n\t\t\tthis.setGridHeight(scrollerHeight, isAuto);\n\t\n\t\t\t// is the event limit dynamically calculated?\n\t\t\tif (eventLimit && typeof eventLimit !== 'number') {\n\t\t\t\tthis.dayGrid.limitRows(eventLimit); // limit the levels after the grid's row heights have been set\n\t\t\t}\n\t\n\t\t\tif (!isAuto && setPotentialScroller(this.scrollerEl, scrollerHeight)) { // using scrollbars?\n\t\n\t\t\t\tcompensateScroll(this.headRowEl, getScrollbarWidths(this.scrollerEl));\n\t\n\t\t\t\t// doing the scrollbar compensation might have created text overflow which created more height. redo\n\t\t\t\tscrollerHeight = this.computeScrollerHeight(totalHeight);\n\t\t\t\tthis.scrollerEl.height(scrollerHeight);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Sets the height of just the DayGrid component in this view\n\t\tsetGridHeight: function(height, isAuto) {\n\t\t\tif (isAuto) {\n\t\t\t\tundistributeHeight(this.dayGrid.rowEls); // let the rows be their natural height with no expanding\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdistributeHeight(this.dayGrid.rowEls, height, true); // true = compensate for height-hogging rows\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t/* Events\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders the given events onto the view and populates the segments array\n\t\trenderEvents: function(events) {\n\t\t\tthis.dayGrid.renderEvents(events);\n\t\n\t\t\tthis.updateHeight(); // must compensate for events that overflow the row\n\t\t},\n\t\n\t\n\t\t// Retrieves all segment objects that are rendered in the view\n\t\tgetEventSegs: function() {\n\t\t\treturn this.dayGrid.getEventSegs();\n\t\t},\n\t\n\t\n\t\t// Unrenders all event elements and clears internal segment data\n\t\tunrenderEvents: function() {\n\t\t\tthis.dayGrid.unrenderEvents();\n\t\n\t\t\t// we DON'T need to call updateHeight() because:\n\t\t\t// A) a renderEvents() call always happens after this, which will eventually call updateHeight()\n\t\t\t// B) in IE8, this causes a flash whenever events are rerendered\n\t\t},\n\t\n\t\n\t\t/* Dragging (for both events and external elements)\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// A returned value of `true` signals that a mock \"helper\" event has been rendered.\n\t\trenderDrag: function(dropLocation, seg) {\n\t\t\treturn this.dayGrid.renderDrag(dropLocation, seg);\n\t\t},\n\t\n\t\n\t\tunrenderDrag: function() {\n\t\t\tthis.dayGrid.unrenderDrag();\n\t\t},\n\t\n\t\n\t\t/* Selection\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders a visual indication of a selection\n\t\trenderSelection: function(range) {\n\t\t\tthis.dayGrid.renderSelection(range);\n\t\t},\n\t\n\t\n\t\t// Unrenders a visual indications of a selection\n\t\tunrenderSelection: function() {\n\t\t\tthis.dayGrid.unrenderSelection();\n\t\t}\n\t\n\t});\n\t\n\t;;\n\t\n\t/* A month view with day cells running in rows (one-per-week) and columns\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t\n\tvar MonthView = BasicView.extend({\n\t\n\t\t// Produces information about what range to display\n\t\tcomputeRange: function(date) {\n\t\t\tvar range = BasicView.prototype.computeRange.call(this, date); // get value from super-method\n\t\t\tvar rowCnt;\n\t\n\t\t\t// ensure 6 weeks\n\t\t\tif (this.isFixedWeeks()) {\n\t\t\t\trowCnt = Math.ceil(range.end.diff(range.start, 'weeks', true)); // could be partial weeks due to hiddenDays\n\t\t\t\trange.end.add(6 - rowCnt, 'weeks');\n\t\t\t}\n\t\n\t\t\treturn range;\n\t\t},\n\t\n\t\n\t\t// Overrides the default BasicView behavior to have special multi-week auto-height logic\n\t\tsetGridHeight: function(height, isAuto) {\n\t\n\t\t\tisAuto = isAuto || this.opt('weekMode') === 'variable'; // LEGACY: weekMode is deprecated\n\t\n\t\t\t// if auto, make the height of each row the height that it would be if there were 6 weeks\n\t\t\tif (isAuto) {\n\t\t\t\theight *= this.rowCnt / 6;\n\t\t\t}\n\t\n\t\t\tdistributeHeight(this.dayGrid.rowEls, height, !isAuto); // if auto, don't compensate for height-hogging rows\n\t\t},\n\t\n\t\n\t\tisFixedWeeks: function() {\n\t\t\tvar weekMode = this.opt('weekMode'); // LEGACY: weekMode is deprecated\n\t\t\tif (weekMode) {\n\t\t\t\treturn weekMode === 'fixed'; // if any other type of weekMode, assume NOT fixed\n\t\t\t}\n\t\n\t\t\treturn this.opt('fixedWeekCount');\n\t\t}\n\t\n\t});\n\t\n\t;;\n\t\n\tfcViews.basic = {\n\t\t'class': BasicView\n\t};\n\t\n\tfcViews.basicDay = {\n\t\ttype: 'basic',\n\t\tduration: { days: 1 }\n\t};\n\t\n\tfcViews.basicWeek = {\n\t\ttype: 'basic',\n\t\tduration: { weeks: 1 }\n\t};\n\t\n\tfcViews.month = {\n\t\t'class': MonthView,\n\t\tduration: { months: 1 }, // important for prev/next\n\t\tdefaults: {\n\t\t\tfixedWeekCount: true\n\t\t}\n\t};\n\t;;\n\t\n\t/* An abstract class for all agenda-related views. Displays one more columns with time slots running vertically.\n\t----------------------------------------------------------------------------------------------------------------------*/\n\t// Is a manager for the TimeGrid subcomponent and possibly the DayGrid subcomponent (if allDaySlot is on).\n\t// Responsible for managing width/height.\n\t\n\tvar AgendaView = View.extend({\n\t\n\t\ttimeGrid: null, // the main time-grid subcomponent of this view\n\t\tdayGrid: null, // the \"all-day\" subcomponent. if all-day is turned off, this will be null\n\t\n\t\taxisWidth: null, // the width of the time axis running down the side\n\t\n\t\tnoScrollRowEls: null, // set of fake row elements that must compensate when scrollerEl has scrollbars\n\t\n\t\t// when the time-grid isn't tall enough to occupy the given height, we render an <hr> underneath\n\t\tbottomRuleEl: null,\n\t\tbottomRuleHeight: null,\n\t\n\t\n\t\tinitialize: function() {\n\t\t\tthis.timeGrid = new TimeGrid(this);\n\t\n\t\t\tif (this.opt('allDaySlot')) { // should we display the \"all-day\" area?\n\t\t\t\tthis.dayGrid = new DayGrid(this); // the all-day subcomponent of this view\n\t\n\t\t\t\t// the coordinate grid will be a combination of both subcomponents' grids\n\t\t\t\tthis.coordMap = new ComboCoordMap([\n\t\t\t\t\tthis.dayGrid.coordMap,\n\t\t\t\t\tthis.timeGrid.coordMap\n\t\t\t\t]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.coordMap = this.timeGrid.coordMap;\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t/* Rendering\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Sets the display range and computes all necessary dates\n\t\tsetRange: function(range) {\n\t\t\tView.prototype.setRange.call(this, range); // call the super-method\n\t\n\t\t\tthis.timeGrid.setRange(range);\n\t\t\tif (this.dayGrid) {\n\t\t\t\tthis.dayGrid.setRange(range);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Renders the view into `this.el`, which has already been assigned\n\t\trenderDates: function() {\n\t\n\t\t\tthis.el.addClass('fc-agenda-view').html(this.renderHtml());\n\t\n\t\t\t// the element that wraps the time-grid that will probably scroll\n\t\t\tthis.scrollerEl = this.el.find('.fc-time-grid-container');\n\t\t\tthis.timeGrid.coordMap.containerEl = this.scrollerEl; // don't accept clicks/etc outside of this\n\t\n\t\t\tthis.timeGrid.setElement(this.el.find('.fc-time-grid'));\n\t\t\tthis.timeGrid.renderDates();\n\t\n\t\t\t// the <hr> that sometimes displays under the time-grid\n\t\t\tthis.bottomRuleEl = $('<hr class=\"fc-divider ' + this.widgetHeaderClass + '\"/>')\n\t\t\t\t.appendTo(this.timeGrid.el); // inject it into the time-grid\n\t\n\t\t\tif (this.dayGrid) {\n\t\t\t\tthis.dayGrid.setElement(this.el.find('.fc-day-grid'));\n\t\t\t\tthis.dayGrid.renderDates();\n\t\n\t\t\t\t// have the day-grid extend it's coordinate area over the <hr> dividing the two grids\n\t\t\t\tthis.dayGrid.bottomCoordPadding = this.dayGrid.el.next('hr').outerHeight();\n\t\t\t}\n\t\n\t\t\tthis.noScrollRowEls = this.el.find('.fc-row:not(.fc-scroller *)'); // fake rows not within the scroller\n\t\t},\n\t\n\t\n\t\t// Unrenders the content of the view. Since we haven't separated skeleton rendering from date rendering,\n\t\t// always completely kill each grid's rendering.\n\t\tunrenderDates: function() {\n\t\t\tthis.timeGrid.unrenderDates();\n\t\t\tthis.timeGrid.removeElement();\n\t\n\t\t\tif (this.dayGrid) {\n\t\t\t\tthis.dayGrid.unrenderDates();\n\t\t\t\tthis.dayGrid.removeElement();\n\t\t\t}\n\t\t},\n\t\n\t\n\t\trenderBusinessHours: function() {\n\t\t\tthis.timeGrid.renderBusinessHours();\n\t\n\t\t\tif (this.dayGrid) {\n\t\t\t\tthis.dayGrid.renderBusinessHours();\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Builds the HTML skeleton for the view.\n\t\t// The day-grid and time-grid components will render inside containers defined by this HTML.\n\t\trenderHtml: function() {\n\t\t\treturn '' +\n\t\t\t\t'<table>' +\n\t\t\t\t\t'<thead class=\"fc-head\">' +\n\t\t\t\t\t\t'<tr>' +\n\t\t\t\t\t\t\t'<td class=\"' + this.widgetHeaderClass + '\">' +\n\t\t\t\t\t\t\t\tthis.timeGrid.headHtml() + // render the day-of-week headers\n\t\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t\t'</tr>' +\n\t\t\t\t\t'</thead>' +\n\t\t\t\t\t'<tbody class=\"fc-body\">' +\n\t\t\t\t\t\t'<tr>' +\n\t\t\t\t\t\t\t'<td class=\"' + this.widgetContentClass + '\">' +\n\t\t\t\t\t\t\t\t(this.dayGrid ?\n\t\t\t\t\t\t\t\t\t'<div class=\"fc-day-grid\"/>' +\n\t\t\t\t\t\t\t\t\t'<hr class=\"fc-divider ' + this.widgetHeaderClass + '\"/>' :\n\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t\t'<div class=\"fc-time-grid-container\">' +\n\t\t\t\t\t\t\t\t\t'<div class=\"fc-time-grid\"/>' +\n\t\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t\t'</tr>' +\n\t\t\t\t\t'</tbody>' +\n\t\t\t\t'</table>';\n\t\t},\n\t\n\t\n\t\t// Generates the HTML that will go before the day-of week header cells.\n\t\t// Queried by the TimeGrid subcomponent when generating rows. Ordering depends on isRTL.\n\t\theadIntroHtml: function() {\n\t\t\tvar date;\n\t\t\tvar weekText;\n\t\n\t\t\tif (this.opt('weekNumbers')) {\n\t\t\t\tdate = this.timeGrid.getCell(0).start;\n\t\t\t\tweekText = date.format(this.opt('smallWeekFormat'));\n\t\n\t\t\t\treturn '' +\n\t\t\t\t\t'<th class=\"fc-axis fc-week-number ' + this.widgetHeaderClass + '\" ' + this.axisStyleAttr() + '>' +\n\t\t\t\t\t\t'<span>' + // needed for matchCellWidths\n\t\t\t\t\t\t\thtmlEscape(weekText) +\n\t\t\t\t\t\t'</span>' +\n\t\t\t\t\t'</th>';\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn '<th class=\"fc-axis ' + this.widgetHeaderClass + '\" ' + this.axisStyleAttr() + '></th>';\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Generates the HTML that goes before the all-day cells.\n\t\t// Queried by the DayGrid subcomponent when generating rows. Ordering depends on isRTL.\n\t\tdayIntroHtml: function() {\n\t\t\treturn '' +\n\t\t\t\t'<td class=\"fc-axis ' + this.widgetContentClass + '\" ' + this.axisStyleAttr() + '>' +\n\t\t\t\t\t'<span>' + // needed for matchCellWidths\n\t\t\t\t\t\t(this.opt('allDayHtml') || htmlEscape(this.opt('allDayText'))) +\n\t\t\t\t\t'</span>' +\n\t\t\t\t'</td>';\n\t\t},\n\t\n\t\n\t\t// Generates the HTML that goes before the bg of the TimeGrid slot area. Long vertical column.\n\t\tslotBgIntroHtml: function() {\n\t\t\treturn '<td class=\"fc-axis ' + this.widgetContentClass + '\" ' + this.axisStyleAttr() + '></td>';\n\t\t},\n\t\n\t\n\t\t// Generates the HTML that goes before all other types of cells.\n\t\t// Affects content-skeleton, helper-skeleton, highlight-skeleton for both the time-grid and day-grid.\n\t\t// Queried by the TimeGrid and DayGrid subcomponents when generating rows. Ordering depends on isRTL.\n\t\tintroHtml: function() {\n\t\t\treturn '<td class=\"fc-axis\" ' + this.axisStyleAttr() + '></td>';\n\t\t},\n\t\n\t\n\t\t// Generates an HTML attribute string for setting the width of the axis, if it is known\n\t\taxisStyleAttr: function() {\n\t\t\tif (this.axisWidth !== null) {\n\t\t\t\t return 'style=\"width:' + this.axisWidth + 'px\"';\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\n\t\n\t\t/* Dimensions\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\tupdateSize: function(isResize) {\n\t\t\tthis.timeGrid.updateSize(isResize);\n\t\n\t\t\tView.prototype.updateSize.call(this, isResize); // call the super-method\n\t\t},\n\t\n\t\n\t\t// Refreshes the horizontal dimensions of the view\n\t\tupdateWidth: function() {\n\t\t\t// make all axis cells line up, and record the width so newly created axis cells will have it\n\t\t\tthis.axisWidth = matchCellWidths(this.el.find('.fc-axis'));\n\t\t},\n\t\n\t\n\t\t// Adjusts the vertical dimensions of the view to the specified values\n\t\tsetHeight: function(totalHeight, isAuto) {\n\t\t\tvar eventLimit;\n\t\t\tvar scrollerHeight;\n\t\n\t\t\tif (this.bottomRuleHeight === null) {\n\t\t\t\t// calculate the height of the rule the very first time\n\t\t\t\tthis.bottomRuleHeight = this.bottomRuleEl.outerHeight();\n\t\t\t}\n\t\t\tthis.bottomRuleEl.hide(); // .show() will be called later if this <hr> is necessary\n\t\n\t\t\t// reset all dimensions back to the original state\n\t\t\tthis.scrollerEl.css('overflow', '');\n\t\t\tunsetScroller(this.scrollerEl);\n\t\t\tuncompensateScroll(this.noScrollRowEls);\n\t\n\t\t\t// limit number of events in the all-day area\n\t\t\tif (this.dayGrid) {\n\t\t\t\tthis.dayGrid.removeSegPopover(); // kill the \"more\" popover if displayed\n\t\n\t\t\t\teventLimit = this.opt('eventLimit');\n\t\t\t\tif (eventLimit && typeof eventLimit !== 'number') {\n\t\t\t\t\teventLimit = AGENDA_ALL_DAY_EVENT_LIMIT; // make sure \"auto\" goes to a real number\n\t\t\t\t}\n\t\t\t\tif (eventLimit) {\n\t\t\t\t\tthis.dayGrid.limitRows(eventLimit);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (!isAuto) { // should we force dimensions of the scroll container, or let the contents be natural height?\n\t\n\t\t\t\tscrollerHeight = this.computeScrollerHeight(totalHeight);\n\t\t\t\tif (setPotentialScroller(this.scrollerEl, scrollerHeight)) { // using scrollbars?\n\t\n\t\t\t\t\t// make the all-day and header rows lines up\n\t\t\t\t\tcompensateScroll(this.noScrollRowEls, getScrollbarWidths(this.scrollerEl));\n\t\n\t\t\t\t\t// the scrollbar compensation might have changed text flow, which might affect height, so recalculate\n\t\t\t\t\t// and reapply the desired height to the scroller.\n\t\t\t\t\tscrollerHeight = this.computeScrollerHeight(totalHeight);\n\t\t\t\t\tthis.scrollerEl.height(scrollerHeight);\n\t\t\t\t}\n\t\t\t\telse { // no scrollbars\n\t\t\t\t\t// still, force a height and display the bottom rule (marks the end of day)\n\t\t\t\t\tthis.scrollerEl.height(scrollerHeight).css('overflow', 'hidden'); // in case <hr> goes outside\n\t\t\t\t\tthis.bottomRuleEl.show();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Computes the initial pre-configured scroll state prior to allowing the user to change it\n\t\tcomputeInitialScroll: function() {\n\t\t\tvar scrollTime = moment.duration(this.opt('scrollTime'));\n\t\t\tvar top = this.timeGrid.computeTimeTop(scrollTime);\n\t\n\t\t\t// zoom can give weird floating-point values. rather scroll a little bit further\n\t\t\ttop = Math.ceil(top);\n\t\n\t\t\tif (top) {\n\t\t\t\ttop++; // to overcome top border that slots beyond the first have. looks better\n\t\t\t}\n\t\n\t\t\treturn top;\n\t\t},\n\t\n\t\n\t\t/* Events\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders events onto the view and populates the View's segment array\n\t\trenderEvents: function(events) {\n\t\t\tvar dayEvents = [];\n\t\t\tvar timedEvents = [];\n\t\t\tvar daySegs = [];\n\t\t\tvar timedSegs;\n\t\t\tvar i;\n\t\n\t\t\t// separate the events into all-day and timed\n\t\t\tfor (i = 0; i < events.length; i++) {\n\t\t\t\tif (events[i].allDay) {\n\t\t\t\t\tdayEvents.push(events[i]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttimedEvents.push(events[i]);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// render the events in the subcomponents\n\t\t\ttimedSegs = this.timeGrid.renderEvents(timedEvents);\n\t\t\tif (this.dayGrid) {\n\t\t\t\tdaySegs = this.dayGrid.renderEvents(dayEvents);\n\t\t\t}\n\t\n\t\t\t// the all-day area is flexible and might have a lot of events, so shift the height\n\t\t\tthis.updateHeight();\n\t\t},\n\t\n\t\n\t\t// Retrieves all segment objects that are rendered in the view\n\t\tgetEventSegs: function() {\n\t\t\treturn this.timeGrid.getEventSegs().concat(\n\t\t\t\tthis.dayGrid ? this.dayGrid.getEventSegs() : []\n\t\t\t);\n\t\t},\n\t\n\t\n\t\t// Unrenders all event elements and clears internal segment data\n\t\tunrenderEvents: function() {\n\t\n\t\t\t// unrender the events in the subcomponents\n\t\t\tthis.timeGrid.unrenderEvents();\n\t\t\tif (this.dayGrid) {\n\t\t\t\tthis.dayGrid.unrenderEvents();\n\t\t\t}\n\t\n\t\t\t// we DON'T need to call updateHeight() because:\n\t\t\t// A) a renderEvents() call always happens after this, which will eventually call updateHeight()\n\t\t\t// B) in IE8, this causes a flash whenever events are rerendered\n\t\t},\n\t\n\t\n\t\t/* Dragging (for events and external elements)\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// A returned value of `true` signals that a mock \"helper\" event has been rendered.\n\t\trenderDrag: function(dropLocation, seg) {\n\t\t\tif (dropLocation.start.hasTime()) {\n\t\t\t\treturn this.timeGrid.renderDrag(dropLocation, seg);\n\t\t\t}\n\t\t\telse if (this.dayGrid) {\n\t\t\t\treturn this.dayGrid.renderDrag(dropLocation, seg);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\tunrenderDrag: function() {\n\t\t\tthis.timeGrid.unrenderDrag();\n\t\t\tif (this.dayGrid) {\n\t\t\t\tthis.dayGrid.unrenderDrag();\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t/* Selection\n\t\t------------------------------------------------------------------------------------------------------------------*/\n\t\n\t\n\t\t// Renders a visual indication of a selection\n\t\trenderSelection: function(range) {\n\t\t\tif (range.start.hasTime() || range.end.hasTime()) {\n\t\t\t\tthis.timeGrid.renderSelection(range);\n\t\t\t}\n\t\t\telse if (this.dayGrid) {\n\t\t\t\tthis.dayGrid.renderSelection(range);\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t// Unrenders a visual indications of a selection\n\t\tunrenderSelection: function() {\n\t\t\tthis.timeGrid.unrenderSelection();\n\t\t\tif (this.dayGrid) {\n\t\t\t\tthis.dayGrid.unrenderSelection();\n\t\t\t}\n\t\t}\n\t\n\t});\n\t\n\t;;\n\t\n\tvar AGENDA_ALL_DAY_EVENT_LIMIT = 5;\n\t\n\t// potential nice values for the slot-duration and interval-duration\n\t// from largest to smallest\n\tvar AGENDA_STOCK_SUB_DURATIONS = [\n\t\t{ hours: 1 },\n\t\t{ minutes: 30 },\n\t\t{ minutes: 15 },\n\t\t{ seconds: 30 },\n\t\t{ seconds: 15 }\n\t];\n\t\n\tfcViews.agenda = {\n\t\t'class': AgendaView,\n\t\tdefaults: {\n\t\t\tallDaySlot: true,\n\t\t\tallDayText: 'all-day',\n\t\t\tslotDuration: '00:30:00',\n\t\t\tminTime: '00:00:00',\n\t\t\tmaxTime: '24:00:00',\n\t\t\tslotEventOverlap: true // a bad name. confused with overlap/constraint system\n\t\t}\n\t};\n\t\n\tfcViews.agendaDay = {\n\t\ttype: 'agenda',\n\t\tduration: { days: 1 }\n\t};\n\t\n\tfcViews.agendaWeek = {\n\t\ttype: 'agenda',\n\t\tduration: { weeks: 1 }\n\t};\n\t;;\n\t\n\treturn fc; // export for Node/CommonJS\n\t});\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_25__;\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(module) {//! moment.js\n\t//! version : 2.10.6\n\t//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n\t//! license : MIT\n\t//! momentjs.com\n\t\n\t(function (global, factory) {\n\t     true ? module.exports = factory() :\n\t    typeof define === 'function' && define.amd ? define(factory) :\n\t    global.moment = factory()\n\t}(this, function () { 'use strict';\n\t\n\t    var hookCallback;\n\t\n\t    function utils_hooks__hooks () {\n\t        return hookCallback.apply(null, arguments);\n\t    }\n\t\n\t    // This is done to register the method called with moment()\n\t    // without creating circular dependencies.\n\t    function setHookCallback (callback) {\n\t        hookCallback = callback;\n\t    }\n\t\n\t    function isArray(input) {\n\t        return Object.prototype.toString.call(input) === '[object Array]';\n\t    }\n\t\n\t    function isDate(input) {\n\t        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n\t    }\n\t\n\t    function map(arr, fn) {\n\t        var res = [], i;\n\t        for (i = 0; i < arr.length; ++i) {\n\t            res.push(fn(arr[i], i));\n\t        }\n\t        return res;\n\t    }\n\t\n\t    function hasOwnProp(a, b) {\n\t        return Object.prototype.hasOwnProperty.call(a, b);\n\t    }\n\t\n\t    function extend(a, b) {\n\t        for (var i in b) {\n\t            if (hasOwnProp(b, i)) {\n\t                a[i] = b[i];\n\t            }\n\t        }\n\t\n\t        if (hasOwnProp(b, 'toString')) {\n\t            a.toString = b.toString;\n\t        }\n\t\n\t        if (hasOwnProp(b, 'valueOf')) {\n\t            a.valueOf = b.valueOf;\n\t        }\n\t\n\t        return a;\n\t    }\n\t\n\t    function create_utc__createUTC (input, format, locale, strict) {\n\t        return createLocalOrUTC(input, format, locale, strict, true).utc();\n\t    }\n\t\n\t    function defaultParsingFlags() {\n\t        // We need to deep clone this object.\n\t        return {\n\t            empty           : false,\n\t            unusedTokens    : [],\n\t            unusedInput     : [],\n\t            overflow        : -2,\n\t            charsLeftOver   : 0,\n\t            nullInput       : false,\n\t            invalidMonth    : null,\n\t            invalidFormat   : false,\n\t            userInvalidated : false,\n\t            iso             : false\n\t        };\n\t    }\n\t\n\t    function getParsingFlags(m) {\n\t        if (m._pf == null) {\n\t            m._pf = defaultParsingFlags();\n\t        }\n\t        return m._pf;\n\t    }\n\t\n\t    function valid__isValid(m) {\n\t        if (m._isValid == null) {\n\t            var flags = getParsingFlags(m);\n\t            m._isValid = !isNaN(m._d.getTime()) &&\n\t                flags.overflow < 0 &&\n\t                !flags.empty &&\n\t                !flags.invalidMonth &&\n\t                !flags.invalidWeekday &&\n\t                !flags.nullInput &&\n\t                !flags.invalidFormat &&\n\t                !flags.userInvalidated;\n\t\n\t            if (m._strict) {\n\t                m._isValid = m._isValid &&\n\t                    flags.charsLeftOver === 0 &&\n\t                    flags.unusedTokens.length === 0 &&\n\t                    flags.bigHour === undefined;\n\t            }\n\t        }\n\t        return m._isValid;\n\t    }\n\t\n\t    function valid__createInvalid (flags) {\n\t        var m = create_utc__createUTC(NaN);\n\t        if (flags != null) {\n\t            extend(getParsingFlags(m), flags);\n\t        }\n\t        else {\n\t            getParsingFlags(m).userInvalidated = true;\n\t        }\n\t\n\t        return m;\n\t    }\n\t\n\t    var momentProperties = utils_hooks__hooks.momentProperties = [];\n\t\n\t    function copyConfig(to, from) {\n\t        var i, prop, val;\n\t\n\t        if (typeof from._isAMomentObject !== 'undefined') {\n\t            to._isAMomentObject = from._isAMomentObject;\n\t        }\n\t        if (typeof from._i !== 'undefined') {\n\t            to._i = from._i;\n\t        }\n\t        if (typeof from._f !== 'undefined') {\n\t            to._f = from._f;\n\t        }\n\t        if (typeof from._l !== 'undefined') {\n\t            to._l = from._l;\n\t        }\n\t        if (typeof from._strict !== 'undefined') {\n\t            to._strict = from._strict;\n\t        }\n\t        if (typeof from._tzm !== 'undefined') {\n\t            to._tzm = from._tzm;\n\t        }\n\t        if (typeof from._isUTC !== 'undefined') {\n\t            to._isUTC = from._isUTC;\n\t        }\n\t        if (typeof from._offset !== 'undefined') {\n\t            to._offset = from._offset;\n\t        }\n\t        if (typeof from._pf !== 'undefined') {\n\t            to._pf = getParsingFlags(from);\n\t        }\n\t        if (typeof from._locale !== 'undefined') {\n\t            to._locale = from._locale;\n\t        }\n\t\n\t        if (momentProperties.length > 0) {\n\t            for (i in momentProperties) {\n\t                prop = momentProperties[i];\n\t                val = from[prop];\n\t                if (typeof val !== 'undefined') {\n\t                    to[prop] = val;\n\t                }\n\t            }\n\t        }\n\t\n\t        return to;\n\t    }\n\t\n\t    var updateInProgress = false;\n\t\n\t    // Moment prototype object\n\t    function Moment(config) {\n\t        copyConfig(this, config);\n\t        this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n\t        // Prevent infinite loop in case updateOffset creates new moment\n\t        // objects.\n\t        if (updateInProgress === false) {\n\t            updateInProgress = true;\n\t            utils_hooks__hooks.updateOffset(this);\n\t            updateInProgress = false;\n\t        }\n\t    }\n\t\n\t    function isMoment (obj) {\n\t        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n\t    }\n\t\n\t    function absFloor (number) {\n\t        if (number < 0) {\n\t            return Math.ceil(number);\n\t        } else {\n\t            return Math.floor(number);\n\t        }\n\t    }\n\t\n\t    function toInt(argumentForCoercion) {\n\t        var coercedNumber = +argumentForCoercion,\n\t            value = 0;\n\t\n\t        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n\t            value = absFloor(coercedNumber);\n\t        }\n\t\n\t        return value;\n\t    }\n\t\n\t    function compareArrays(array1, array2, dontConvert) {\n\t        var len = Math.min(array1.length, array2.length),\n\t            lengthDiff = Math.abs(array1.length - array2.length),\n\t            diffs = 0,\n\t            i;\n\t        for (i = 0; i < len; i++) {\n\t            if ((dontConvert && array1[i] !== array2[i]) ||\n\t                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n\t                diffs++;\n\t            }\n\t        }\n\t        return diffs + lengthDiff;\n\t    }\n\t\n\t    function Locale() {\n\t    }\n\t\n\t    var locales = {};\n\t    var globalLocale;\n\t\n\t    function normalizeLocale(key) {\n\t        return key ? key.toLowerCase().replace('_', '-') : key;\n\t    }\n\t\n\t    // pick the locale from the array\n\t    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n\t    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n\t    function chooseLocale(names) {\n\t        var i = 0, j, next, locale, split;\n\t\n\t        while (i < names.length) {\n\t            split = normalizeLocale(names[i]).split('-');\n\t            j = split.length;\n\t            next = normalizeLocale(names[i + 1]);\n\t            next = next ? next.split('-') : null;\n\t            while (j > 0) {\n\t                locale = loadLocale(split.slice(0, j).join('-'));\n\t                if (locale) {\n\t                    return locale;\n\t                }\n\t                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n\t                    //the next array item is better than a shallower substring of this one\n\t                    break;\n\t                }\n\t                j--;\n\t            }\n\t            i++;\n\t        }\n\t        return null;\n\t    }\n\t\n\t    function loadLocale(name) {\n\t        var oldLocale = null;\n\t        // TODO: Find a better way to register and load all the locales in Node\n\t        if (!locales[name] && typeof module !== 'undefined' &&\n\t                module && module.exports) {\n\t            try {\n\t                oldLocale = globalLocale._abbr;\n\t                __webpack_require__(27)(\"./\" + name);\n\t                // because defineLocale currently also sets the global locale, we\n\t                // want to undo that for lazy loaded locales\n\t                locale_locales__getSetGlobalLocale(oldLocale);\n\t            } catch (e) { }\n\t        }\n\t        return locales[name];\n\t    }\n\t\n\t    // This function will load locale and then set the global locale.  If\n\t    // no arguments are passed in, it will simply return the current global\n\t    // locale key.\n\t    function locale_locales__getSetGlobalLocale (key, values) {\n\t        var data;\n\t        if (key) {\n\t            if (typeof values === 'undefined') {\n\t                data = locale_locales__getLocale(key);\n\t            }\n\t            else {\n\t                data = defineLocale(key, values);\n\t            }\n\t\n\t            if (data) {\n\t                // moment.duration._locale = moment._locale = data;\n\t                globalLocale = data;\n\t            }\n\t        }\n\t\n\t        return globalLocale._abbr;\n\t    }\n\t\n\t    function defineLocale (name, values) {\n\t        if (values !== null) {\n\t            values.abbr = name;\n\t            locales[name] = locales[name] || new Locale();\n\t            locales[name].set(values);\n\t\n\t            // backwards compat for now: also set the locale\n\t            locale_locales__getSetGlobalLocale(name);\n\t\n\t            return locales[name];\n\t        } else {\n\t            // useful for testing\n\t            delete locales[name];\n\t            return null;\n\t        }\n\t    }\n\t\n\t    // returns locale data\n\t    function locale_locales__getLocale (key) {\n\t        var locale;\n\t\n\t        if (key && key._locale && key._locale._abbr) {\n\t            key = key._locale._abbr;\n\t        }\n\t\n\t        if (!key) {\n\t            return globalLocale;\n\t        }\n\t\n\t        if (!isArray(key)) {\n\t            //short-circuit everything else\n\t            locale = loadLocale(key);\n\t            if (locale) {\n\t                return locale;\n\t            }\n\t            key = [key];\n\t        }\n\t\n\t        return chooseLocale(key);\n\t    }\n\t\n\t    var aliases = {};\n\t\n\t    function addUnitAlias (unit, shorthand) {\n\t        var lowerCase = unit.toLowerCase();\n\t        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n\t    }\n\t\n\t    function normalizeUnits(units) {\n\t        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n\t    }\n\t\n\t    function normalizeObjectUnits(inputObject) {\n\t        var normalizedInput = {},\n\t            normalizedProp,\n\t            prop;\n\t\n\t        for (prop in inputObject) {\n\t            if (hasOwnProp(inputObject, prop)) {\n\t                normalizedProp = normalizeUnits(prop);\n\t                if (normalizedProp) {\n\t                    normalizedInput[normalizedProp] = inputObject[prop];\n\t                }\n\t            }\n\t        }\n\t\n\t        return normalizedInput;\n\t    }\n\t\n\t    function makeGetSet (unit, keepTime) {\n\t        return function (value) {\n\t            if (value != null) {\n\t                get_set__set(this, unit, value);\n\t                utils_hooks__hooks.updateOffset(this, keepTime);\n\t                return this;\n\t            } else {\n\t                return get_set__get(this, unit);\n\t            }\n\t        };\n\t    }\n\t\n\t    function get_set__get (mom, unit) {\n\t        return mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]();\n\t    }\n\t\n\t    function get_set__set (mom, unit, value) {\n\t        return mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n\t    }\n\t\n\t    // MOMENTS\n\t\n\t    function getSet (units, value) {\n\t        var unit;\n\t        if (typeof units === 'object') {\n\t            for (unit in units) {\n\t                this.set(unit, units[unit]);\n\t            }\n\t        } else {\n\t            units = normalizeUnits(units);\n\t            if (typeof this[units] === 'function') {\n\t                return this[units](value);\n\t            }\n\t        }\n\t        return this;\n\t    }\n\t\n\t    function zeroFill(number, targetLength, forceSign) {\n\t        var absNumber = '' + Math.abs(number),\n\t            zerosToFill = targetLength - absNumber.length,\n\t            sign = number >= 0;\n\t        return (sign ? (forceSign ? '+' : '') : '-') +\n\t            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n\t    }\n\t\n\t    var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\t\n\t    var localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\t\n\t    var formatFunctions = {};\n\t\n\t    var formatTokenFunctions = {};\n\t\n\t    // token:    'M'\n\t    // padded:   ['MM', 2]\n\t    // ordinal:  'Mo'\n\t    // callback: function () { this.month() + 1 }\n\t    function addFormatToken (token, padded, ordinal, callback) {\n\t        var func = callback;\n\t        if (typeof callback === 'string') {\n\t            func = function () {\n\t                return this[callback]();\n\t            };\n\t        }\n\t        if (token) {\n\t            formatTokenFunctions[token] = func;\n\t        }\n\t        if (padded) {\n\t            formatTokenFunctions[padded[0]] = function () {\n\t                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n\t            };\n\t        }\n\t        if (ordinal) {\n\t            formatTokenFunctions[ordinal] = function () {\n\t                return this.localeData().ordinal(func.apply(this, arguments), token);\n\t            };\n\t        }\n\t    }\n\t\n\t    function removeFormattingTokens(input) {\n\t        if (input.match(/\\[[\\s\\S]/)) {\n\t            return input.replace(/^\\[|\\]$/g, '');\n\t        }\n\t        return input.replace(/\\\\/g, '');\n\t    }\n\t\n\t    function makeFormatFunction(format) {\n\t        var array = format.match(formattingTokens), i, length;\n\t\n\t        for (i = 0, length = array.length; i < length; i++) {\n\t            if (formatTokenFunctions[array[i]]) {\n\t                array[i] = formatTokenFunctions[array[i]];\n\t            } else {\n\t                array[i] = removeFormattingTokens(array[i]);\n\t            }\n\t        }\n\t\n\t        return function (mom) {\n\t            var output = '';\n\t            for (i = 0; i < length; i++) {\n\t                output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];\n\t            }\n\t            return output;\n\t        };\n\t    }\n\t\n\t    // format date using native date object\n\t    function formatMoment(m, format) {\n\t        if (!m.isValid()) {\n\t            return m.localeData().invalidDate();\n\t        }\n\t\n\t        format = expandFormat(format, m.localeData());\n\t        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\t\n\t        return formatFunctions[format](m);\n\t    }\n\t\n\t    function expandFormat(format, locale) {\n\t        var i = 5;\n\t\n\t        function replaceLongDateFormatTokens(input) {\n\t            return locale.longDateFormat(input) || input;\n\t        }\n\t\n\t        localFormattingTokens.lastIndex = 0;\n\t        while (i >= 0 && localFormattingTokens.test(format)) {\n\t            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n\t            localFormattingTokens.lastIndex = 0;\n\t            i -= 1;\n\t        }\n\t\n\t        return format;\n\t    }\n\t\n\t    var match1         = /\\d/;            //       0 - 9\n\t    var match2         = /\\d\\d/;          //      00 - 99\n\t    var match3         = /\\d{3}/;         //     000 - 999\n\t    var match4         = /\\d{4}/;         //    0000 - 9999\n\t    var match6         = /[+-]?\\d{6}/;    // -999999 - 999999\n\t    var match1to2      = /\\d\\d?/;         //       0 - 99\n\t    var match1to3      = /\\d{1,3}/;       //       0 - 999\n\t    var match1to4      = /\\d{1,4}/;       //       0 - 9999\n\t    var match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\t\n\t    var matchUnsigned  = /\\d+/;           //       0 - inf\n\t    var matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\t\n\t    var matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\n\t\n\t    var matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\t\n\t    // any word (or two) characters or numbers including two/three word month in arabic.\n\t    var matchWord = /[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i;\n\t\n\t    var regexes = {};\n\t\n\t    function isFunction (sth) {\n\t        // https://github.com/moment/moment/issues/2325\n\t        return typeof sth === 'function' &&\n\t            Object.prototype.toString.call(sth) === '[object Function]';\n\t    }\n\t\n\t\n\t    function addRegexToken (token, regex, strictRegex) {\n\t        regexes[token] = isFunction(regex) ? regex : function (isStrict) {\n\t            return (isStrict && strictRegex) ? strictRegex : regex;\n\t        };\n\t    }\n\t\n\t    function getParseRegexForToken (token, config) {\n\t        if (!hasOwnProp(regexes, token)) {\n\t            return new RegExp(unescapeFormat(token));\n\t        }\n\t\n\t        return regexes[token](config._strict, config._locale);\n\t    }\n\t\n\t    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n\t    function unescapeFormat(s) {\n\t        return s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n\t            return p1 || p2 || p3 || p4;\n\t        }).replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\t    }\n\t\n\t    var tokens = {};\n\t\n\t    function addParseToken (token, callback) {\n\t        var i, func = callback;\n\t        if (typeof token === 'string') {\n\t            token = [token];\n\t        }\n\t        if (typeof callback === 'number') {\n\t            func = function (input, array) {\n\t                array[callback] = toInt(input);\n\t            };\n\t        }\n\t        for (i = 0; i < token.length; i++) {\n\t            tokens[token[i]] = func;\n\t        }\n\t    }\n\t\n\t    function addWeekParseToken (token, callback) {\n\t        addParseToken(token, function (input, array, config, token) {\n\t            config._w = config._w || {};\n\t            callback(input, config._w, config, token);\n\t        });\n\t    }\n\t\n\t    function addTimeToArrayFromToken(token, input, config) {\n\t        if (input != null && hasOwnProp(tokens, token)) {\n\t            tokens[token](input, config._a, config, token);\n\t        }\n\t    }\n\t\n\t    var YEAR = 0;\n\t    var MONTH = 1;\n\t    var DATE = 2;\n\t    var HOUR = 3;\n\t    var MINUTE = 4;\n\t    var SECOND = 5;\n\t    var MILLISECOND = 6;\n\t\n\t    function daysInMonth(year, month) {\n\t        return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();\n\t    }\n\t\n\t    // FORMATTING\n\t\n\t    addFormatToken('M', ['MM', 2], 'Mo', function () {\n\t        return this.month() + 1;\n\t    });\n\t\n\t    addFormatToken('MMM', 0, 0, function (format) {\n\t        return this.localeData().monthsShort(this, format);\n\t    });\n\t\n\t    addFormatToken('MMMM', 0, 0, function (format) {\n\t        return this.localeData().months(this, format);\n\t    });\n\t\n\t    // ALIASES\n\t\n\t    addUnitAlias('month', 'M');\n\t\n\t    // PARSING\n\t\n\t    addRegexToken('M',    match1to2);\n\t    addRegexToken('MM',   match1to2, match2);\n\t    addRegexToken('MMM',  matchWord);\n\t    addRegexToken('MMMM', matchWord);\n\t\n\t    addParseToken(['M', 'MM'], function (input, array) {\n\t        array[MONTH] = toInt(input) - 1;\n\t    });\n\t\n\t    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n\t        var month = config._locale.monthsParse(input, token, config._strict);\n\t        // if we didn't find a month name, mark the date as invalid.\n\t        if (month != null) {\n\t            array[MONTH] = month;\n\t        } else {\n\t            getParsingFlags(config).invalidMonth = input;\n\t        }\n\t    });\n\t\n\t    // LOCALES\n\t\n\t    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\n\t    function localeMonths (m) {\n\t        return this._months[m.month()];\n\t    }\n\t\n\t    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\n\t    function localeMonthsShort (m) {\n\t        return this._monthsShort[m.month()];\n\t    }\n\t\n\t    function localeMonthsParse (monthName, format, strict) {\n\t        var i, mom, regex;\n\t\n\t        if (!this._monthsParse) {\n\t            this._monthsParse = [];\n\t            this._longMonthsParse = [];\n\t            this._shortMonthsParse = [];\n\t        }\n\t\n\t        for (i = 0; i < 12; i++) {\n\t            // make the regex if we don't have it already\n\t            mom = create_utc__createUTC([2000, i]);\n\t            if (strict && !this._longMonthsParse[i]) {\n\t                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n\t                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n\t            }\n\t            if (!strict && !this._monthsParse[i]) {\n\t                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n\t                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n\t            }\n\t            // test the regex\n\t            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n\t                return i;\n\t            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n\t                return i;\n\t            } else if (!strict && this._monthsParse[i].test(monthName)) {\n\t                return i;\n\t            }\n\t        }\n\t    }\n\t\n\t    // MOMENTS\n\t\n\t    function setMonth (mom, value) {\n\t        var dayOfMonth;\n\t\n\t        // TODO: Move this out of here!\n\t        if (typeof value === 'string') {\n\t            value = mom.localeData().monthsParse(value);\n\t            // TODO: Another silent failure?\n\t            if (typeof value !== 'number') {\n\t                return mom;\n\t            }\n\t        }\n\t\n\t        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n\t        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n\t        return mom;\n\t    }\n\t\n\t    function getSetMonth (value) {\n\t        if (value != null) {\n\t            setMonth(this, value);\n\t            utils_hooks__hooks.updateOffset(this, true);\n\t            return this;\n\t        } else {\n\t            return get_set__get(this, 'Month');\n\t        }\n\t    }\n\t\n\t    function getDaysInMonth () {\n\t        return daysInMonth(this.year(), this.month());\n\t    }\n\t\n\t    function checkOverflow (m) {\n\t        var overflow;\n\t        var a = m._a;\n\t\n\t        if (a && getParsingFlags(m).overflow === -2) {\n\t            overflow =\n\t                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n\t                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n\t                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n\t                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n\t                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n\t                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n\t                -1;\n\t\n\t            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n\t                overflow = DATE;\n\t            }\n\t\n\t            getParsingFlags(m).overflow = overflow;\n\t        }\n\t\n\t        return m;\n\t    }\n\t\n\t    function warn(msg) {\n\t        if (utils_hooks__hooks.suppressDeprecationWarnings === false && typeof console !== 'undefined' && console.warn) {\n\t            console.warn('Deprecation warning: ' + msg);\n\t        }\n\t    }\n\t\n\t    function deprecate(msg, fn) {\n\t        var firstTime = true;\n\t\n\t        return extend(function () {\n\t            if (firstTime) {\n\t                warn(msg + '\\n' + (new Error()).stack);\n\t                firstTime = false;\n\t            }\n\t            return fn.apply(this, arguments);\n\t        }, fn);\n\t    }\n\t\n\t    var deprecations = {};\n\t\n\t    function deprecateSimple(name, msg) {\n\t        if (!deprecations[name]) {\n\t            warn(msg);\n\t            deprecations[name] = true;\n\t        }\n\t    }\n\t\n\t    utils_hooks__hooks.suppressDeprecationWarnings = false;\n\t\n\t    var from_string__isoRegex = /^\\s*(?:[+-]\\d{6}|\\d{4})-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\t\n\t    var isoDates = [\n\t        ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d{2}-\\d{2}/],\n\t        ['YYYY-MM-DD', /\\d{4}-\\d{2}-\\d{2}/],\n\t        ['GGGG-[W]WW-E', /\\d{4}-W\\d{2}-\\d/],\n\t        ['GGGG-[W]WW', /\\d{4}-W\\d{2}/],\n\t        ['YYYY-DDD', /\\d{4}-\\d{3}/]\n\t    ];\n\t\n\t    // iso time formats and regexes\n\t    var isoTimes = [\n\t        ['HH:mm:ss.SSSS', /(T| )\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n\t        ['HH:mm:ss', /(T| )\\d\\d:\\d\\d:\\d\\d/],\n\t        ['HH:mm', /(T| )\\d\\d:\\d\\d/],\n\t        ['HH', /(T| )\\d\\d/]\n\t    ];\n\t\n\t    var aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\t\n\t    // date from iso format\n\t    function configFromISO(config) {\n\t        var i, l,\n\t            string = config._i,\n\t            match = from_string__isoRegex.exec(string);\n\t\n\t        if (match) {\n\t            getParsingFlags(config).iso = true;\n\t            for (i = 0, l = isoDates.length; i < l; i++) {\n\t                if (isoDates[i][1].exec(string)) {\n\t                    config._f = isoDates[i][0];\n\t                    break;\n\t                }\n\t            }\n\t            for (i = 0, l = isoTimes.length; i < l; i++) {\n\t                if (isoTimes[i][1].exec(string)) {\n\t                    // match[6] should be 'T' or space\n\t                    config._f += (match[6] || ' ') + isoTimes[i][0];\n\t                    break;\n\t                }\n\t            }\n\t            if (string.match(matchOffset)) {\n\t                config._f += 'Z';\n\t            }\n\t            configFromStringAndFormat(config);\n\t        } else {\n\t            config._isValid = false;\n\t        }\n\t    }\n\t\n\t    // date from iso format or fallback\n\t    function configFromString(config) {\n\t        var matched = aspNetJsonRegex.exec(config._i);\n\t\n\t        if (matched !== null) {\n\t            config._d = new Date(+matched[1]);\n\t            return;\n\t        }\n\t\n\t        configFromISO(config);\n\t        if (config._isValid === false) {\n\t            delete config._isValid;\n\t            utils_hooks__hooks.createFromInputFallback(config);\n\t        }\n\t    }\n\t\n\t    utils_hooks__hooks.createFromInputFallback = deprecate(\n\t        'moment construction falls back to js Date. This is ' +\n\t        'discouraged and will be removed in upcoming major ' +\n\t        'release. Please refer to ' +\n\t        'https://github.com/moment/moment/issues/1407 for more info.',\n\t        function (config) {\n\t            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n\t        }\n\t    );\n\t\n\t    function createDate (y, m, d, h, M, s, ms) {\n\t        //can't just apply() to create a date:\n\t        //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply\n\t        var date = new Date(y, m, d, h, M, s, ms);\n\t\n\t        //the date constructor doesn't accept years < 1970\n\t        if (y < 1970) {\n\t            date.setFullYear(y);\n\t        }\n\t        return date;\n\t    }\n\t\n\t    function createUTCDate (y) {\n\t        var date = new Date(Date.UTC.apply(null, arguments));\n\t        if (y < 1970) {\n\t            date.setUTCFullYear(y);\n\t        }\n\t        return date;\n\t    }\n\t\n\t    addFormatToken(0, ['YY', 2], 0, function () {\n\t        return this.year() % 100;\n\t    });\n\t\n\t    addFormatToken(0, ['YYYY',   4],       0, 'year');\n\t    addFormatToken(0, ['YYYYY',  5],       0, 'year');\n\t    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\t\n\t    // ALIASES\n\t\n\t    addUnitAlias('year', 'y');\n\t\n\t    // PARSING\n\t\n\t    addRegexToken('Y',      matchSigned);\n\t    addRegexToken('YY',     match1to2, match2);\n\t    addRegexToken('YYYY',   match1to4, match4);\n\t    addRegexToken('YYYYY',  match1to6, match6);\n\t    addRegexToken('YYYYYY', match1to6, match6);\n\t\n\t    addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n\t    addParseToken('YYYY', function (input, array) {\n\t        array[YEAR] = input.length === 2 ? utils_hooks__hooks.parseTwoDigitYear(input) : toInt(input);\n\t    });\n\t    addParseToken('YY', function (input, array) {\n\t        array[YEAR] = utils_hooks__hooks.parseTwoDigitYear(input);\n\t    });\n\t\n\t    // HELPERS\n\t\n\t    function daysInYear(year) {\n\t        return isLeapYear(year) ? 366 : 365;\n\t    }\n\t\n\t    function isLeapYear(year) {\n\t        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n\t    }\n\t\n\t    // HOOKS\n\t\n\t    utils_hooks__hooks.parseTwoDigitYear = function (input) {\n\t        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n\t    };\n\t\n\t    // MOMENTS\n\t\n\t    var getSetYear = makeGetSet('FullYear', false);\n\t\n\t    function getIsLeapYear () {\n\t        return isLeapYear(this.year());\n\t    }\n\t\n\t    addFormatToken('w', ['ww', 2], 'wo', 'week');\n\t    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\t\n\t    // ALIASES\n\t\n\t    addUnitAlias('week', 'w');\n\t    addUnitAlias('isoWeek', 'W');\n\t\n\t    // PARSING\n\t\n\t    addRegexToken('w',  match1to2);\n\t    addRegexToken('ww', match1to2, match2);\n\t    addRegexToken('W',  match1to2);\n\t    addRegexToken('WW', match1to2, match2);\n\t\n\t    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n\t        week[token.substr(0, 1)] = toInt(input);\n\t    });\n\t\n\t    // HELPERS\n\t\n\t    // firstDayOfWeek       0 = sun, 6 = sat\n\t    //                      the day of the week that starts the week\n\t    //                      (usually sunday or monday)\n\t    // firstDayOfWeekOfYear 0 = sun, 6 = sat\n\t    //                      the first week is the week that contains the first\n\t    //                      of this day of the week\n\t    //                      (eg. ISO weeks use thursday (4))\n\t    function weekOfYear(mom, firstDayOfWeek, firstDayOfWeekOfYear) {\n\t        var end = firstDayOfWeekOfYear - firstDayOfWeek,\n\t            daysToDayOfWeek = firstDayOfWeekOfYear - mom.day(),\n\t            adjustedMoment;\n\t\n\t\n\t        if (daysToDayOfWeek > end) {\n\t            daysToDayOfWeek -= 7;\n\t        }\n\t\n\t        if (daysToDayOfWeek < end - 7) {\n\t            daysToDayOfWeek += 7;\n\t        }\n\t\n\t        adjustedMoment = local__createLocal(mom).add(daysToDayOfWeek, 'd');\n\t        return {\n\t            week: Math.ceil(adjustedMoment.dayOfYear() / 7),\n\t            year: adjustedMoment.year()\n\t        };\n\t    }\n\t\n\t    // LOCALES\n\t\n\t    function localeWeek (mom) {\n\t        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n\t    }\n\t\n\t    var defaultLocaleWeek = {\n\t        dow : 0, // Sunday is the first day of the week.\n\t        doy : 6  // The week that contains Jan 1st is the first week of the year.\n\t    };\n\t\n\t    function localeFirstDayOfWeek () {\n\t        return this._week.dow;\n\t    }\n\t\n\t    function localeFirstDayOfYear () {\n\t        return this._week.doy;\n\t    }\n\t\n\t    // MOMENTS\n\t\n\t    function getSetWeek (input) {\n\t        var week = this.localeData().week(this);\n\t        return input == null ? week : this.add((input - week) * 7, 'd');\n\t    }\n\t\n\t    function getSetISOWeek (input) {\n\t        var week = weekOfYear(this, 1, 4).week;\n\t        return input == null ? week : this.add((input - week) * 7, 'd');\n\t    }\n\t\n\t    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\t\n\t    // ALIASES\n\t\n\t    addUnitAlias('dayOfYear', 'DDD');\n\t\n\t    // PARSING\n\t\n\t    addRegexToken('DDD',  match1to3);\n\t    addRegexToken('DDDD', match3);\n\t    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n\t        config._dayOfYear = toInt(input);\n\t    });\n\t\n\t    // HELPERS\n\t\n\t    //http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n\t    function dayOfYearFromWeeks(year, week, weekday, firstDayOfWeekOfYear, firstDayOfWeek) {\n\t        var week1Jan = 6 + firstDayOfWeek - firstDayOfWeekOfYear, janX = createUTCDate(year, 0, 1 + week1Jan), d = janX.getUTCDay(), dayOfYear;\n\t        if (d < firstDayOfWeek) {\n\t            d += 7;\n\t        }\n\t\n\t        weekday = weekday != null ? 1 * weekday : firstDayOfWeek;\n\t\n\t        dayOfYear = 1 + week1Jan + 7 * (week - 1) - d + weekday;\n\t\n\t        return {\n\t            year: dayOfYear > 0 ? year : year - 1,\n\t            dayOfYear: dayOfYear > 0 ?  dayOfYear : daysInYear(year - 1) + dayOfYear\n\t        };\n\t    }\n\t\n\t    // MOMENTS\n\t\n\t    function getSetDayOfYear (input) {\n\t        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n\t        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n\t    }\n\t\n\t    // Pick the first defined of two or three arguments.\n\t    function defaults(a, b, c) {\n\t        if (a != null) {\n\t            return a;\n\t        }\n\t        if (b != null) {\n\t            return b;\n\t        }\n\t        return c;\n\t    }\n\t\n\t    function currentDateArray(config) {\n\t        var now = new Date();\n\t        if (config._useUTC) {\n\t            return [now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate()];\n\t        }\n\t        return [now.getFullYear(), now.getMonth(), now.getDate()];\n\t    }\n\t\n\t    // convert an array to a date.\n\t    // the array should mirror the parameters below\n\t    // note: all values past the year are optional and will default to the lowest possible value.\n\t    // [year, month, day , hour, minute, second, millisecond]\n\t    function configFromArray (config) {\n\t        var i, date, input = [], currentDate, yearToUse;\n\t\n\t        if (config._d) {\n\t            return;\n\t        }\n\t\n\t        currentDate = currentDateArray(config);\n\t\n\t        //compute day of the year from weeks and weekdays\n\t        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n\t            dayOfYearFromWeekInfo(config);\n\t        }\n\t\n\t        //if the day of the year is set, figure out what it is\n\t        if (config._dayOfYear) {\n\t            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\t\n\t            if (config._dayOfYear > daysInYear(yearToUse)) {\n\t                getParsingFlags(config)._overflowDayOfYear = true;\n\t            }\n\t\n\t            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n\t            config._a[MONTH] = date.getUTCMonth();\n\t            config._a[DATE] = date.getUTCDate();\n\t        }\n\t\n\t        // Default to current date.\n\t        // * if no year, month, day of month are given, default to today\n\t        // * if day of month is given, default month and year\n\t        // * if month is given, default only year\n\t        // * if year is given, don't default anything\n\t        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n\t            config._a[i] = input[i] = currentDate[i];\n\t        }\n\t\n\t        // Zero out whatever was not defaulted, including time\n\t        for (; i < 7; i++) {\n\t            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n\t        }\n\t\n\t        // Check for 24:00:00.000\n\t        if (config._a[HOUR] === 24 &&\n\t                config._a[MINUTE] === 0 &&\n\t                config._a[SECOND] === 0 &&\n\t                config._a[MILLISECOND] === 0) {\n\t            config._nextDay = true;\n\t            config._a[HOUR] = 0;\n\t        }\n\t\n\t        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n\t        // Apply timezone offset from input. The actual utcOffset can be changed\n\t        // with parseZone.\n\t        if (config._tzm != null) {\n\t            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\t        }\n\t\n\t        if (config._nextDay) {\n\t            config._a[HOUR] = 24;\n\t        }\n\t    }\n\t\n\t    function dayOfYearFromWeekInfo(config) {\n\t        var w, weekYear, week, weekday, dow, doy, temp;\n\t\n\t        w = config._w;\n\t        if (w.GG != null || w.W != null || w.E != null) {\n\t            dow = 1;\n\t            doy = 4;\n\t\n\t            // TODO: We need to take the current isoWeekYear, but that depends on\n\t            // how we interpret now (local, utc, fixed offset). So create\n\t            // a now version of current config (take local/utc/offset flags, and\n\t            // create now).\n\t            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(local__createLocal(), 1, 4).year);\n\t            week = defaults(w.W, 1);\n\t            weekday = defaults(w.E, 1);\n\t        } else {\n\t            dow = config._locale._week.dow;\n\t            doy = config._locale._week.doy;\n\t\n\t            weekYear = defaults(w.gg, config._a[YEAR], weekOfYear(local__createLocal(), dow, doy).year);\n\t            week = defaults(w.w, 1);\n\t\n\t            if (w.d != null) {\n\t                // weekday -- low day numbers are considered next week\n\t                weekday = w.d;\n\t                if (weekday < dow) {\n\t                    ++week;\n\t                }\n\t            } else if (w.e != null) {\n\t                // local weekday -- counting starts from begining of week\n\t                weekday = w.e + dow;\n\t            } else {\n\t                // default to begining of week\n\t                weekday = dow;\n\t            }\n\t        }\n\t        temp = dayOfYearFromWeeks(weekYear, week, weekday, doy, dow);\n\t\n\t        config._a[YEAR] = temp.year;\n\t        config._dayOfYear = temp.dayOfYear;\n\t    }\n\t\n\t    utils_hooks__hooks.ISO_8601 = function () {};\n\t\n\t    // date from string and format string\n\t    function configFromStringAndFormat(config) {\n\t        // TODO: Move this to another part of the creation flow to prevent circular deps\n\t        if (config._f === utils_hooks__hooks.ISO_8601) {\n\t            configFromISO(config);\n\t            return;\n\t        }\n\t\n\t        config._a = [];\n\t        getParsingFlags(config).empty = true;\n\t\n\t        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n\t        var string = '' + config._i,\n\t            i, parsedInput, tokens, token, skipped,\n\t            stringLength = string.length,\n\t            totalParsedInputLength = 0;\n\t\n\t        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\t\n\t        for (i = 0; i < tokens.length; i++) {\n\t            token = tokens[i];\n\t            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n\t            if (parsedInput) {\n\t                skipped = string.substr(0, string.indexOf(parsedInput));\n\t                if (skipped.length > 0) {\n\t                    getParsingFlags(config).unusedInput.push(skipped);\n\t                }\n\t                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n\t                totalParsedInputLength += parsedInput.length;\n\t            }\n\t            // don't parse if it's not a known token\n\t            if (formatTokenFunctions[token]) {\n\t                if (parsedInput) {\n\t                    getParsingFlags(config).empty = false;\n\t                }\n\t                else {\n\t                    getParsingFlags(config).unusedTokens.push(token);\n\t                }\n\t                addTimeToArrayFromToken(token, parsedInput, config);\n\t            }\n\t            else if (config._strict && !parsedInput) {\n\t                getParsingFlags(config).unusedTokens.push(token);\n\t            }\n\t        }\n\t\n\t        // add remaining unparsed input length to the string\n\t        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n\t        if (string.length > 0) {\n\t            getParsingFlags(config).unusedInput.push(string);\n\t        }\n\t\n\t        // clear _12h flag if hour is <= 12\n\t        if (getParsingFlags(config).bigHour === true &&\n\t                config._a[HOUR] <= 12 &&\n\t                config._a[HOUR] > 0) {\n\t            getParsingFlags(config).bigHour = undefined;\n\t        }\n\t        // handle meridiem\n\t        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\t\n\t        configFromArray(config);\n\t        checkOverflow(config);\n\t    }\n\t\n\t\n\t    function meridiemFixWrap (locale, hour, meridiem) {\n\t        var isPm;\n\t\n\t        if (meridiem == null) {\n\t            // nothing to do\n\t            return hour;\n\t        }\n\t        if (locale.meridiemHour != null) {\n\t            return locale.meridiemHour(hour, meridiem);\n\t        } else if (locale.isPM != null) {\n\t            // Fallback\n\t            isPm = locale.isPM(meridiem);\n\t            if (isPm && hour < 12) {\n\t                hour += 12;\n\t            }\n\t            if (!isPm && hour === 12) {\n\t                hour = 0;\n\t            }\n\t            return hour;\n\t        } else {\n\t            // this is not supposed to happen\n\t            return hour;\n\t        }\n\t    }\n\t\n\t    function configFromStringAndArray(config) {\n\t        var tempConfig,\n\t            bestMoment,\n\t\n\t            scoreToBeat,\n\t            i,\n\t            currentScore;\n\t\n\t        if (config._f.length === 0) {\n\t            getParsingFlags(config).invalidFormat = true;\n\t            config._d = new Date(NaN);\n\t            return;\n\t        }\n\t\n\t        for (i = 0; i < config._f.length; i++) {\n\t            currentScore = 0;\n\t            tempConfig = copyConfig({}, config);\n\t            if (config._useUTC != null) {\n\t                tempConfig._useUTC = config._useUTC;\n\t            }\n\t            tempConfig._f = config._f[i];\n\t            configFromStringAndFormat(tempConfig);\n\t\n\t            if (!valid__isValid(tempConfig)) {\n\t                continue;\n\t            }\n\t\n\t            // if there is any input that was not parsed add a penalty for that format\n\t            currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\t\n\t            //or tokens\n\t            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\t\n\t            getParsingFlags(tempConfig).score = currentScore;\n\t\n\t            if (scoreToBeat == null || currentScore < scoreToBeat) {\n\t                scoreToBeat = currentScore;\n\t                bestMoment = tempConfig;\n\t            }\n\t        }\n\t\n\t        extend(config, bestMoment || tempConfig);\n\t    }\n\t\n\t    function configFromObject(config) {\n\t        if (config._d) {\n\t            return;\n\t        }\n\t\n\t        var i = normalizeObjectUnits(config._i);\n\t        config._a = [i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond];\n\t\n\t        configFromArray(config);\n\t    }\n\t\n\t    function createFromConfig (config) {\n\t        var res = new Moment(checkOverflow(prepareConfig(config)));\n\t        if (res._nextDay) {\n\t            // Adding is smart enough around DST\n\t            res.add(1, 'd');\n\t            res._nextDay = undefined;\n\t        }\n\t\n\t        return res;\n\t    }\n\t\n\t    function prepareConfig (config) {\n\t        var input = config._i,\n\t            format = config._f;\n\t\n\t        config._locale = config._locale || locale_locales__getLocale(config._l);\n\t\n\t        if (input === null || (format === undefined && input === '')) {\n\t            return valid__createInvalid({nullInput: true});\n\t        }\n\t\n\t        if (typeof input === 'string') {\n\t            config._i = input = config._locale.preparse(input);\n\t        }\n\t\n\t        if (isMoment(input)) {\n\t            return new Moment(checkOverflow(input));\n\t        } else if (isArray(format)) {\n\t            configFromStringAndArray(config);\n\t        } else if (format) {\n\t            configFromStringAndFormat(config);\n\t        } else if (isDate(input)) {\n\t            config._d = input;\n\t        } else {\n\t            configFromInput(config);\n\t        }\n\t\n\t        return config;\n\t    }\n\t\n\t    function configFromInput(config) {\n\t        var input = config._i;\n\t        if (input === undefined) {\n\t            config._d = new Date();\n\t        } else if (isDate(input)) {\n\t            config._d = new Date(+input);\n\t        } else if (typeof input === 'string') {\n\t            configFromString(config);\n\t        } else if (isArray(input)) {\n\t            config._a = map(input.slice(0), function (obj) {\n\t                return parseInt(obj, 10);\n\t            });\n\t            configFromArray(config);\n\t        } else if (typeof(input) === 'object') {\n\t            configFromObject(config);\n\t        } else if (typeof(input) === 'number') {\n\t            // from milliseconds\n\t            config._d = new Date(input);\n\t        } else {\n\t            utils_hooks__hooks.createFromInputFallback(config);\n\t        }\n\t    }\n\t\n\t    function createLocalOrUTC (input, format, locale, strict, isUTC) {\n\t        var c = {};\n\t\n\t        if (typeof(locale) === 'boolean') {\n\t            strict = locale;\n\t            locale = undefined;\n\t        }\n\t        // object construction must be done this way.\n\t        // https://github.com/moment/moment/issues/1423\n\t        c._isAMomentObject = true;\n\t        c._useUTC = c._isUTC = isUTC;\n\t        c._l = locale;\n\t        c._i = input;\n\t        c._f = format;\n\t        c._strict = strict;\n\t\n\t        return createFromConfig(c);\n\t    }\n\t\n\t    function local__createLocal (input, format, locale, strict) {\n\t        return createLocalOrUTC(input, format, locale, strict, false);\n\t    }\n\t\n\t    var prototypeMin = deprecate(\n\t         'moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548',\n\t         function () {\n\t             var other = local__createLocal.apply(null, arguments);\n\t             return other < this ? this : other;\n\t         }\n\t     );\n\t\n\t    var prototypeMax = deprecate(\n\t        'moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548',\n\t        function () {\n\t            var other = local__createLocal.apply(null, arguments);\n\t            return other > this ? this : other;\n\t        }\n\t    );\n\t\n\t    // Pick a moment m from moments so that m[fn](other) is true for all\n\t    // other. This relies on the function fn to be transitive.\n\t    //\n\t    // moments should either be an array of moment objects or an array, whose\n\t    // first element is an array of moment objects.\n\t    function pickBy(fn, moments) {\n\t        var res, i;\n\t        if (moments.length === 1 && isArray(moments[0])) {\n\t            moments = moments[0];\n\t        }\n\t        if (!moments.length) {\n\t            return local__createLocal();\n\t        }\n\t        res = moments[0];\n\t        for (i = 1; i < moments.length; ++i) {\n\t            if (!moments[i].isValid() || moments[i][fn](res)) {\n\t                res = moments[i];\n\t            }\n\t        }\n\t        return res;\n\t    }\n\t\n\t    // TODO: Use [].sort instead?\n\t    function min () {\n\t        var args = [].slice.call(arguments, 0);\n\t\n\t        return pickBy('isBefore', args);\n\t    }\n\t\n\t    function max () {\n\t        var args = [].slice.call(arguments, 0);\n\t\n\t        return pickBy('isAfter', args);\n\t    }\n\t\n\t    function Duration (duration) {\n\t        var normalizedInput = normalizeObjectUnits(duration),\n\t            years = normalizedInput.year || 0,\n\t            quarters = normalizedInput.quarter || 0,\n\t            months = normalizedInput.month || 0,\n\t            weeks = normalizedInput.week || 0,\n\t            days = normalizedInput.day || 0,\n\t            hours = normalizedInput.hour || 0,\n\t            minutes = normalizedInput.minute || 0,\n\t            seconds = normalizedInput.second || 0,\n\t            milliseconds = normalizedInput.millisecond || 0;\n\t\n\t        // representation for dateAddRemove\n\t        this._milliseconds = +milliseconds +\n\t            seconds * 1e3 + // 1000\n\t            minutes * 6e4 + // 1000 * 60\n\t            hours * 36e5; // 1000 * 60 * 60\n\t        // Because of dateAddRemove treats 24 hours as different from a\n\t        // day when working around DST, we need to store them separately\n\t        this._days = +days +\n\t            weeks * 7;\n\t        // It is impossible translate months into days without knowing\n\t        // which months you are are talking about, so we have to store\n\t        // it separately.\n\t        this._months = +months +\n\t            quarters * 3 +\n\t            years * 12;\n\t\n\t        this._data = {};\n\t\n\t        this._locale = locale_locales__getLocale();\n\t\n\t        this._bubble();\n\t    }\n\t\n\t    function isDuration (obj) {\n\t        return obj instanceof Duration;\n\t    }\n\t\n\t    function offset (token, separator) {\n\t        addFormatToken(token, 0, 0, function () {\n\t            var offset = this.utcOffset();\n\t            var sign = '+';\n\t            if (offset < 0) {\n\t                offset = -offset;\n\t                sign = '-';\n\t            }\n\t            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n\t        });\n\t    }\n\t\n\t    offset('Z', ':');\n\t    offset('ZZ', '');\n\t\n\t    // PARSING\n\t\n\t    addRegexToken('Z',  matchOffset);\n\t    addRegexToken('ZZ', matchOffset);\n\t    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n\t        config._useUTC = true;\n\t        config._tzm = offsetFromString(input);\n\t    });\n\t\n\t    // HELPERS\n\t\n\t    // timezone chunker\n\t    // '+10:00' > ['10',  '00']\n\t    // '-1530'  > ['-15', '30']\n\t    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\t\n\t    function offsetFromString(string) {\n\t        var matches = ((string || '').match(matchOffset) || []);\n\t        var chunk   = matches[matches.length - 1] || [];\n\t        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n\t        var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\t\n\t        return parts[0] === '+' ? minutes : -minutes;\n\t    }\n\t\n\t    // Return a moment from input, that is local/utc/zone equivalent to model.\n\t    function cloneWithOffset(input, model) {\n\t        var res, diff;\n\t        if (model._isUTC) {\n\t            res = model.clone();\n\t            diff = (isMoment(input) || isDate(input) ? +input : +local__createLocal(input)) - (+res);\n\t            // Use low-level api, because this fn is low-level api.\n\t            res._d.setTime(+res._d + diff);\n\t            utils_hooks__hooks.updateOffset(res, false);\n\t            return res;\n\t        } else {\n\t            return local__createLocal(input).local();\n\t        }\n\t    }\n\t\n\t    function getDateOffset (m) {\n\t        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n\t        // https://github.com/moment/moment/pull/1871\n\t        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n\t    }\n\t\n\t    // HOOKS\n\t\n\t    // This function will be called whenever a moment is mutated.\n\t    // It is intended to keep the offset in sync with the timezone.\n\t    utils_hooks__hooks.updateOffset = function () {};\n\t\n\t    // MOMENTS\n\t\n\t    // keepLocalTime = true means only change the timezone, without\n\t    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n\t    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n\t    // +0200, so we adjust the time as needed, to be valid.\n\t    //\n\t    // Keeping the time actually adds/subtracts (one hour)\n\t    // from the actual represented time. That is why we call updateOffset\n\t    // a second time. In case it wants us to change the offset again\n\t    // _changeInProgress == true case, then we have to adjust, because\n\t    // there is no such time in the given timezone.\n\t    function getSetOffset (input, keepLocalTime) {\n\t        var offset = this._offset || 0,\n\t            localAdjust;\n\t        if (input != null) {\n\t            if (typeof input === 'string') {\n\t                input = offsetFromString(input);\n\t            }\n\t            if (Math.abs(input) < 16) {\n\t                input = input * 60;\n\t            }\n\t            if (!this._isUTC && keepLocalTime) {\n\t                localAdjust = getDateOffset(this);\n\t            }\n\t            this._offset = input;\n\t            this._isUTC = true;\n\t            if (localAdjust != null) {\n\t                this.add(localAdjust, 'm');\n\t            }\n\t            if (offset !== input) {\n\t                if (!keepLocalTime || this._changeInProgress) {\n\t                    add_subtract__addSubtract(this, create__createDuration(input - offset, 'm'), 1, false);\n\t                } else if (!this._changeInProgress) {\n\t                    this._changeInProgress = true;\n\t                    utils_hooks__hooks.updateOffset(this, true);\n\t                    this._changeInProgress = null;\n\t                }\n\t            }\n\t            return this;\n\t        } else {\n\t            return this._isUTC ? offset : getDateOffset(this);\n\t        }\n\t    }\n\t\n\t    function getSetZone (input, keepLocalTime) {\n\t        if (input != null) {\n\t            if (typeof input !== 'string') {\n\t                input = -input;\n\t            }\n\t\n\t            this.utcOffset(input, keepLocalTime);\n\t\n\t            return this;\n\t        } else {\n\t            return -this.utcOffset();\n\t        }\n\t    }\n\t\n\t    function setOffsetToUTC (keepLocalTime) {\n\t        return this.utcOffset(0, keepLocalTime);\n\t    }\n\t\n\t    function setOffsetToLocal (keepLocalTime) {\n\t        if (this._isUTC) {\n\t            this.utcOffset(0, keepLocalTime);\n\t            this._isUTC = false;\n\t\n\t            if (keepLocalTime) {\n\t                this.subtract(getDateOffset(this), 'm');\n\t            }\n\t        }\n\t        return this;\n\t    }\n\t\n\t    function setOffsetToParsedOffset () {\n\t        if (this._tzm) {\n\t            this.utcOffset(this._tzm);\n\t        } else if (typeof this._i === 'string') {\n\t            this.utcOffset(offsetFromString(this._i));\n\t        }\n\t        return this;\n\t    }\n\t\n\t    function hasAlignedHourOffset (input) {\n\t        input = input ? local__createLocal(input).utcOffset() : 0;\n\t\n\t        return (this.utcOffset() - input) % 60 === 0;\n\t    }\n\t\n\t    function isDaylightSavingTime () {\n\t        return (\n\t            this.utcOffset() > this.clone().month(0).utcOffset() ||\n\t            this.utcOffset() > this.clone().month(5).utcOffset()\n\t        );\n\t    }\n\t\n\t    function isDaylightSavingTimeShifted () {\n\t        if (typeof this._isDSTShifted !== 'undefined') {\n\t            return this._isDSTShifted;\n\t        }\n\t\n\t        var c = {};\n\t\n\t        copyConfig(c, this);\n\t        c = prepareConfig(c);\n\t\n\t        if (c._a) {\n\t            var other = c._isUTC ? create_utc__createUTC(c._a) : local__createLocal(c._a);\n\t            this._isDSTShifted = this.isValid() &&\n\t                compareArrays(c._a, other.toArray()) > 0;\n\t        } else {\n\t            this._isDSTShifted = false;\n\t        }\n\t\n\t        return this._isDSTShifted;\n\t    }\n\t\n\t    function isLocal () {\n\t        return !this._isUTC;\n\t    }\n\t\n\t    function isUtcOffset () {\n\t        return this._isUTC;\n\t    }\n\t\n\t    function isUtc () {\n\t        return this._isUTC && this._offset === 0;\n\t    }\n\t\n\t    var aspNetRegex = /(\\-)?(?:(\\d*)\\.)?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?)?/;\n\t\n\t    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n\t    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n\t    var create__isoRegex = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;\n\t\n\t    function create__createDuration (input, key) {\n\t        var duration = input,\n\t            // matching against regexp is expensive, do it on demand\n\t            match = null,\n\t            sign,\n\t            ret,\n\t            diffRes;\n\t\n\t        if (isDuration(input)) {\n\t            duration = {\n\t                ms : input._milliseconds,\n\t                d  : input._days,\n\t                M  : input._months\n\t            };\n\t        } else if (typeof input === 'number') {\n\t            duration = {};\n\t            if (key) {\n\t                duration[key] = input;\n\t            } else {\n\t                duration.milliseconds = input;\n\t            }\n\t        } else if (!!(match = aspNetRegex.exec(input))) {\n\t            sign = (match[1] === '-') ? -1 : 1;\n\t            duration = {\n\t                y  : 0,\n\t                d  : toInt(match[DATE])        * sign,\n\t                h  : toInt(match[HOUR])        * sign,\n\t                m  : toInt(match[MINUTE])      * sign,\n\t                s  : toInt(match[SECOND])      * sign,\n\t                ms : toInt(match[MILLISECOND]) * sign\n\t            };\n\t        } else if (!!(match = create__isoRegex.exec(input))) {\n\t            sign = (match[1] === '-') ? -1 : 1;\n\t            duration = {\n\t                y : parseIso(match[2], sign),\n\t                M : parseIso(match[3], sign),\n\t                d : parseIso(match[4], sign),\n\t                h : parseIso(match[5], sign),\n\t                m : parseIso(match[6], sign),\n\t                s : parseIso(match[7], sign),\n\t                w : parseIso(match[8], sign)\n\t            };\n\t        } else if (duration == null) {// checks for null or undefined\n\t            duration = {};\n\t        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n\t            diffRes = momentsDifference(local__createLocal(duration.from), local__createLocal(duration.to));\n\t\n\t            duration = {};\n\t            duration.ms = diffRes.milliseconds;\n\t            duration.M = diffRes.months;\n\t        }\n\t\n\t        ret = new Duration(duration);\n\t\n\t        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n\t            ret._locale = input._locale;\n\t        }\n\t\n\t        return ret;\n\t    }\n\t\n\t    create__createDuration.fn = Duration.prototype;\n\t\n\t    function parseIso (inp, sign) {\n\t        // We'd normally use ~~inp for this, but unfortunately it also\n\t        // converts floats to ints.\n\t        // inp may be undefined, so careful calling replace on it.\n\t        var res = inp && parseFloat(inp.replace(',', '.'));\n\t        // apply sign while we're at it\n\t        return (isNaN(res) ? 0 : res) * sign;\n\t    }\n\t\n\t    function positiveMomentsDifference(base, other) {\n\t        var res = {milliseconds: 0, months: 0};\n\t\n\t        res.months = other.month() - base.month() +\n\t            (other.year() - base.year()) * 12;\n\t        if (base.clone().add(res.months, 'M').isAfter(other)) {\n\t            --res.months;\n\t        }\n\t\n\t        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\t\n\t        return res;\n\t    }\n\t\n\t    function momentsDifference(base, other) {\n\t        var res;\n\t        other = cloneWithOffset(other, base);\n\t        if (base.isBefore(other)) {\n\t            res = positiveMomentsDifference(base, other);\n\t        } else {\n\t            res = positiveMomentsDifference(other, base);\n\t            res.milliseconds = -res.milliseconds;\n\t            res.months = -res.months;\n\t        }\n\t\n\t        return res;\n\t    }\n\t\n\t    function createAdder(direction, name) {\n\t        return function (val, period) {\n\t            var dur, tmp;\n\t            //invert the arguments, but complain about it\n\t            if (period !== null && !isNaN(+period)) {\n\t                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period).');\n\t                tmp = val; val = period; period = tmp;\n\t            }\n\t\n\t            val = typeof val === 'string' ? +val : val;\n\t            dur = create__createDuration(val, period);\n\t            add_subtract__addSubtract(this, dur, direction);\n\t            return this;\n\t        };\n\t    }\n\t\n\t    function add_subtract__addSubtract (mom, duration, isAdding, updateOffset) {\n\t        var milliseconds = duration._milliseconds,\n\t            days = duration._days,\n\t            months = duration._months;\n\t        updateOffset = updateOffset == null ? true : updateOffset;\n\t\n\t        if (milliseconds) {\n\t            mom._d.setTime(+mom._d + milliseconds * isAdding);\n\t        }\n\t        if (days) {\n\t            get_set__set(mom, 'Date', get_set__get(mom, 'Date') + days * isAdding);\n\t        }\n\t        if (months) {\n\t            setMonth(mom, get_set__get(mom, 'Month') + months * isAdding);\n\t        }\n\t        if (updateOffset) {\n\t            utils_hooks__hooks.updateOffset(mom, days || months);\n\t        }\n\t    }\n\t\n\t    var add_subtract__add      = createAdder(1, 'add');\n\t    var add_subtract__subtract = createAdder(-1, 'subtract');\n\t\n\t    function moment_calendar__calendar (time, formats) {\n\t        // We want to compare the start of today, vs this.\n\t        // Getting start-of-today depends on whether we're local/utc/offset or not.\n\t        var now = time || local__createLocal(),\n\t            sod = cloneWithOffset(now, this).startOf('day'),\n\t            diff = this.diff(sod, 'days', true),\n\t            format = diff < -6 ? 'sameElse' :\n\t                diff < -1 ? 'lastWeek' :\n\t                diff < 0 ? 'lastDay' :\n\t                diff < 1 ? 'sameDay' :\n\t                diff < 2 ? 'nextDay' :\n\t                diff < 7 ? 'nextWeek' : 'sameElse';\n\t        return this.format(formats && formats[format] || this.localeData().calendar(format, this, local__createLocal(now)));\n\t    }\n\t\n\t    function clone () {\n\t        return new Moment(this);\n\t    }\n\t\n\t    function isAfter (input, units) {\n\t        var inputMs;\n\t        units = normalizeUnits(typeof units !== 'undefined' ? units : 'millisecond');\n\t        if (units === 'millisecond') {\n\t            input = isMoment(input) ? input : local__createLocal(input);\n\t            return +this > +input;\n\t        } else {\n\t            inputMs = isMoment(input) ? +input : +local__createLocal(input);\n\t            return inputMs < +this.clone().startOf(units);\n\t        }\n\t    }\n\t\n\t    function isBefore (input, units) {\n\t        var inputMs;\n\t        units = normalizeUnits(typeof units !== 'undefined' ? units : 'millisecond');\n\t        if (units === 'millisecond') {\n\t            input = isMoment(input) ? input : local__createLocal(input);\n\t            return +this < +input;\n\t        } else {\n\t            inputMs = isMoment(input) ? +input : +local__createLocal(input);\n\t            return +this.clone().endOf(units) < inputMs;\n\t        }\n\t    }\n\t\n\t    function isBetween (from, to, units) {\n\t        return this.isAfter(from, units) && this.isBefore(to, units);\n\t    }\n\t\n\t    function isSame (input, units) {\n\t        var inputMs;\n\t        units = normalizeUnits(units || 'millisecond');\n\t        if (units === 'millisecond') {\n\t            input = isMoment(input) ? input : local__createLocal(input);\n\t            return +this === +input;\n\t        } else {\n\t            inputMs = +local__createLocal(input);\n\t            return +(this.clone().startOf(units)) <= inputMs && inputMs <= +(this.clone().endOf(units));\n\t        }\n\t    }\n\t\n\t    function diff (input, units, asFloat) {\n\t        var that = cloneWithOffset(input, this),\n\t            zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4,\n\t            delta, output;\n\t\n\t        units = normalizeUnits(units);\n\t\n\t        if (units === 'year' || units === 'month' || units === 'quarter') {\n\t            output = monthDiff(this, that);\n\t            if (units === 'quarter') {\n\t                output = output / 3;\n\t            } else if (units === 'year') {\n\t                output = output / 12;\n\t            }\n\t        } else {\n\t            delta = this - that;\n\t            output = units === 'second' ? delta / 1e3 : // 1000\n\t                units === 'minute' ? delta / 6e4 : // 1000 * 60\n\t                units === 'hour' ? delta / 36e5 : // 1000 * 60 * 60\n\t                units === 'day' ? (delta - zoneDelta) / 864e5 : // 1000 * 60 * 60 * 24, negate dst\n\t                units === 'week' ? (delta - zoneDelta) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst\n\t                delta;\n\t        }\n\t        return asFloat ? output : absFloor(output);\n\t    }\n\t\n\t    function monthDiff (a, b) {\n\t        // difference in months\n\t        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n\t            // b is in (anchor - 1 month, anchor + 1 month)\n\t            anchor = a.clone().add(wholeMonthDiff, 'months'),\n\t            anchor2, adjust;\n\t\n\t        if (b - anchor < 0) {\n\t            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n\t            // linear across the month\n\t            adjust = (b - anchor) / (anchor - anchor2);\n\t        } else {\n\t            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n\t            // linear across the month\n\t            adjust = (b - anchor) / (anchor2 - anchor);\n\t        }\n\t\n\t        return -(wholeMonthDiff + adjust);\n\t    }\n\t\n\t    utils_hooks__hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n\t\n\t    function toString () {\n\t        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n\t    }\n\t\n\t    function moment_format__toISOString () {\n\t        var m = this.clone().utc();\n\t        if (0 < m.year() && m.year() <= 9999) {\n\t            if ('function' === typeof Date.prototype.toISOString) {\n\t                // native implementation is ~50x faster, use it when we can\n\t                return this.toDate().toISOString();\n\t            } else {\n\t                return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n\t            }\n\t        } else {\n\t            return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n\t        }\n\t    }\n\t\n\t    function format (inputString) {\n\t        var output = formatMoment(this, inputString || utils_hooks__hooks.defaultFormat);\n\t        return this.localeData().postformat(output);\n\t    }\n\t\n\t    function from (time, withoutSuffix) {\n\t        if (!this.isValid()) {\n\t            return this.localeData().invalidDate();\n\t        }\n\t        return create__createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n\t    }\n\t\n\t    function fromNow (withoutSuffix) {\n\t        return this.from(local__createLocal(), withoutSuffix);\n\t    }\n\t\n\t    function to (time, withoutSuffix) {\n\t        if (!this.isValid()) {\n\t            return this.localeData().invalidDate();\n\t        }\n\t        return create__createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n\t    }\n\t\n\t    function toNow (withoutSuffix) {\n\t        return this.to(local__createLocal(), withoutSuffix);\n\t    }\n\t\n\t    function locale (key) {\n\t        var newLocaleData;\n\t\n\t        if (key === undefined) {\n\t            return this._locale._abbr;\n\t        } else {\n\t            newLocaleData = locale_locales__getLocale(key);\n\t            if (newLocaleData != null) {\n\t                this._locale = newLocaleData;\n\t            }\n\t            return this;\n\t        }\n\t    }\n\t\n\t    var lang = deprecate(\n\t        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n\t        function (key) {\n\t            if (key === undefined) {\n\t                return this.localeData();\n\t            } else {\n\t                return this.locale(key);\n\t            }\n\t        }\n\t    );\n\t\n\t    function localeData () {\n\t        return this._locale;\n\t    }\n\t\n\t    function startOf (units) {\n\t        units = normalizeUnits(units);\n\t        // the following switch intentionally omits break keywords\n\t        // to utilize falling through the cases.\n\t        switch (units) {\n\t        case 'year':\n\t            this.month(0);\n\t            /* falls through */\n\t        case 'quarter':\n\t        case 'month':\n\t            this.date(1);\n\t            /* falls through */\n\t        case 'week':\n\t        case 'isoWeek':\n\t        case 'day':\n\t            this.hours(0);\n\t            /* falls through */\n\t        case 'hour':\n\t            this.minutes(0);\n\t            /* falls through */\n\t        case 'minute':\n\t            this.seconds(0);\n\t            /* falls through */\n\t        case 'second':\n\t            this.milliseconds(0);\n\t        }\n\t\n\t        // weeks are a special case\n\t        if (units === 'week') {\n\t            this.weekday(0);\n\t        }\n\t        if (units === 'isoWeek') {\n\t            this.isoWeekday(1);\n\t        }\n\t\n\t        // quarters are also special\n\t        if (units === 'quarter') {\n\t            this.month(Math.floor(this.month() / 3) * 3);\n\t        }\n\t\n\t        return this;\n\t    }\n\t\n\t    function endOf (units) {\n\t        units = normalizeUnits(units);\n\t        if (units === undefined || units === 'millisecond') {\n\t            return this;\n\t        }\n\t        return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');\n\t    }\n\t\n\t    function to_type__valueOf () {\n\t        return +this._d - ((this._offset || 0) * 60000);\n\t    }\n\t\n\t    function unix () {\n\t        return Math.floor(+this / 1000);\n\t    }\n\t\n\t    function toDate () {\n\t        return this._offset ? new Date(+this) : this._d;\n\t    }\n\t\n\t    function toArray () {\n\t        var m = this;\n\t        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n\t    }\n\t\n\t    function toObject () {\n\t        var m = this;\n\t        return {\n\t            years: m.year(),\n\t            months: m.month(),\n\t            date: m.date(),\n\t            hours: m.hours(),\n\t            minutes: m.minutes(),\n\t            seconds: m.seconds(),\n\t            milliseconds: m.milliseconds()\n\t        };\n\t    }\n\t\n\t    function moment_valid__isValid () {\n\t        return valid__isValid(this);\n\t    }\n\t\n\t    function parsingFlags () {\n\t        return extend({}, getParsingFlags(this));\n\t    }\n\t\n\t    function invalidAt () {\n\t        return getParsingFlags(this).overflow;\n\t    }\n\t\n\t    addFormatToken(0, ['gg', 2], 0, function () {\n\t        return this.weekYear() % 100;\n\t    });\n\t\n\t    addFormatToken(0, ['GG', 2], 0, function () {\n\t        return this.isoWeekYear() % 100;\n\t    });\n\t\n\t    function addWeekYearFormatToken (token, getter) {\n\t        addFormatToken(0, [token, token.length], 0, getter);\n\t    }\n\t\n\t    addWeekYearFormatToken('gggg',     'weekYear');\n\t    addWeekYearFormatToken('ggggg',    'weekYear');\n\t    addWeekYearFormatToken('GGGG',  'isoWeekYear');\n\t    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\t\n\t    // ALIASES\n\t\n\t    addUnitAlias('weekYear', 'gg');\n\t    addUnitAlias('isoWeekYear', 'GG');\n\t\n\t    // PARSING\n\t\n\t    addRegexToken('G',      matchSigned);\n\t    addRegexToken('g',      matchSigned);\n\t    addRegexToken('GG',     match1to2, match2);\n\t    addRegexToken('gg',     match1to2, match2);\n\t    addRegexToken('GGGG',   match1to4, match4);\n\t    addRegexToken('gggg',   match1to4, match4);\n\t    addRegexToken('GGGGG',  match1to6, match6);\n\t    addRegexToken('ggggg',  match1to6, match6);\n\t\n\t    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n\t        week[token.substr(0, 2)] = toInt(input);\n\t    });\n\t\n\t    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n\t        week[token] = utils_hooks__hooks.parseTwoDigitYear(input);\n\t    });\n\t\n\t    // HELPERS\n\t\n\t    function weeksInYear(year, dow, doy) {\n\t        return weekOfYear(local__createLocal([year, 11, 31 + dow - doy]), dow, doy).week;\n\t    }\n\t\n\t    // MOMENTS\n\t\n\t    function getSetWeekYear (input) {\n\t        var year = weekOfYear(this, this.localeData()._week.dow, this.localeData()._week.doy).year;\n\t        return input == null ? year : this.add((input - year), 'y');\n\t    }\n\t\n\t    function getSetISOWeekYear (input) {\n\t        var year = weekOfYear(this, 1, 4).year;\n\t        return input == null ? year : this.add((input - year), 'y');\n\t    }\n\t\n\t    function getISOWeeksInYear () {\n\t        return weeksInYear(this.year(), 1, 4);\n\t    }\n\t\n\t    function getWeeksInYear () {\n\t        var weekInfo = this.localeData()._week;\n\t        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n\t    }\n\t\n\t    addFormatToken('Q', 0, 0, 'quarter');\n\t\n\t    // ALIASES\n\t\n\t    addUnitAlias('quarter', 'Q');\n\t\n\t    // PARSING\n\t\n\t    addRegexToken('Q', match1);\n\t    addParseToken('Q', function (input, array) {\n\t        array[MONTH] = (toInt(input) - 1) * 3;\n\t    });\n\t\n\t    // MOMENTS\n\t\n\t    function getSetQuarter (input) {\n\t        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n\t    }\n\t\n\t    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\t\n\t    // ALIASES\n\t\n\t    addUnitAlias('date', 'D');\n\t\n\t    // PARSING\n\t\n\t    addRegexToken('D',  match1to2);\n\t    addRegexToken('DD', match1to2, match2);\n\t    addRegexToken('Do', function (isStrict, locale) {\n\t        return isStrict ? locale._ordinalParse : locale._ordinalParseLenient;\n\t    });\n\t\n\t    addParseToken(['D', 'DD'], DATE);\n\t    addParseToken('Do', function (input, array) {\n\t        array[DATE] = toInt(input.match(match1to2)[0], 10);\n\t    });\n\t\n\t    // MOMENTS\n\t\n\t    var getSetDayOfMonth = makeGetSet('Date', true);\n\t\n\t    addFormatToken('d', 0, 'do', 'day');\n\t\n\t    addFormatToken('dd', 0, 0, function (format) {\n\t        return this.localeData().weekdaysMin(this, format);\n\t    });\n\t\n\t    addFormatToken('ddd', 0, 0, function (format) {\n\t        return this.localeData().weekdaysShort(this, format);\n\t    });\n\t\n\t    addFormatToken('dddd', 0, 0, function (format) {\n\t        return this.localeData().weekdays(this, format);\n\t    });\n\t\n\t    addFormatToken('e', 0, 0, 'weekday');\n\t    addFormatToken('E', 0, 0, 'isoWeekday');\n\t\n\t    // ALIASES\n\t\n\t    addUnitAlias('day', 'd');\n\t    addUnitAlias('weekday', 'e');\n\t    addUnitAlias('isoWeekday', 'E');\n\t\n\t    // PARSING\n\t\n\t    addRegexToken('d',    match1to2);\n\t    addRegexToken('e',    match1to2);\n\t    addRegexToken('E',    match1to2);\n\t    addRegexToken('dd',   matchWord);\n\t    addRegexToken('ddd',  matchWord);\n\t    addRegexToken('dddd', matchWord);\n\t\n\t    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config) {\n\t        var weekday = config._locale.weekdaysParse(input);\n\t        // if we didn't get a weekday name, mark the date as invalid\n\t        if (weekday != null) {\n\t            week.d = weekday;\n\t        } else {\n\t            getParsingFlags(config).invalidWeekday = input;\n\t        }\n\t    });\n\t\n\t    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n\t        week[token] = toInt(input);\n\t    });\n\t\n\t    // HELPERS\n\t\n\t    function parseWeekday(input, locale) {\n\t        if (typeof input !== 'string') {\n\t            return input;\n\t        }\n\t\n\t        if (!isNaN(input)) {\n\t            return parseInt(input, 10);\n\t        }\n\t\n\t        input = locale.weekdaysParse(input);\n\t        if (typeof input === 'number') {\n\t            return input;\n\t        }\n\t\n\t        return null;\n\t    }\n\t\n\t    // LOCALES\n\t\n\t    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\n\t    function localeWeekdays (m) {\n\t        return this._weekdays[m.day()];\n\t    }\n\t\n\t    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\n\t    function localeWeekdaysShort (m) {\n\t        return this._weekdaysShort[m.day()];\n\t    }\n\t\n\t    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\n\t    function localeWeekdaysMin (m) {\n\t        return this._weekdaysMin[m.day()];\n\t    }\n\t\n\t    function localeWeekdaysParse (weekdayName) {\n\t        var i, mom, regex;\n\t\n\t        this._weekdaysParse = this._weekdaysParse || [];\n\t\n\t        for (i = 0; i < 7; i++) {\n\t            // make the regex if we don't have it already\n\t            if (!this._weekdaysParse[i]) {\n\t                mom = local__createLocal([2000, 1]).day(i);\n\t                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n\t                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n\t            }\n\t            // test the regex\n\t            if (this._weekdaysParse[i].test(weekdayName)) {\n\t                return i;\n\t            }\n\t        }\n\t    }\n\t\n\t    // MOMENTS\n\t\n\t    function getSetDayOfWeek (input) {\n\t        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n\t        if (input != null) {\n\t            input = parseWeekday(input, this.localeData());\n\t            return this.add(input - day, 'd');\n\t        } else {\n\t            return day;\n\t        }\n\t    }\n\t\n\t    function getSetLocaleDayOfWeek (input) {\n\t        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n\t        return input == null ? weekday : this.add(input - weekday, 'd');\n\t    }\n\t\n\t    function getSetISODayOfWeek (input) {\n\t        // behaves the same as moment#day except\n\t        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n\t        // as a setter, sunday should belong to the previous week.\n\t        return input == null ? this.day() || 7 : this.day(this.day() % 7 ? input : input - 7);\n\t    }\n\t\n\t    addFormatToken('H', ['HH', 2], 0, 'hour');\n\t    addFormatToken('h', ['hh', 2], 0, function () {\n\t        return this.hours() % 12 || 12;\n\t    });\n\t\n\t    function meridiem (token, lowercase) {\n\t        addFormatToken(token, 0, 0, function () {\n\t            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n\t        });\n\t    }\n\t\n\t    meridiem('a', true);\n\t    meridiem('A', false);\n\t\n\t    // ALIASES\n\t\n\t    addUnitAlias('hour', 'h');\n\t\n\t    // PARSING\n\t\n\t    function matchMeridiem (isStrict, locale) {\n\t        return locale._meridiemParse;\n\t    }\n\t\n\t    addRegexToken('a',  matchMeridiem);\n\t    addRegexToken('A',  matchMeridiem);\n\t    addRegexToken('H',  match1to2);\n\t    addRegexToken('h',  match1to2);\n\t    addRegexToken('HH', match1to2, match2);\n\t    addRegexToken('hh', match1to2, match2);\n\t\n\t    addParseToken(['H', 'HH'], HOUR);\n\t    addParseToken(['a', 'A'], function (input, array, config) {\n\t        config._isPm = config._locale.isPM(input);\n\t        config._meridiem = input;\n\t    });\n\t    addParseToken(['h', 'hh'], function (input, array, config) {\n\t        array[HOUR] = toInt(input);\n\t        getParsingFlags(config).bigHour = true;\n\t    });\n\t\n\t    // LOCALES\n\t\n\t    function localeIsPM (input) {\n\t        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n\t        // Using charAt should be more compatible.\n\t        return ((input + '').toLowerCase().charAt(0) === 'p');\n\t    }\n\t\n\t    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\n\t    function localeMeridiem (hours, minutes, isLower) {\n\t        if (hours > 11) {\n\t            return isLower ? 'pm' : 'PM';\n\t        } else {\n\t            return isLower ? 'am' : 'AM';\n\t        }\n\t    }\n\t\n\t\n\t    // MOMENTS\n\t\n\t    // Setting the hour should keep the time, because the user explicitly\n\t    // specified which hour he wants. So trying to maintain the same hour (in\n\t    // a new timezone) makes sense. Adding/subtracting hours does not follow\n\t    // this rule.\n\t    var getSetHour = makeGetSet('Hours', true);\n\t\n\t    addFormatToken('m', ['mm', 2], 0, 'minute');\n\t\n\t    // ALIASES\n\t\n\t    addUnitAlias('minute', 'm');\n\t\n\t    // PARSING\n\t\n\t    addRegexToken('m',  match1to2);\n\t    addRegexToken('mm', match1to2, match2);\n\t    addParseToken(['m', 'mm'], MINUTE);\n\t\n\t    // MOMENTS\n\t\n\t    var getSetMinute = makeGetSet('Minutes', false);\n\t\n\t    addFormatToken('s', ['ss', 2], 0, 'second');\n\t\n\t    // ALIASES\n\t\n\t    addUnitAlias('second', 's');\n\t\n\t    // PARSING\n\t\n\t    addRegexToken('s',  match1to2);\n\t    addRegexToken('ss', match1to2, match2);\n\t    addParseToken(['s', 'ss'], SECOND);\n\t\n\t    // MOMENTS\n\t\n\t    var getSetSecond = makeGetSet('Seconds', false);\n\t\n\t    addFormatToken('S', 0, 0, function () {\n\t        return ~~(this.millisecond() / 100);\n\t    });\n\t\n\t    addFormatToken(0, ['SS', 2], 0, function () {\n\t        return ~~(this.millisecond() / 10);\n\t    });\n\t\n\t    addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n\t    addFormatToken(0, ['SSSS', 4], 0, function () {\n\t        return this.millisecond() * 10;\n\t    });\n\t    addFormatToken(0, ['SSSSS', 5], 0, function () {\n\t        return this.millisecond() * 100;\n\t    });\n\t    addFormatToken(0, ['SSSSSS', 6], 0, function () {\n\t        return this.millisecond() * 1000;\n\t    });\n\t    addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n\t        return this.millisecond() * 10000;\n\t    });\n\t    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n\t        return this.millisecond() * 100000;\n\t    });\n\t    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n\t        return this.millisecond() * 1000000;\n\t    });\n\t\n\t\n\t    // ALIASES\n\t\n\t    addUnitAlias('millisecond', 'ms');\n\t\n\t    // PARSING\n\t\n\t    addRegexToken('S',    match1to3, match1);\n\t    addRegexToken('SS',   match1to3, match2);\n\t    addRegexToken('SSS',  match1to3, match3);\n\t\n\t    var token;\n\t    for (token = 'SSSS'; token.length <= 9; token += 'S') {\n\t        addRegexToken(token, matchUnsigned);\n\t    }\n\t\n\t    function parseMs(input, array) {\n\t        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n\t    }\n\t\n\t    for (token = 'S'; token.length <= 9; token += 'S') {\n\t        addParseToken(token, parseMs);\n\t    }\n\t    // MOMENTS\n\t\n\t    var getSetMillisecond = makeGetSet('Milliseconds', false);\n\t\n\t    addFormatToken('z',  0, 0, 'zoneAbbr');\n\t    addFormatToken('zz', 0, 0, 'zoneName');\n\t\n\t    // MOMENTS\n\t\n\t    function getZoneAbbr () {\n\t        return this._isUTC ? 'UTC' : '';\n\t    }\n\t\n\t    function getZoneName () {\n\t        return this._isUTC ? 'Coordinated Universal Time' : '';\n\t    }\n\t\n\t    var momentPrototype__proto = Moment.prototype;\n\t\n\t    momentPrototype__proto.add          = add_subtract__add;\n\t    momentPrototype__proto.calendar     = moment_calendar__calendar;\n\t    momentPrototype__proto.clone        = clone;\n\t    momentPrototype__proto.diff         = diff;\n\t    momentPrototype__proto.endOf        = endOf;\n\t    momentPrototype__proto.format       = format;\n\t    momentPrototype__proto.from         = from;\n\t    momentPrototype__proto.fromNow      = fromNow;\n\t    momentPrototype__proto.to           = to;\n\t    momentPrototype__proto.toNow        = toNow;\n\t    momentPrototype__proto.get          = getSet;\n\t    momentPrototype__proto.invalidAt    = invalidAt;\n\t    momentPrototype__proto.isAfter      = isAfter;\n\t    momentPrototype__proto.isBefore     = isBefore;\n\t    momentPrototype__proto.isBetween    = isBetween;\n\t    momentPrototype__proto.isSame       = isSame;\n\t    momentPrototype__proto.isValid      = moment_valid__isValid;\n\t    momentPrototype__proto.lang         = lang;\n\t    momentPrototype__proto.locale       = locale;\n\t    momentPrototype__proto.localeData   = localeData;\n\t    momentPrototype__proto.max          = prototypeMax;\n\t    momentPrototype__proto.min          = prototypeMin;\n\t    momentPrototype__proto.parsingFlags = parsingFlags;\n\t    momentPrototype__proto.set          = getSet;\n\t    momentPrototype__proto.startOf      = startOf;\n\t    momentPrototype__proto.subtract     = add_subtract__subtract;\n\t    momentPrototype__proto.toArray      = toArray;\n\t    momentPrototype__proto.toObject     = toObject;\n\t    momentPrototype__proto.toDate       = toDate;\n\t    momentPrototype__proto.toISOString  = moment_format__toISOString;\n\t    momentPrototype__proto.toJSON       = moment_format__toISOString;\n\t    momentPrototype__proto.toString     = toString;\n\t    momentPrototype__proto.unix         = unix;\n\t    momentPrototype__proto.valueOf      = to_type__valueOf;\n\t\n\t    // Year\n\t    momentPrototype__proto.year       = getSetYear;\n\t    momentPrototype__proto.isLeapYear = getIsLeapYear;\n\t\n\t    // Week Year\n\t    momentPrototype__proto.weekYear    = getSetWeekYear;\n\t    momentPrototype__proto.isoWeekYear = getSetISOWeekYear;\n\t\n\t    // Quarter\n\t    momentPrototype__proto.quarter = momentPrototype__proto.quarters = getSetQuarter;\n\t\n\t    // Month\n\t    momentPrototype__proto.month       = getSetMonth;\n\t    momentPrototype__proto.daysInMonth = getDaysInMonth;\n\t\n\t    // Week\n\t    momentPrototype__proto.week           = momentPrototype__proto.weeks        = getSetWeek;\n\t    momentPrototype__proto.isoWeek        = momentPrototype__proto.isoWeeks     = getSetISOWeek;\n\t    momentPrototype__proto.weeksInYear    = getWeeksInYear;\n\t    momentPrototype__proto.isoWeeksInYear = getISOWeeksInYear;\n\t\n\t    // Day\n\t    momentPrototype__proto.date       = getSetDayOfMonth;\n\t    momentPrototype__proto.day        = momentPrototype__proto.days             = getSetDayOfWeek;\n\t    momentPrototype__proto.weekday    = getSetLocaleDayOfWeek;\n\t    momentPrototype__proto.isoWeekday = getSetISODayOfWeek;\n\t    momentPrototype__proto.dayOfYear  = getSetDayOfYear;\n\t\n\t    // Hour\n\t    momentPrototype__proto.hour = momentPrototype__proto.hours = getSetHour;\n\t\n\t    // Minute\n\t    momentPrototype__proto.minute = momentPrototype__proto.minutes = getSetMinute;\n\t\n\t    // Second\n\t    momentPrototype__proto.second = momentPrototype__proto.seconds = getSetSecond;\n\t\n\t    // Millisecond\n\t    momentPrototype__proto.millisecond = momentPrototype__proto.milliseconds = getSetMillisecond;\n\t\n\t    // Offset\n\t    momentPrototype__proto.utcOffset            = getSetOffset;\n\t    momentPrototype__proto.utc                  = setOffsetToUTC;\n\t    momentPrototype__proto.local                = setOffsetToLocal;\n\t    momentPrototype__proto.parseZone            = setOffsetToParsedOffset;\n\t    momentPrototype__proto.hasAlignedHourOffset = hasAlignedHourOffset;\n\t    momentPrototype__proto.isDST                = isDaylightSavingTime;\n\t    momentPrototype__proto.isDSTShifted         = isDaylightSavingTimeShifted;\n\t    momentPrototype__proto.isLocal              = isLocal;\n\t    momentPrototype__proto.isUtcOffset          = isUtcOffset;\n\t    momentPrototype__proto.isUtc                = isUtc;\n\t    momentPrototype__proto.isUTC                = isUtc;\n\t\n\t    // Timezone\n\t    momentPrototype__proto.zoneAbbr = getZoneAbbr;\n\t    momentPrototype__proto.zoneName = getZoneName;\n\t\n\t    // Deprecations\n\t    momentPrototype__proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\n\t    momentPrototype__proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\n\t    momentPrototype__proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\n\t    momentPrototype__proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779', getSetZone);\n\t\n\t    var momentPrototype = momentPrototype__proto;\n\t\n\t    function moment__createUnix (input) {\n\t        return local__createLocal(input * 1000);\n\t    }\n\t\n\t    function moment__createInZone () {\n\t        return local__createLocal.apply(null, arguments).parseZone();\n\t    }\n\t\n\t    var defaultCalendar = {\n\t        sameDay : '[Today at] LT',\n\t        nextDay : '[Tomorrow at] LT',\n\t        nextWeek : 'dddd [at] LT',\n\t        lastDay : '[Yesterday at] LT',\n\t        lastWeek : '[Last] dddd [at] LT',\n\t        sameElse : 'L'\n\t    };\n\t\n\t    function locale_calendar__calendar (key, mom, now) {\n\t        var output = this._calendar[key];\n\t        return typeof output === 'function' ? output.call(mom, now) : output;\n\t    }\n\t\n\t    var defaultLongDateFormat = {\n\t        LTS  : 'h:mm:ss A',\n\t        LT   : 'h:mm A',\n\t        L    : 'MM/DD/YYYY',\n\t        LL   : 'MMMM D, YYYY',\n\t        LLL  : 'MMMM D, YYYY h:mm A',\n\t        LLLL : 'dddd, MMMM D, YYYY h:mm A'\n\t    };\n\t\n\t    function longDateFormat (key) {\n\t        var format = this._longDateFormat[key],\n\t            formatUpper = this._longDateFormat[key.toUpperCase()];\n\t\n\t        if (format || !formatUpper) {\n\t            return format;\n\t        }\n\t\n\t        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n\t            return val.slice(1);\n\t        });\n\t\n\t        return this._longDateFormat[key];\n\t    }\n\t\n\t    var defaultInvalidDate = 'Invalid date';\n\t\n\t    function invalidDate () {\n\t        return this._invalidDate;\n\t    }\n\t\n\t    var defaultOrdinal = '%d';\n\t    var defaultOrdinalParse = /\\d{1,2}/;\n\t\n\t    function ordinal (number) {\n\t        return this._ordinal.replace('%d', number);\n\t    }\n\t\n\t    function preParsePostFormat (string) {\n\t        return string;\n\t    }\n\t\n\t    var defaultRelativeTime = {\n\t        future : 'in %s',\n\t        past   : '%s ago',\n\t        s  : 'a few seconds',\n\t        m  : 'a minute',\n\t        mm : '%d minutes',\n\t        h  : 'an hour',\n\t        hh : '%d hours',\n\t        d  : 'a day',\n\t        dd : '%d days',\n\t        M  : 'a month',\n\t        MM : '%d months',\n\t        y  : 'a year',\n\t        yy : '%d years'\n\t    };\n\t\n\t    function relative__relativeTime (number, withoutSuffix, string, isFuture) {\n\t        var output = this._relativeTime[string];\n\t        return (typeof output === 'function') ?\n\t            output(number, withoutSuffix, string, isFuture) :\n\t            output.replace(/%d/i, number);\n\t    }\n\t\n\t    function pastFuture (diff, output) {\n\t        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n\t        return typeof format === 'function' ? format(output) : format.replace(/%s/i, output);\n\t    }\n\t\n\t    function locale_set__set (config) {\n\t        var prop, i;\n\t        for (i in config) {\n\t            prop = config[i];\n\t            if (typeof prop === 'function') {\n\t                this[i] = prop;\n\t            } else {\n\t                this['_' + i] = prop;\n\t            }\n\t        }\n\t        // Lenient ordinal parsing accepts just a number in addition to\n\t        // number + (possibly) stuff coming from _ordinalParseLenient.\n\t        this._ordinalParseLenient = new RegExp(this._ordinalParse.source + '|' + (/\\d{1,2}/).source);\n\t    }\n\t\n\t    var prototype__proto = Locale.prototype;\n\t\n\t    prototype__proto._calendar       = defaultCalendar;\n\t    prototype__proto.calendar        = locale_calendar__calendar;\n\t    prototype__proto._longDateFormat = defaultLongDateFormat;\n\t    prototype__proto.longDateFormat  = longDateFormat;\n\t    prototype__proto._invalidDate    = defaultInvalidDate;\n\t    prototype__proto.invalidDate     = invalidDate;\n\t    prototype__proto._ordinal        = defaultOrdinal;\n\t    prototype__proto.ordinal         = ordinal;\n\t    prototype__proto._ordinalParse   = defaultOrdinalParse;\n\t    prototype__proto.preparse        = preParsePostFormat;\n\t    prototype__proto.postformat      = preParsePostFormat;\n\t    prototype__proto._relativeTime   = defaultRelativeTime;\n\t    prototype__proto.relativeTime    = relative__relativeTime;\n\t    prototype__proto.pastFuture      = pastFuture;\n\t    prototype__proto.set             = locale_set__set;\n\t\n\t    // Month\n\t    prototype__proto.months       =        localeMonths;\n\t    prototype__proto._months      = defaultLocaleMonths;\n\t    prototype__proto.monthsShort  =        localeMonthsShort;\n\t    prototype__proto._monthsShort = defaultLocaleMonthsShort;\n\t    prototype__proto.monthsParse  =        localeMonthsParse;\n\t\n\t    // Week\n\t    prototype__proto.week = localeWeek;\n\t    prototype__proto._week = defaultLocaleWeek;\n\t    prototype__proto.firstDayOfYear = localeFirstDayOfYear;\n\t    prototype__proto.firstDayOfWeek = localeFirstDayOfWeek;\n\t\n\t    // Day of Week\n\t    prototype__proto.weekdays       =        localeWeekdays;\n\t    prototype__proto._weekdays      = defaultLocaleWeekdays;\n\t    prototype__proto.weekdaysMin    =        localeWeekdaysMin;\n\t    prototype__proto._weekdaysMin   = defaultLocaleWeekdaysMin;\n\t    prototype__proto.weekdaysShort  =        localeWeekdaysShort;\n\t    prototype__proto._weekdaysShort = defaultLocaleWeekdaysShort;\n\t    prototype__proto.weekdaysParse  =        localeWeekdaysParse;\n\t\n\t    // Hours\n\t    prototype__proto.isPM = localeIsPM;\n\t    prototype__proto._meridiemParse = defaultLocaleMeridiemParse;\n\t    prototype__proto.meridiem = localeMeridiem;\n\t\n\t    function lists__get (format, index, field, setter) {\n\t        var locale = locale_locales__getLocale();\n\t        var utc = create_utc__createUTC().set(setter, index);\n\t        return locale[field](utc, format);\n\t    }\n\t\n\t    function list (format, index, field, count, setter) {\n\t        if (typeof format === 'number') {\n\t            index = format;\n\t            format = undefined;\n\t        }\n\t\n\t        format = format || '';\n\t\n\t        if (index != null) {\n\t            return lists__get(format, index, field, setter);\n\t        }\n\t\n\t        var i;\n\t        var out = [];\n\t        for (i = 0; i < count; i++) {\n\t            out[i] = lists__get(format, i, field, setter);\n\t        }\n\t        return out;\n\t    }\n\t\n\t    function lists__listMonths (format, index) {\n\t        return list(format, index, 'months', 12, 'month');\n\t    }\n\t\n\t    function lists__listMonthsShort (format, index) {\n\t        return list(format, index, 'monthsShort', 12, 'month');\n\t    }\n\t\n\t    function lists__listWeekdays (format, index) {\n\t        return list(format, index, 'weekdays', 7, 'day');\n\t    }\n\t\n\t    function lists__listWeekdaysShort (format, index) {\n\t        return list(format, index, 'weekdaysShort', 7, 'day');\n\t    }\n\t\n\t    function lists__listWeekdaysMin (format, index) {\n\t        return list(format, index, 'weekdaysMin', 7, 'day');\n\t    }\n\t\n\t    locale_locales__getSetGlobalLocale('en', {\n\t        ordinalParse: /\\d{1,2}(th|st|nd|rd)/,\n\t        ordinal : function (number) {\n\t            var b = number % 10,\n\t                output = (toInt(number % 100 / 10) === 1) ? 'th' :\n\t                (b === 1) ? 'st' :\n\t                (b === 2) ? 'nd' :\n\t                (b === 3) ? 'rd' : 'th';\n\t            return number + output;\n\t        }\n\t    });\n\t\n\t    // Side effect imports\n\t    utils_hooks__hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', locale_locales__getSetGlobalLocale);\n\t    utils_hooks__hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', locale_locales__getLocale);\n\t\n\t    var mathAbs = Math.abs;\n\t\n\t    function duration_abs__abs () {\n\t        var data           = this._data;\n\t\n\t        this._milliseconds = mathAbs(this._milliseconds);\n\t        this._days         = mathAbs(this._days);\n\t        this._months       = mathAbs(this._months);\n\t\n\t        data.milliseconds  = mathAbs(data.milliseconds);\n\t        data.seconds       = mathAbs(data.seconds);\n\t        data.minutes       = mathAbs(data.minutes);\n\t        data.hours         = mathAbs(data.hours);\n\t        data.months        = mathAbs(data.months);\n\t        data.years         = mathAbs(data.years);\n\t\n\t        return this;\n\t    }\n\t\n\t    function duration_add_subtract__addSubtract (duration, input, value, direction) {\n\t        var other = create__createDuration(input, value);\n\t\n\t        duration._milliseconds += direction * other._milliseconds;\n\t        duration._days         += direction * other._days;\n\t        duration._months       += direction * other._months;\n\t\n\t        return duration._bubble();\n\t    }\n\t\n\t    // supports only 2.0-style add(1, 's') or add(duration)\n\t    function duration_add_subtract__add (input, value) {\n\t        return duration_add_subtract__addSubtract(this, input, value, 1);\n\t    }\n\t\n\t    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n\t    function duration_add_subtract__subtract (input, value) {\n\t        return duration_add_subtract__addSubtract(this, input, value, -1);\n\t    }\n\t\n\t    function absCeil (number) {\n\t        if (number < 0) {\n\t            return Math.floor(number);\n\t        } else {\n\t            return Math.ceil(number);\n\t        }\n\t    }\n\t\n\t    function bubble () {\n\t        var milliseconds = this._milliseconds;\n\t        var days         = this._days;\n\t        var months       = this._months;\n\t        var data         = this._data;\n\t        var seconds, minutes, hours, years, monthsFromDays;\n\t\n\t        // if we have a mix of positive and negative values, bubble down first\n\t        // check: https://github.com/moment/moment/issues/2166\n\t        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n\t                (milliseconds <= 0 && days <= 0 && months <= 0))) {\n\t            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n\t            days = 0;\n\t            months = 0;\n\t        }\n\t\n\t        // The following code bubbles up values, see the tests for\n\t        // examples of what that means.\n\t        data.milliseconds = milliseconds % 1000;\n\t\n\t        seconds           = absFloor(milliseconds / 1000);\n\t        data.seconds      = seconds % 60;\n\t\n\t        minutes           = absFloor(seconds / 60);\n\t        data.minutes      = minutes % 60;\n\t\n\t        hours             = absFloor(minutes / 60);\n\t        data.hours        = hours % 24;\n\t\n\t        days += absFloor(hours / 24);\n\t\n\t        // convert days to months\n\t        monthsFromDays = absFloor(daysToMonths(days));\n\t        months += monthsFromDays;\n\t        days -= absCeil(monthsToDays(monthsFromDays));\n\t\n\t        // 12 months -> 1 year\n\t        years = absFloor(months / 12);\n\t        months %= 12;\n\t\n\t        data.days   = days;\n\t        data.months = months;\n\t        data.years  = years;\n\t\n\t        return this;\n\t    }\n\t\n\t    function daysToMonths (days) {\n\t        // 400 years have 146097 days (taking into account leap year rules)\n\t        // 400 years have 12 months === 4800\n\t        return days * 4800 / 146097;\n\t    }\n\t\n\t    function monthsToDays (months) {\n\t        // the reverse of daysToMonths\n\t        return months * 146097 / 4800;\n\t    }\n\t\n\t    function as (units) {\n\t        var days;\n\t        var months;\n\t        var milliseconds = this._milliseconds;\n\t\n\t        units = normalizeUnits(units);\n\t\n\t        if (units === 'month' || units === 'year') {\n\t            days   = this._days   + milliseconds / 864e5;\n\t            months = this._months + daysToMonths(days);\n\t            return units === 'month' ? months : months / 12;\n\t        } else {\n\t            // handle milliseconds separately because of floating point math errors (issue #1867)\n\t            days = this._days + Math.round(monthsToDays(this._months));\n\t            switch (units) {\n\t                case 'week'   : return days / 7     + milliseconds / 6048e5;\n\t                case 'day'    : return days         + milliseconds / 864e5;\n\t                case 'hour'   : return days * 24    + milliseconds / 36e5;\n\t                case 'minute' : return days * 1440  + milliseconds / 6e4;\n\t                case 'second' : return days * 86400 + milliseconds / 1000;\n\t                // Math.floor prevents floating point math errors here\n\t                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n\t                default: throw new Error('Unknown unit ' + units);\n\t            }\n\t        }\n\t    }\n\t\n\t    // TODO: Use this.as('ms')?\n\t    function duration_as__valueOf () {\n\t        return (\n\t            this._milliseconds +\n\t            this._days * 864e5 +\n\t            (this._months % 12) * 2592e6 +\n\t            toInt(this._months / 12) * 31536e6\n\t        );\n\t    }\n\t\n\t    function makeAs (alias) {\n\t        return function () {\n\t            return this.as(alias);\n\t        };\n\t    }\n\t\n\t    var asMilliseconds = makeAs('ms');\n\t    var asSeconds      = makeAs('s');\n\t    var asMinutes      = makeAs('m');\n\t    var asHours        = makeAs('h');\n\t    var asDays         = makeAs('d');\n\t    var asWeeks        = makeAs('w');\n\t    var asMonths       = makeAs('M');\n\t    var asYears        = makeAs('y');\n\t\n\t    function duration_get__get (units) {\n\t        units = normalizeUnits(units);\n\t        return this[units + 's']();\n\t    }\n\t\n\t    function makeGetter(name) {\n\t        return function () {\n\t            return this._data[name];\n\t        };\n\t    }\n\t\n\t    var milliseconds = makeGetter('milliseconds');\n\t    var seconds      = makeGetter('seconds');\n\t    var minutes      = makeGetter('minutes');\n\t    var hours        = makeGetter('hours');\n\t    var days         = makeGetter('days');\n\t    var months       = makeGetter('months');\n\t    var years        = makeGetter('years');\n\t\n\t    function weeks () {\n\t        return absFloor(this.days() / 7);\n\t    }\n\t\n\t    var round = Math.round;\n\t    var thresholds = {\n\t        s: 45,  // seconds to minute\n\t        m: 45,  // minutes to hour\n\t        h: 22,  // hours to day\n\t        d: 26,  // days to month\n\t        M: 11   // months to year\n\t    };\n\t\n\t    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n\t    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n\t        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n\t    }\n\t\n\t    function duration_humanize__relativeTime (posNegDuration, withoutSuffix, locale) {\n\t        var duration = create__createDuration(posNegDuration).abs();\n\t        var seconds  = round(duration.as('s'));\n\t        var minutes  = round(duration.as('m'));\n\t        var hours    = round(duration.as('h'));\n\t        var days     = round(duration.as('d'));\n\t        var months   = round(duration.as('M'));\n\t        var years    = round(duration.as('y'));\n\t\n\t        var a = seconds < thresholds.s && ['s', seconds]  ||\n\t                minutes === 1          && ['m']           ||\n\t                minutes < thresholds.m && ['mm', minutes] ||\n\t                hours   === 1          && ['h']           ||\n\t                hours   < thresholds.h && ['hh', hours]   ||\n\t                days    === 1          && ['d']           ||\n\t                days    < thresholds.d && ['dd', days]    ||\n\t                months  === 1          && ['M']           ||\n\t                months  < thresholds.M && ['MM', months]  ||\n\t                years   === 1          && ['y']           || ['yy', years];\n\t\n\t        a[2] = withoutSuffix;\n\t        a[3] = +posNegDuration > 0;\n\t        a[4] = locale;\n\t        return substituteTimeAgo.apply(null, a);\n\t    }\n\t\n\t    // This function allows you to set a threshold for relative time strings\n\t    function duration_humanize__getSetRelativeTimeThreshold (threshold, limit) {\n\t        if (thresholds[threshold] === undefined) {\n\t            return false;\n\t        }\n\t        if (limit === undefined) {\n\t            return thresholds[threshold];\n\t        }\n\t        thresholds[threshold] = limit;\n\t        return true;\n\t    }\n\t\n\t    function humanize (withSuffix) {\n\t        var locale = this.localeData();\n\t        var output = duration_humanize__relativeTime(this, !withSuffix, locale);\n\t\n\t        if (withSuffix) {\n\t            output = locale.pastFuture(+this, output);\n\t        }\n\t\n\t        return locale.postformat(output);\n\t    }\n\t\n\t    var iso_string__abs = Math.abs;\n\t\n\t    function iso_string__toISOString() {\n\t        // for ISO strings we do not use the normal bubbling rules:\n\t        //  * milliseconds bubble up until they become hours\n\t        //  * days do not bubble at all\n\t        //  * months bubble up until they become years\n\t        // This is because there is no context-free conversion between hours and days\n\t        // (think of clock changes)\n\t        // and also not between days and months (28-31 days per month)\n\t        var seconds = iso_string__abs(this._milliseconds) / 1000;\n\t        var days         = iso_string__abs(this._days);\n\t        var months       = iso_string__abs(this._months);\n\t        var minutes, hours, years;\n\t\n\t        // 3600 seconds -> 60 minutes -> 1 hour\n\t        minutes           = absFloor(seconds / 60);\n\t        hours             = absFloor(minutes / 60);\n\t        seconds %= 60;\n\t        minutes %= 60;\n\t\n\t        // 12 months -> 1 year\n\t        years  = absFloor(months / 12);\n\t        months %= 12;\n\t\n\t\n\t        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n\t        var Y = years;\n\t        var M = months;\n\t        var D = days;\n\t        var h = hours;\n\t        var m = minutes;\n\t        var s = seconds;\n\t        var total = this.asSeconds();\n\t\n\t        if (!total) {\n\t            // this is the same as C#'s (Noda) and python (isodate)...\n\t            // but not other JS (goog.date)\n\t            return 'P0D';\n\t        }\n\t\n\t        return (total < 0 ? '-' : '') +\n\t            'P' +\n\t            (Y ? Y + 'Y' : '') +\n\t            (M ? M + 'M' : '') +\n\t            (D ? D + 'D' : '') +\n\t            ((h || m || s) ? 'T' : '') +\n\t            (h ? h + 'H' : '') +\n\t            (m ? m + 'M' : '') +\n\t            (s ? s + 'S' : '');\n\t    }\n\t\n\t    var duration_prototype__proto = Duration.prototype;\n\t\n\t    duration_prototype__proto.abs            = duration_abs__abs;\n\t    duration_prototype__proto.add            = duration_add_subtract__add;\n\t    duration_prototype__proto.subtract       = duration_add_subtract__subtract;\n\t    duration_prototype__proto.as             = as;\n\t    duration_prototype__proto.asMilliseconds = asMilliseconds;\n\t    duration_prototype__proto.asSeconds      = asSeconds;\n\t    duration_prototype__proto.asMinutes      = asMinutes;\n\t    duration_prototype__proto.asHours        = asHours;\n\t    duration_prototype__proto.asDays         = asDays;\n\t    duration_prototype__proto.asWeeks        = asWeeks;\n\t    duration_prototype__proto.asMonths       = asMonths;\n\t    duration_prototype__proto.asYears        = asYears;\n\t    duration_prototype__proto.valueOf        = duration_as__valueOf;\n\t    duration_prototype__proto._bubble        = bubble;\n\t    duration_prototype__proto.get            = duration_get__get;\n\t    duration_prototype__proto.milliseconds   = milliseconds;\n\t    duration_prototype__proto.seconds        = seconds;\n\t    duration_prototype__proto.minutes        = minutes;\n\t    duration_prototype__proto.hours          = hours;\n\t    duration_prototype__proto.days           = days;\n\t    duration_prototype__proto.weeks          = weeks;\n\t    duration_prototype__proto.months         = months;\n\t    duration_prototype__proto.years          = years;\n\t    duration_prototype__proto.humanize       = humanize;\n\t    duration_prototype__proto.toISOString    = iso_string__toISOString;\n\t    duration_prototype__proto.toString       = iso_string__toISOString;\n\t    duration_prototype__proto.toJSON         = iso_string__toISOString;\n\t    duration_prototype__proto.locale         = locale;\n\t    duration_prototype__proto.localeData     = localeData;\n\t\n\t    // Deprecations\n\t    duration_prototype__proto.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', iso_string__toISOString);\n\t    duration_prototype__proto.lang = lang;\n\t\n\t    // Side effect imports\n\t\n\t    addFormatToken('X', 0, 0, 'unix');\n\t    addFormatToken('x', 0, 0, 'valueOf');\n\t\n\t    // PARSING\n\t\n\t    addRegexToken('x', matchSigned);\n\t    addRegexToken('X', matchTimestamp);\n\t    addParseToken('X', function (input, array, config) {\n\t        config._d = new Date(parseFloat(input, 10) * 1000);\n\t    });\n\t    addParseToken('x', function (input, array, config) {\n\t        config._d = new Date(toInt(input));\n\t    });\n\t\n\t    // Side effect imports\n\t\n\t\n\t    utils_hooks__hooks.version = '2.10.6';\n\t\n\t    setHookCallback(local__createLocal);\n\t\n\t    utils_hooks__hooks.fn                    = momentPrototype;\n\t    utils_hooks__hooks.min                   = min;\n\t    utils_hooks__hooks.max                   = max;\n\t    utils_hooks__hooks.utc                   = create_utc__createUTC;\n\t    utils_hooks__hooks.unix                  = moment__createUnix;\n\t    utils_hooks__hooks.months                = lists__listMonths;\n\t    utils_hooks__hooks.isDate                = isDate;\n\t    utils_hooks__hooks.locale                = locale_locales__getSetGlobalLocale;\n\t    utils_hooks__hooks.invalid               = valid__createInvalid;\n\t    utils_hooks__hooks.duration              = create__createDuration;\n\t    utils_hooks__hooks.isMoment              = isMoment;\n\t    utils_hooks__hooks.weekdays              = lists__listWeekdays;\n\t    utils_hooks__hooks.parseZone             = moment__createInZone;\n\t    utils_hooks__hooks.localeData            = locale_locales__getLocale;\n\t    utils_hooks__hooks.isDuration            = isDuration;\n\t    utils_hooks__hooks.monthsShort           = lists__listMonthsShort;\n\t    utils_hooks__hooks.weekdaysMin           = lists__listWeekdaysMin;\n\t    utils_hooks__hooks.defineLocale          = defineLocale;\n\t    utils_hooks__hooks.weekdaysShort         = lists__listWeekdaysShort;\n\t    utils_hooks__hooks.normalizeUnits        = normalizeUnits;\n\t    utils_hooks__hooks.relativeTimeThreshold = duration_humanize__getSetRelativeTimeThreshold;\n\t\n\t    var _moment = utils_hooks__hooks;\n\t\n\t    return _moment;\n\t\n\t}));\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(18)(module)))\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar map = {\n\t\t\"./en-gb\": 28,\n\t\t\"./en-gb.js\": 28\n\t};\n\tfunction webpackContext(req) {\n\t\treturn __webpack_require__(webpackContextResolve(req));\n\t};\n\tfunction webpackContextResolve(req) {\n\t\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n\t};\n\twebpackContext.keys = function webpackContextKeys() {\n\t\treturn Object.keys(map);\n\t};\n\twebpackContext.resolve = webpackContextResolve;\n\tmodule.exports = webpackContext;\n\twebpackContext.id = 27;\n\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t//! moment.js locale configuration\n\t//! locale : great britain english (en-gb)\n\t//! author : Chris Gedrim : https://github.com/chrisgedrim\n\t\n\t(function (global, factory) {\n\t    true ? factory(__webpack_require__(26)) :\n\t   typeof define === 'function' && define.amd ? define(['moment'], factory) :\n\t   factory(global.moment)\n\t}(this, function (moment) { 'use strict';\n\t\n\t\n\t    var en_gb = moment.defineLocale('en-gb', {\n\t        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n\t        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n\t        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n\t        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n\t        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n\t        longDateFormat : {\n\t            LT : 'HH:mm',\n\t            LTS : 'HH:mm:ss',\n\t            L : 'DD/MM/YYYY',\n\t            LL : 'D MMMM YYYY',\n\t            LLL : 'D MMMM YYYY HH:mm',\n\t            LLLL : 'dddd, D MMMM YYYY HH:mm'\n\t        },\n\t        calendar : {\n\t            sameDay : '[Today at] LT',\n\t            nextDay : '[Tomorrow at] LT',\n\t            nextWeek : 'dddd [at] LT',\n\t            lastDay : '[Yesterday at] LT',\n\t            lastWeek : '[Last] dddd [at] LT',\n\t            sameElse : 'L'\n\t        },\n\t        relativeTime : {\n\t            future : 'in %s',\n\t            past : '%s ago',\n\t            s : 'a few seconds',\n\t            m : 'a minute',\n\t            mm : '%d minutes',\n\t            h : 'an hour',\n\t            hh : '%d hours',\n\t            d : 'a day',\n\t            dd : '%d days',\n\t            M : 'a month',\n\t            MM : '%d months',\n\t            y : 'a year',\n\t            yy : '%d years'\n\t        },\n\t        ordinalParse: /\\d{1,2}(st|nd|rd|th)/,\n\t        ordinal : function (number) {\n\t            var b = number % 10,\n\t                output = (~~(number % 100 / 10) === 1) ? 'th' :\n\t                (b === 1) ? 'st' :\n\t                (b === 2) ? 'nd' :\n\t                (b === 3) ? 'rd' : 'th';\n\t            return number + output;\n\t        },\n\t        week : {\n\t            dow : 1, // Monday is the first day of the week.\n\t            doy : 4  // The week that contains Jan 4th is the first week of the year.\n\t        }\n\t    });\n\t\n\t    return en_gb;\n\t\n\t}));\n\n/***/ },\n/* 29 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Utily functions for Booking.js\n\t */\n\t\n\tmodule.exports = {\n\t\n\t  log: function(message) {\n\t    throw new Error(message);\n\t    console.log('Timekit Booking: ' + message);\n\t  }\n\t\n\t};\n\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*\n\t * Utily functions for Booking.js\n\t */\n\tvar $ = __webpack_require__(25);\n\t\n\tmodule.exports = {\n\t\n\t  timezoneHelper: function(data) {\n\t\n\t    var tzText = '';\n\t\n\t    if (data.tzOffsetDiff === 0) {\n\t      tzText = 'You are in the same timezone as ' + data.hostName;\n\t    } else {\n\t      tzText = 'Your timezone is ' + data.tzOffsetDiffAbs + ' hours ' + (data.aheadOfHost ? 'ahead' : 'behind') + ' ' + data.hostName + ' (calendar shown in your local time)';\n\t    }\n\t\n\t    var el = $('<span>' + tzText + '</span>');\n\t\n\t    return el;\n\t  }\n\t\n\t};\n\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Default configuration for for Booking.js\n\t */\n\t\n\tmodule.exports = {\n\t\n\t  targetEl: '#bookingjs',\n\t  email: '',\n\t  apiToken: '',\n\t  calendar: '',\n\t  name: '',\n\t  avatar: '',\n\t  debug: false,\n\t  timekitConfig: {\n\t    app: 'sign-up'\n\t  },\n\t  findTime: {\n\t    filters: {\n\t      'and': [\n\t        { 'business_hours': {}},\n\t        { 'exclude_weekend': {}}\n\t      ]\n\t    },\n\t    future: '3 weeks',\n\t    duration: '1 hour'\n\t  },\n\t  createEvent: {\n\t    invite: true\n\t  },\n\t  fullCalendar: {\n\t    header: {\n\t      left: 'today',\n\t      center: '',\n\t      right: 'prev, next'\n\t    },\n\t    views: {\n\t      basic: {\n\t        columnFormat: 'dddd M/D',\n\t        timeFormat: 'h:mm a'\n\t      },\n\t      agenda: {\n\t        timeFormat: 'h:mm a',\n\t        displayEventEnd: false\n\t      }\n\t    },\n\t    allDaySlot: false,\n\t    scrollTime: '08:00:00',\n\t    //minTime: '08:00:00',\n\t    //maxTime: '19:00:00',\n\t    timezone: 'local'\n\t  },\n\t  localization: {\n\t    showTimezoneHelper: true,\n\t    dateFormat: 'D. MMMM YYYY',\n\t    timeFormat: 'h:mm a'\n\t  },\n\t  styling: {\n\t    fullCalendarCore: true,\n\t    fullCalendarTheme: true,\n\t    general: true\n\t  }\n\t\n\t};\n\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(33);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(35)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./fullcalendar.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./fullcalendar.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(34)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"/*!\\n * FullCalendar v2.4.0 Stylesheet\\n * Docs & License: http://fullcalendar.io/\\n * (c) 2015 Adam Shaw\\n */.fc{direction:ltr;text-align:left}.fc-rtl{text-align:right}body .fc{font-size:1em}.fc-unthemed .fc-divider,.fc-unthemed .fc-popover,.fc-unthemed .fc-row,.fc-unthemed tbody,.fc-unthemed td,.fc-unthemed th,.fc-unthemed thead{border-color:#ddd}.fc-unthemed .fc-popover{background-color:#fff}.fc-unthemed .fc-divider,.fc-unthemed .fc-popover .fc-header{background:#eee}.fc-unthemed .fc-popover .fc-header .fc-close{color:#666}.fc-unthemed .fc-today{background:#fcf8e3}.fc-highlight{background:#bce8f1}.fc-bgevent,.fc-highlight{opacity:.3;filter:alpha(opacity=30)}.fc-bgevent{background:#8fdf82}.fc-nonbusiness{background:#d7d7d7}.fc-icon{display:inline-block;width:1em;height:1em;line-height:1em;font-size:1em;text-align:center;overflow:hidden;font-family:Courier New,Courier,monospace;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fc-icon:after{position:relative;margin:0 -1em}.fc-icon-left-single-arrow:after{content:\\\"\\\\2039\\\";font-weight:700;font-size:200%;top:-7%;left:3%}.fc-icon-right-single-arrow:after{content:\\\"\\\\203A\\\";font-weight:700;font-size:200%;top:-7%;left:-3%}.fc-icon-left-double-arrow:after{content:\\\"\\\\AB\\\";font-size:160%;top:-7%}.fc-icon-right-double-arrow:after{content:\\\"\\\\BB\\\";font-size:160%;top:-7%}.fc-icon-left-triangle:after{content:\\\"\\\\25C4\\\";font-size:125%;top:3%;left:-2%}.fc-icon-right-triangle:after{content:\\\"\\\\25BA\\\";font-size:125%;top:3%;left:2%}.fc-icon-down-triangle:after{content:\\\"\\\\25BC\\\";font-size:125%;top:2%}.fc-icon-x:after{content:\\\"\\\\D7\\\";font-size:200%;top:6%}.fc button{box-sizing:border-box;margin:0;height:2.1em;padding:0 .6em;font-size:1em;white-space:nowrap;cursor:pointer}.fc button::-moz-focus-inner{margin:0;padding:0}.fc-state-default{border:1px solid}.fc-state-default.fc-corner-left{border-top-left-radius:4px;border-bottom-left-radius:4px}.fc-state-default.fc-corner-right{border-top-right-radius:4px;border-bottom-right-radius:4px}.fc button .fc-icon{position:relative;top:-.05em;margin:0 .2em;vertical-align:middle}.fc-state-default{background-color:#f5f5f5;background-image:-webkit-gradient(linear,0 0,0 100%,from(#fff),to(#e6e6e6));background-image:-webkit-linear-gradient(top,#fff,#e6e6e6);background-image:linear-gradient(to bottom,#fff,#e6e6e6);background-repeat:repeat-x;border-color:#e6e6e6 #e6e6e6 #bfbfbf;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25);color:#333;text-shadow:0 1px 1px hsla(0,0%,100%,.75);box-shadow:inset 0 1px 0 hsla(0,0%,100%,.2),0 1px 2px rgba(0,0,0,.05)}.fc-state-active,.fc-state-disabled,.fc-state-down,.fc-state-hover{color:#333;background-color:#e6e6e6}.fc-state-hover{color:#333;text-decoration:none;background-position:0 -15px;-webkit-transition:background-position .1s linear;transition:background-position .1s linear}.fc-state-active,.fc-state-down{background-color:#ccc;background-image:none;box-shadow:inset 0 2px 4px rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.05)}.fc-state-disabled{cursor:default;background-image:none;opacity:.65;filter:alpha(opacity=65);box-shadow:none}.fc-button-group{display:inline-block}.fc .fc-button-group>*{float:left;margin:0 0 0 -1px}.fc .fc-button-group>:first-child{margin-left:0}.fc-popover{position:absolute;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc-popover .fc-header{padding:2px 4px}.fc-popover .fc-header .fc-title{margin:0 2px}.fc-popover .fc-header .fc-close{cursor:pointer}.fc-ltr .fc-popover .fc-header .fc-title,.fc-rtl .fc-popover .fc-header .fc-close{float:left}.fc-ltr .fc-popover .fc-header .fc-close,.fc-rtl .fc-popover .fc-header .fc-title{float:right}.fc-unthemed .fc-popover{border-width:1px;border-style:solid}.fc-unthemed .fc-popover .fc-header .fc-close{font-size:.9em;margin-top:2px}.fc-popover>.ui-widget-header+.ui-widget-content{border-top:0}.fc-divider{border-style:solid;border-width:1px}hr.fc-divider{height:0;margin:0;padding:0 0 2px;border-width:1px 0}.fc-clear{clear:both}.fc-bg,.fc-bgevent-skeleton,.fc-helper-skeleton,.fc-highlight-skeleton{position:absolute;top:0;left:0;right:0}.fc-bg{bottom:0}.fc-bg table{height:100%}.fc table{width:100%;table-layout:fixed;border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{border-style:solid;border-width:1px;padding:0;vertical-align:top}.fc td.fc-today{border-style:double}.fc .fc-row{border-style:solid;border-width:0}.fc-row table{border-left:0 hidden transparent;border-right:0 hidden transparent;border-bottom:0 hidden transparent}.fc-row:first-child table{border-top:0 hidden transparent}.fc-row{position:relative}.fc-row .fc-bg{z-index:1}.fc-row .fc-bgevent-skeleton,.fc-row .fc-highlight-skeleton{bottom:0}.fc-row .fc-bgevent-skeleton table,.fc-row .fc-highlight-skeleton table{height:100%}.fc-row .fc-bgevent-skeleton td,.fc-row .fc-highlight-skeleton td{border-color:transparent}.fc-row .fc-bgevent-skeleton{z-index:2}.fc-row .fc-highlight-skeleton{z-index:3}.fc-row .fc-content-skeleton{position:relative;z-index:4;padding-bottom:2px}.fc-row .fc-helper-skeleton{z-index:5}.fc-row .fc-content-skeleton td,.fc-row .fc-helper-skeleton td{background:none;border-color:transparent;border-bottom:0}.fc-row .fc-content-skeleton tbody td,.fc-row .fc-helper-skeleton tbody td{border-top:0}.fc-scroller{overflow-y:scroll;overflow-x:hidden}.fc-scroller>*{position:relative;width:100%;overflow:hidden}.fc-event{position:relative;display:block;font-size:.85em;line-height:1.3;border-radius:3px;border:1px solid #3a87ad;background-color:#3a87ad;font-weight:400}.fc-event,.fc-event:hover,.ui-widget .fc-event{color:#fff;text-decoration:none}.fc-event.fc-draggable,.fc-event[href]{cursor:pointer}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-event .fc-bg{z-index:1;background:#fff;opacity:.25;filter:alpha(opacity=25)}.fc-event .fc-content{position:relative;z-index:2}.fc-event .fc-resizer{position:absolute;z-index:3}.fc-ltr .fc-h-event.fc-not-start,.fc-rtl .fc-h-event.fc-not-end{margin-left:0;border-left-width:0;padding-left:1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-ltr .fc-h-event.fc-not-end,.fc-rtl .fc-h-event.fc-not-start{margin-right:0;border-right-width:0;padding-right:1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-h-event .fc-resizer{top:-1px;bottom:-1px;left:-1px;right:-1px;width:5px}.fc-ltr .fc-h-event .fc-start-resizer,.fc-ltr .fc-h-event .fc-start-resizer:after,.fc-ltr .fc-h-event .fc-start-resizer:before,.fc-rtl .fc-h-event .fc-end-resizer,.fc-rtl .fc-h-event .fc-end-resizer:after,.fc-rtl .fc-h-event .fc-end-resizer:before{right:auto;cursor:w-resize}.fc-ltr .fc-h-event .fc-end-resizer,.fc-ltr .fc-h-event .fc-end-resizer:after,.fc-ltr .fc-h-event .fc-end-resizer:before,.fc-rtl .fc-h-event .fc-start-resizer,.fc-rtl .fc-h-event .fc-start-resizer:after,.fc-rtl .fc-h-event .fc-start-resizer:before{left:auto;cursor:e-resize}.fc-day-grid-event{margin:1px 2px 0;padding:0 1px}.fc-day-grid-event .fc-content{white-space:nowrap;overflow:hidden}.fc-day-grid-event .fc-time{font-weight:700}.fc-day-grid-event .fc-resizer{left:-3px;right:-3px;width:7px}a.fc-more{margin:1px 3px;font-size:.85em;cursor:pointer;text-decoration:none}a.fc-more:hover{text-decoration:underline}.fc-limited{display:none}.fc-day-grid .fc-row{z-index:1}.fc-more-popover{z-index:2;width:220px}.fc-more-popover .fc-event-container{padding:10px}.fc-toolbar{text-align:center;margin-bottom:1em}.fc-toolbar .fc-left{float:left}.fc-toolbar .fc-right{float:right}.fc-toolbar .fc-center{display:inline-block}.fc .fc-toolbar>*>*{float:left;margin-left:.75em}.fc .fc-toolbar>*>:first-child{margin-left:0}.fc-toolbar h2{margin:0}.fc-toolbar button{position:relative}.fc-toolbar .fc-state-hover,.fc-toolbar .ui-state-hover{z-index:2}.fc-toolbar .fc-state-down{z-index:3}.fc-toolbar .fc-state-active,.fc-toolbar .ui-state-active{z-index:4}.fc-toolbar button:focus{z-index:5}.fc-view-container *,.fc-view-container :after,.fc-view-container :before{box-sizing:content-box}.fc-view,.fc-view>table{position:relative;z-index:1}.fc-basicDay-view .fc-content-skeleton,.fc-basicWeek-view .fc-content-skeleton{padding-top:1px;padding-bottom:1em}.fc-basic-view .fc-body .fc-row{min-height:4em}.fc-row.fc-rigid{overflow:hidden}.fc-row.fc-rigid .fc-content-skeleton{position:absolute;top:0;left:0;right:0}.fc-basic-view .fc-day-number,.fc-basic-view .fc-week-number{padding:0 2px}.fc-basic-view td.fc-day-number,.fc-basic-view td.fc-week-number span{padding-top:2px;padding-bottom:2px}.fc-basic-view .fc-week-number{text-align:center}.fc-basic-view .fc-week-number span{display:inline-block;min-width:1.25em}.fc-ltr .fc-basic-view .fc-day-number{text-align:right}.fc-rtl .fc-basic-view .fc-day-number{text-align:left}.fc-day-number.fc-other-month{opacity:.3;filter:alpha(opacity=30)}.fc-agenda-view .fc-day-grid{position:relative;z-index:2}.fc-agenda-view .fc-day-grid .fc-row{min-height:3em}.fc-agenda-view .fc-day-grid .fc-row .fc-content-skeleton{padding-top:1px;padding-bottom:1em}.fc .fc-axis{vertical-align:middle;padding:0 4px;white-space:nowrap}.fc-ltr .fc-axis{text-align:right}.fc-rtl .fc-axis{text-align:left}.ui-widget td.fc-axis{font-weight:400}.fc-time-grid,.fc-time-grid-container{position:relative;z-index:1}.fc-time-grid{min-height:100%}.fc-time-grid table{border:0 hidden transparent}.fc-time-grid>.fc-bg{z-index:1}.fc-time-grid .fc-slats,.fc-time-grid>hr{position:relative;z-index:2}.fc-time-grid .fc-bgevent-skeleton,.fc-time-grid .fc-content-skeleton{position:absolute;top:0;left:0;right:0}.fc-time-grid .fc-bgevent-skeleton{z-index:3}.fc-time-grid .fc-highlight-skeleton{z-index:4}.fc-time-grid .fc-content-skeleton{z-index:5}.fc-time-grid .fc-helper-skeleton{z-index:6}.fc-time-grid .fc-slats td{height:1.5em;border-bottom:0}.fc-time-grid .fc-slats .fc-minor td{border-top-style:dotted}.fc-time-grid .fc-slats .ui-widget-content{background:none}.fc-time-grid .fc-highlight-container{position:relative}.fc-time-grid .fc-highlight{position:absolute;left:0;right:0}.fc-time-grid .fc-bgevent-container,.fc-time-grid .fc-event-container{position:relative}.fc-ltr .fc-time-grid .fc-event-container{margin:0 2.5% 0 2px}.fc-rtl .fc-time-grid .fc-event-container{margin:0 2px 0 2.5%}.fc-time-grid .fc-bgevent,.fc-time-grid .fc-event{position:absolute;z-index:1}.fc-time-grid .fc-bgevent{left:0;right:0}.fc-v-event.fc-not-start{border-top-width:0;padding-top:1px;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event.fc-not-end{border-bottom-width:0;padding-bottom:1px;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-time-grid-event{overflow:hidden}.fc-time-grid-event .fc-time,.fc-time-grid-event .fc-title{padding:0 1px}.fc-time-grid-event .fc-time{font-size:.85em;white-space:nowrap}.fc-time-grid-event.fc-short .fc-content{white-space:nowrap}.fc-time-grid-event.fc-short .fc-time,.fc-time-grid-event.fc-short .fc-title{display:inline-block;vertical-align:top}.fc-time-grid-event.fc-short .fc-time span{display:none}.fc-time-grid-event.fc-short .fc-time:before{content:attr(data-start)}.fc-time-grid-event.fc-short .fc-time:after{content:\\\"\\\\A0-\\\\A0\\\"}.fc-time-grid-event.fc-short .fc-title{font-size:.85em;padding:0}.fc-time-grid-event .fc-resizer{left:0;right:0;bottom:0;height:8px;overflow:hidden;line-height:8px;font-size:11px;font-family:monospace;text-align:center;cursor:s-resize}.fc-time-grid-event .fc-resizer:after{content:\\\"=\\\"}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 34 */\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\t\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\t\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0,\r\n\t\tstyleElementsInsertedAtTop = [];\r\n\t\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\t\r\n\t\t// By default, add <style> tags to the bottom of <head>.\r\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\t\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\t\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction insertStyleElement(options, styleElement) {\r\n\t\tvar head = getHeadElement();\r\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\t\tif (options.insertAt === \"top\") {\r\n\t\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\thead.appendChild(styleElement);\r\n\t\t\t}\r\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t\t} else if (options.insertAt === \"bottom\") {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction removeStyleElement(styleElement) {\r\n\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\t\tif(idx >= 0) {\r\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createStyleElement(options) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tinsertStyleElement(options, styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\t\r\n\tfunction createLinkElement(options) {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\tinsertStyleElement(options, linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\t\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement(options);\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement(options);\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tupdate(obj);\r\n\t\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\t\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\t\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\t\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\t\r\n\t\tvar oldSrc = linkElement.href;\r\n\t\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\t\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(37);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(35)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./fullcalendar-theme.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./fullcalendar-theme.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(34)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".fc-view-container{background-color:#fbfbfb}.fc-row.fc-widget-header{border-bottom:1px solid #ececec}.fc-state-default{text-shadow:none;box-shadow:none;background-image:none;background-color:#fff;border-color:#fff}.fc-button{text-transform:uppercase;font-weight:700;font-size:13px}.fc-content-skeleton{border-top:1px solid #ddd}.fc-toolbar{padding:0;margin-bottom:0;border-bottom:1px solid #ececec}.fc .fc-toolbar>*>button{padding:15px;height:auto;outline:0;margin-left:0;transition:opacity .2s ease;opacity:.3}.fc .fc-toolbar>*>button:hover{opacity:1}.fc .fc-toolbar>*>button.fc-state-disabled{transition:opacity 0s;opacity:0}.fc .fc-toolbar>*>button .fc-icon{font-size:1.1em}.fc-unthemed .fc-today{background:#fff}.fc-body>tr>.fc-widget-content,.fc-head>tr>.fc-widget-header{border:0!important}.fc th{border-color:#fff;padding:5px}.fc-unthemed .fc-divider,.fc-unthemed .fc-popover .fc-header{background-color:transparent}.fc-event{transition:all .2s;border:none;border-left:3px solid #689ad8;padding:5px;background-color:#fff;border-radius:4px;color:#444;margin:1px 0;box-shadow:0 1px 2px rgba(0,0,0,.07);cursor:pointer}.fc-event:hover{color:#fff;background-color:#3f7fce;border-left:3px solid #3f7fce}.fc-day-grid-event{padding:15px;margin:5px}.fc-time-grid .fc-slats .fc-minor td{border-top-style:none}.fc-time-grid-event.fc-short .fc-time:after{content:''}.fc-time-grid-event .fc-time{font-size:1.1em}.fc-unthemed .fc-divider,.fc-unthemed .fc-popover,.fc-unthemed .fc-row,.fc-unthemed tbody,.fc-unthemed td,.fc-unthemed th,.fc-unthemed thead{border-color:#ececec}.fc-agendaMonthly-view .fc-event{color:#fff}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(39);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(35)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./booking.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./booking.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(34)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".bookingjs{max-width:700px;font-family:sans-serif;font-size:13px;border-radius:4px;background-color:#fff;box-shadow:rgba(0,0,0,.2) 0 2px 4px 0;margin:50px auto 20px;overflow:hidden}.bookingjs-timezonehelper{color:#aeaeae;text-align:center;padding:7px;background-color:#fbfbfb;border-top:1px solid #ececec;height:15px}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** timekit-booking.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4555b606cfbe0984f607\n **/","'use strict';\n\n// External depenencies\nvar timekit = require('timekit-sdk');\nvar fullcalendar = require('fullcalendar');\nvar moment = require('moment');\nvar $ = require('jquery');\n\n// Internal dependencies\nvar utils = require('./utils');\nvar templates = require('./templates');\nvar config = require('./defaultConfig');\n\n/*!\n * Booking.js\n * Version: 1.0.0\n * http://booking.timekit.io\n *\n * Copyright 2015 Timekit, Inc.\n * Timekit Booking.js is freely distributable under the MIT license.\n *\n */\n\nfunction TimekitBooking() {\n\n  var TB = {};\n  var calendarTarget = '';\n\n  // Setup the Timekit SDK with correct credentials\n  var timekitSetup = function() {\n    var args = {};\n\n    $.extend(args, config.timekitConfig);\n\n    timekit.configure(args);\n    timekit.setUser(config.email, config.apiToken);\n  };\n\n  // Fetch availabile time through Timekit SDK\n  var timekitFindTime = function(callback) {\n    var args = { emails: [config.email] };\n\n    $.extend(args, config.findTime);\n\n    timekit.findTime(args)\n    .then(function(response){\n      callback(response);\n    }).catch(function(response){\n      utils.log('An error with FindTime occured');\n      utils.log(response);\n    });\n  };\n\n  // Calculate and display timezone helper\n  var renderTimezoneHelper = function() {\n    var localTzOffset = (new Date()).getTimezoneOffset()/60*-1;\n    var localTzFormatted = (localTzOffset > 0 ? \"+\" : \"\") + localTzOffset;\n\n    var timezoneHelperTarget = $('<div class=\"bookingjs-timezonehelper\"><span>Loading...</span></div>');\n    $(config.targetEl).append(timezoneHelperTarget);\n\n    timekit.getUserTimezone({\n      email: config.email\n    }).then(function(response){\n\n      var hostTzOffset = response.data.utc_offset;\n      var tzOffsetDiff = localTzOffset - hostTzOffset;\n      var tzOffsetDiffAbs = Math.abs(tzOffsetDiff);\n\n      var aheadOfHost = true;\n      if (tzOffsetDiff < 0) {\n        aheadOfHost = false;\n      }\n\n      var template = templates.timezoneHelper({\n        tzOffsetDiff: tzOffsetDiff,\n        tzOffsetDiffAbs: tzOffsetDiffAbs,\n        aheadOfHost: aheadOfHost,\n        hostName: config.name\n      });\n\n      timezoneHelperTarget.html(template);\n\n    });\n  };\n\n  // Setup and render FullCalendar\n  var initializeCalendar = function() {\n\n    var defaultView = 'agendaWeek';\n    var height = 600;\n    var deviceWidth = $(window).width();\n\n    if (deviceWidth < 480) {\n      defaultView = 'basicDay';\n      height = 530; //1132\n    }\n\n    var args = {\n      defaultView: defaultView,\n      height: height,\n      eventClick: clickCalendarTimeslot\n    };\n\n    $.extend(args, config.fullCalendar);\n\n    calendarTarget = $('<div class=\"bookingjs-calendar\">');\n    $(config.targetEl).append(calendarTarget);\n    calendarTarget.fullCalendar(args);\n  };\n\n  // Render the supplied calendar events in FullCalendar\n  var renderCalendarEvents = function(eventData) {\n    calendarTarget.fullCalendar('addEventSource', {\n      events: eventData\n    });\n  };\n\n  var renderBookingPage = function() {\n\n    // var el = $(\n    //     '<div class=\"bookingjs-bookcard\">' +\n    //       '<a href=\"\"><' +\n    //     '</div>'\n    //   );\n    // $(config.targetEl).append(el);\n  };\n\n  var showBookingPage = function() {\n\n  };\n\n  var hideBookingPage = function() {\n\n  };\n\n  // Event handler when a timeslot is clicked in FullCalendar\n  var clickCalendarTimeslot = function(calEvent, jsEvent, view) {\n    // $('#bookmeform_start').val(moment(calEvent.start).format());\n    // $('#bookmeform_end').val(moment(calEvent.end).format());\n    // $('#chosendate').text(moment(calEvent.start).format('D. MMMM YYYY'));\n    // $('#chosentime').text(moment(calEvent.start).format('h:mm a') + ' to ' + moment(calEvent.end).format('h:mm a'));\n    // $('.bookme_create').show().css('opacity','1');\n    showBookingPage();\n  };\n\n  var submitBookingForm = function() {\n\n  };\n\n  // Create new event through Timekit SDK\n  var timekitCreateEvent = function(data, callback) {\n    var args = {\n      start: data.start,\n      end: data.end,\n      what: config.name + ' x '+ data.name,\n      where: data.where,\n      calendar_id: config.calendar,\n      participants: [\n        data.email,\n        config.email\n      ]\n    };\n\n    $.extend(args, config.createEvent);\n\n    timekit.createEvent(args)\n    .then(function(response){\n      callback(response);\n    }).catch(function(response){\n      utils.log('An error with CreateEvent occured');\n      utils.log(response);\n    });\n  };\n\n  // Render the booking completed page when booking was successful\n  var renderBookingCompleted = function() {\n    // $('#bookmeform_block .w-form-done').show();\n    // $('#bookmeform_block .w-form-fail').hide();\n    // $('#bookmeform').hide();\n  };\n\n  // Exposed initilization method\n  TB.init = function(suppliedConfig) {\n\n    // Check whether a config is supplied\n    if(suppliedConfig === undefined || typeof suppliedConfig !== 'object') {\n      utils.log('No configuration was supplied. Please supply a config object upon library initialization');\n      return;\n    }\n\n    // Extend the default config with supplied settings\n    $.extend(config, suppliedConfig);\n\n    // Initialize FullCalendar\n    initializeCalendar();\n\n    // Setup Timekit SDK config\n    timekitSetup();\n\n    // Get availability through Timekit SDK\n    timekitFindTime(function(response){\n      // Render available timeslots in FullCalendar\n      renderCalendarEvents(response.data);\n    });\n\n    // Show timezone helper if enabled\n    if (config.localization.showTimezoneHelper) {\n      renderTimezoneHelper();\n    }\n\n    // Includes stylesheets if enabled\n    if (config.styling.fullCalendarCore) {\n      require('../node_modules/fullcalendar/dist/fullcalendar.css');\n    }\n    if (config.styling.fullCalendarTheme) {\n      require('./styles/fullcalendar-theme.scss');\n    }\n    if (config.styling.general) {\n      require('./styles/booking.scss');\n    }\n\n  };\n\n  // Expose the fullCalendar object for advanced puppeting\n  TB.fullCalender = function() {\n    if (calendarTarget.fullCalendar === undefined) { return undefined; }\n    return calendarTarget.fullCalendar.apply(calendarTarget, arguments);\n  };\n\n  return TB;\n\n}\n\nmodule.exports = new TimekitBooking();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main.js\n ** module id = 0\n ** module chunks = 0\n **/","'use strict';\n\n/*!\n * Timekit JavaScript SDK\n * Version: 1.1.0\n * http://timekit.io\n *\n * Copyright 2015 Timekit, Inc.\n * The Timekit JavaScript SDK is freely distributable under the MIT license.\n *\n */\nvar axios = require('axios');\nvar base64 = require('base-64');\nvar humps = require('humps');\n\nfunction Timekit() {\n\n  /**\n   * Auth variables for login gated API methods\n   * @type {String}\n   */\n  var userEmail;\n  var userApiToken;\n  var includes;\n\n  /**\n   * Default config\n   * @type {Object}\n   */\n  var config = {\n    app: 'demo',\n    apiBaseUrl: 'https://api.timekit.io/',\n    apiVersion: 'v2',\n    convertResponseToCamelcase: false\n  };\n\n  /**\n   * Generate base64 string for basic auth purposes\n   * @type {Function}\n   * @return {String}\n   */\n\n  var encodeAuthHeader = function() {\n    return base64.encode(userEmail + ':' + userApiToken);\n  };\n\n  /**\n   * Build absolute URL for API call\n   * @type {Function}\n   * @return {String}\n   */\n  var buildUrl = function(endpoint) {\n    return config.apiBaseUrl + config.apiVersion + endpoint;\n  };\n\n  /**\n   * Root Object that holds methods to expose for API consumption\n   * @type {Object}\n   */\n  var TK = {};\n\n\n  /**\n   * Prepare and make HTTP request to API\n   * @type {Object}\n   * @return {Promise}\n   */\n  TK.makeRequest = function(args) {\n\n    // construct URL with base, version and endpoint\n    args.url = buildUrl(args.url);\n\n    // add http headers if applicable\n    args.headers = { 'Timekit-App': config.app };\n    if (userEmail && userApiToken) { args.headers.Authorization = 'Basic ' + encodeAuthHeader(); }\n    if (config.inputTimestampFormat) { args.headers['Timekit-InputTimestampFormat'] = config.inputTimestampFormat; }\n    if (config.outputTimestampFormat) { args.headers['Timekit-OutputTimestampFormat'] = config.outputTimestampFormat; }\n    if (config.timezone) { args.headers['Timekit-Timezone'] = config.timezone; }\n\n    // add dynamic includes if applicable\n    if (includes && includes.length > 0) {\n      if (args.params === undefined) { args.params = {}; }\n      args.params.include = includes.join();\n      includes = [];\n    }\n\n    // decamelize keys in data objects\n    if (args.data) { args.data = humps.decamelizeKeys(args.data); }\n\n    // register response interceptor for data manipulation\n    var interceptor = axios.interceptors.response.use(function (response) {\n      if(response.data && response.data.data) {\n        response.data = response.data.data;\n        if (config.convertResponseToCamelcase) {\n          response.data = humps.camelizeKeys(response.data);\n        }\n      }\n      return response;\n    }, function (error) {\n      return Promise.reject(error);\n    });\n\n    // execute request!\n    var request = axios(args);\n\n    // deregister response interceptor\n    axios.interceptors.response.eject(interceptor);\n\n    return request;\n  };\n\n  /**\n   * Overwrite default config with supplied settings\n   * @type {Function}\n   * @return {Object}\n   */\n  TK.configure = function(custom) {\n    for (var attr in custom) { config[attr] = custom[attr]; }\n    return config;\n  };\n\n  /**\n   * Returns the current config\n   * @type {Function}\n   * @return {Object}\n   */\n  TK.getConfig = function() {\n    return config;\n  };\n\n  /**\n   * Set the active user manuallt (happens automatically on timekit.auth())\n   * @type {Function}\n   */\n  TK.setUser = function(email, apiToken) {\n    userEmail = email;\n    userApiToken = apiToken;\n  };\n\n  /**\n   * Returns the current active user\n   * @type {Function}\n   * @return {Object}\n   */\n  TK.getUser = function() {\n    return {\n      email: userEmail,\n      apiToken: userApiToken\n    };\n  };\n\n  /**\n   * Add supplied dynamic includes to the next request (fluent/chainable return)\n   * @type {Function}\n   * @return {Object}\n   */\n  TK.include = function() {\n    includes = Array.prototype.slice.call(arguments);\n    return this;\n  };\n\n  /**\n   * Get user's connected accounts\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.getAccounts = function() {\n\n    return TK.makeRequest({\n      url: '/accounts',\n      method: 'get'\n    });\n\n  };\n\n  /**\n   * Redirect to the Google signup/login page\n   * @type {Function}\n   * @return {String}\n   */\n  TK.accountGoogleSignup = function(data, shouldAutoRedirect) {\n\n    var url = buildUrl('/accounts/google/signup') + '?Timekit-App=' + config.app + (data && data.callback ? '&callback=' + data.callback : '');\n\n    if(shouldAutoRedirect && window) {\n      window.location.href = url;\n    } else {\n      return url;\n    }\n\n  };\n\n  /**\n   * Get user's Google calendars\n   * @type {Function\n   * @return {Promise}\n   */\n  TK.getAccountGoogleCalendars = function() {\n\n    return TK.makeRequest({\n      url: '/accounts/google/calendars',\n      method: 'get'\n    });\n\n  };\n\n  /**\n   * Initiate a server sync on all the users accounts\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.accountSync = function() {\n\n    return TK.makeRequest({\n      url: '/accounts/sync',\n      method: 'get'\n    });\n\n  };\n\n  /**\n   * Authenticate a user to retrive API token for future calls\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.auth = function(data) {\n\n    var r = TK.makeRequest({\n      url: '/auth',\n      method: 'post',\n      data: data\n    });\n\n    r.then(function(response) {\n      TK.setUser(response.data.email, response.data.api_token);\n    }).catch(function(){\n      TK.setUser('','');\n    });\n\n    return r;\n\n  };\n\n  /**\n   * Get list of apps\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.getApps = function() {\n\n    return TK.makeRequest({\n      url: '/apps',\n      method: 'get'\n    });\n\n  };\n\n  /**\n   * Get settings for a specific app\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.getApp = function(data) {\n\n    return TK.makeRequest({\n      url: '/apps/' + data.slug,\n      method: 'get'\n    });\n\n  };\n\n  /**\n   * Create a new Timekit app\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.createApp = function(data) {\n\n    return TK.makeRequest({\n      url: '/apps',\n      method: 'post',\n      data: data\n    });\n\n  };\n\n  /**\n   * Update settings for a specific app\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.updateApp = function(data) {\n\n    var slug = data.slug;\n    delete data.slug;\n\n    return TK.makeRequest({\n      url: '/apps/' + slug,\n      method: 'put',\n      data: data\n    });\n\n  };\n\n  /**\n   * Delete an app\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.deleteApp = function(data) {\n\n    return TK.makeRequest({\n      url: '/apps/' + data.slug,\n      method: 'delete'\n    });\n\n  };\n\n  /**\n   * Get users calendars that are present on Timekit (synced from providers)\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.getCalendars = function() {\n\n    return TK.makeRequest({\n      url: '/calendars',\n      method: 'get'\n    });\n\n  };\n\n  /**\n   * Get users calendars that are present on Timekit (synced from providers)\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.getCalendar = function(data) {\n\n    return TK.makeRequest({\n      url: '/calendars/' + data.id,\n      method: 'get'\n    });\n\n  };\n\n  /**\n   * Create a new calendar for current user\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.createCalendar = function(data) {\n\n    return TK.makeRequest({\n      url: '/calendars/',\n      method: 'post',\n      data: data\n    });\n\n  };\n\n  /**\n   * Delete a calendar\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.deleteCalendar = function(data) {\n\n    return TK.makeRequest({\n      url: '/calendars/' + data.id,\n      method: 'delete'\n    });\n\n  };\n\n  /**\n   * Get users contacts that are present on Timekit (synced from providers)\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.getContacts = function() {\n\n    return TK.makeRequest({\n      url: '/contacts/',\n      method: 'get'\n    });\n\n  };\n\n  /**\n   * Get all user's events\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.getEvents = function(data) {\n\n    return TK.makeRequest({\n      url: '/events',\n      method: 'get',\n      params: data\n    });\n\n  };\n\n  /**\n   * Get a user's event by ID\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.getEvent = function(data) {\n\n    return TK.makeRequest({\n      url: '/events/' + data.id,\n      method: 'get'\n    });\n\n  };\n\n  /**\n   * Create a new event\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.createEvent = function(data) {\n\n    return TK.makeRequest({\n      url: '/events',\n      method: 'post',\n      data: data\n    });\n\n  };\n\n  /**\n   * Delete a user's event by ID\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.deleteEvent = function(data) {\n\n    return TK.makeRequest({\n      url: '/events/' + data.id,\n      method: 'delete'\n    });\n\n  };\n\n  /**\n   * Get a user's anonymized availability (other user's on Timekit can be queryied by supplying their email)\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.getAvailability = function(data) {\n\n    return TK.makeRequest({\n      url: '/events/availability',\n      method: 'get',\n      params: data\n    });\n\n  };\n\n  /**\n   * Find mutual availability across multiple users/calendars\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.findTime = function(data) {\n\n    return TK.makeRequest({\n      url: '/findtime',\n      method: 'post',\n      data: data\n    });\n\n  };\n\n  /**\n   * Find mutual availability across multiple users/calendars\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.findTimeBulk = function(data) {\n\n    return TK.makeRequest({\n      url: '/findtime/bulk',\n      method: 'post',\n      data: data\n    });\n\n  };\n\n  /**\n   * Get a user's meetings\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.getMeetings = function() {\n\n    return TK.makeRequest({\n      url: '/meetings',\n      method: 'get'\n    });\n\n  };\n\n  /**\n   * Get a user's specific meeting\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.getMeeting = function(data) {\n\n    return TK.makeRequest({\n      url: '/meetings/' + data.id,\n      method: 'get'\n    });\n\n  };\n\n  /**\n   * Get a user's specific meeting\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.createMeeting = function(data) {\n\n    return TK.makeRequest({\n      url: '/meetings',\n      method: 'post',\n      data: data\n    });\n\n  };\n\n  /**\n   * Get a user's specific meeting\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.updateMeeting = function(data) {\n\n    var id = data.id;\n    delete data.id;\n\n    return TK.makeRequest({\n      url: '/meetings/' + id,\n      method: 'put',\n      data: data\n    });\n\n  };\n\n  /**\n   * Set availability (true/faalse) on a meeting's suggestion\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.setMeetingAvailability = function(data) {\n\n    return TK.makeRequest({\n      url: '/meetings/availability',\n      method: 'post',\n      data: data\n    });\n\n  };\n\n  /**\n   * Book/finalize the meeting, sending out meeting invites to all participants\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.bookMeeting = function(data) {\n\n    return TK.makeRequest({\n      url: '/meetings/book',\n      method: 'post',\n      data: data\n    });\n\n  };\n\n  /**\n   * Invite users/emails to a meeting, sending out invite emails to the supplied addresses\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.inviteToMeeting = function(data) {\n\n    var id = data.id;\n    delete data.id;\n\n    return TK.makeRequest({\n      url: '/meetings/' + id + '/invite',\n      method: 'post',\n      data: data\n    });\n\n  };\n\n  /**\n   * Create a new user with the given properties\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.createUser = function(data) {\n\n    return TK.makeRequest({\n      url: '/users',\n      method: 'post',\n      data: data\n    });\n\n  };\n\n  /**\n   * Fetch current user data from server\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.getUserInfo = function() {\n\n    return TK.makeRequest({\n      url: '/users/me',\n      method: 'get'\n    });\n\n  };\n\n  /**\n   * Fetch current user data from server\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.updateUser = function(data) {\n\n    return TK.makeRequest({\n      url: '/users/me',\n      method: 'put',\n      data: data\n    });\n\n  };\n\n  /**\n   * Reset password for a user\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.resetUserPassword = function(data) {\n\n    return TK.makeRequest({\n      url: '/users/resetpassword',\n      method: 'post',\n      data: data\n    });\n\n  };\n\n  /**\n   * Get a specific users' timezone\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.getUserTimezone = function(data) {\n\n    return TK.makeRequest({\n      url: '/users/timezone/' + data.email,\n      method: 'get'\n    });\n\n  };\n\n  /**\n   * Get a user property by key\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.getUserProperties = function() {\n\n    return TK.makeRequest({\n      url: '/properties',\n      method: 'get'\n    });\n\n  };\n\n  /**\n   * Get a user property by key\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.getUserProperty = function(data) {\n\n    return TK.makeRequest({\n      url: '/properties/' + data.key,\n      method: 'get'\n    });\n\n  };\n\n  /**\n   * Set or update user properties\n   * @type {Function}\n   * @return {Promise}\n   */\n  TK.setUserProperties = function(data) {\n\n    return TK.makeRequest({\n      url: '/properties',\n      method: 'put',\n      data: data\n    });\n\n  };\n\n  return TK;\n\n}\n\nmodule.exports = new Timekit();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/src/timekit.js\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = require('./lib/axios');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/~/axios/index.js\n ** module id = 2\n ** module chunks = 0\n **/","'use strict';\n\nvar defaults = require('./defaults');\nvar utils = require('./utils');\nvar deprecatedMethod = require('./helpers/deprecatedMethod');\nvar dispatchRequest = require('./core/dispatchRequest');\nvar InterceptorManager = require('./core/InterceptorManager');\n\n// Polyfill ES6 Promise if needed\n(function () {\n  // webpack is being used to set es6-promise to the native Promise\n  // for the standalone build. It's necessary to make sure polyfill exists.\n  var P = require('es6-promise');\n  if (P && typeof P.polyfill === 'function') {\n    P.polyfill();\n  }\n})();\n\nvar axios = module.exports = function axios(config) {\n  config = utils.merge({\n    method: 'get',\n    headers: {},\n    transformRequest: defaults.transformRequest,\n    transformResponse: defaults.transformResponse\n  }, config);\n\n  // Don't allow overriding defaults.withCredentials\n  config.withCredentials = config.withCredentials || defaults.withCredentials;\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  axios.interceptors.request.forEach(function (interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  axios.interceptors.response.forEach(function (interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  // Provide alias for success\n  promise.success = function success(fn) {\n    deprecatedMethod('success', 'then', 'https://github.com/mzabriskie/axios/blob/master/README.md#response-api');\n\n    promise.then(function(response) {\n      fn(response.data, response.status, response.headers, response.config);\n    });\n    return promise;\n  };\n\n  // Provide alias for error\n  promise.error = function error(fn) {\n    deprecatedMethod('error', 'catch', 'https://github.com/mzabriskie/axios/blob/master/README.md#response-api');\n\n    promise.then(null, function(response) {\n      fn(response.data, response.status, response.headers, response.config);\n    });\n    return promise;\n  };\n\n  return promise;\n};\n\n// Expose defaults\naxios.defaults = defaults;\n\n// Expose all/spread\naxios.all = function (promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose interceptors\naxios.interceptors = {\n  request: new InterceptorManager(),\n  response: new InterceptorManager()\n};\n\n// Provide aliases for supported request methods\n(function () {\n  function createShortMethods() {\n    utils.forEach(arguments, function (method) {\n      axios[method] = function (url, config) {\n        return axios(utils.merge(config || {}, {\n          method: method,\n          url: url\n        }));\n      };\n    });\n  }\n\n  function createShortMethodsWithData() {\n    utils.forEach(arguments, function (method) {\n      axios[method] = function (url, data, config) {\n        return axios(utils.merge(config || {}, {\n          method: method,\n          url: url,\n          data: data\n        }));\n      };\n    });\n  }\n\n  createShortMethods('delete', 'get', 'head');\n  createShortMethodsWithData('post', 'put', 'patch');\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/~/axios/lib/axios.js\n ** module id = 3\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('./utils');\n\nvar PROTECTION_PREFIX = /^\\)\\]\\}',?\\n/;\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nmodule.exports = {\n  transformRequest: [function (data, headers) {\n    if(utils.isFormData(data)) {\n      return data;\n    }\n    if (utils.isArrayBuffer(data)) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isObject(data) && !utils.isFile(data) && !utils.isBlob(data)) {\n      // Set application/json if no Content-Type has been specified\n      if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n        headers['Content-Type'] = 'application/json;charset=utf-8';\n      }\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function (data) {\n    if (typeof data === 'string') {\n      data = data.replace(PROTECTION_PREFIX, '');\n      try {\n        data = JSON.parse(data);\n      } catch (e) {}\n    }\n    return data;\n  }],\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*'\n    },\n    patch: utils.merge(DEFAULT_CONTENT_TYPE),\n    post: utils.merge(DEFAULT_CONTENT_TYPE),\n    put: utils.merge(DEFAULT_CONTENT_TYPE)\n  },\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN'\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/~/axios/lib/defaults.js\n ** module id = 4\n ** module chunks = 0\n **/","'use strict';\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return toString.call(val) === '[object FormData]';\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    return ArrayBuffer.isView(val);\n  } else {\n    return (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array or arguments callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Check if obj is array-like\n  var isArrayLike = isArray(obj) || (typeof obj === 'object' && !isNaN(obj.length));\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object' && !isArrayLike) {\n    obj = [obj];\n  }\n\n  // Iterate over array values\n  if (isArrayLike) {\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  }\n  // Iterate over object keys\n  else {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/*obj1, obj2, obj3, ...*/) {\n  var result = {};\n  forEach(arguments, function (obj) {\n    forEach(obj, function (val, key) {\n      result[key] = val;\n    });\n  });\n  return result;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  forEach: forEach,\n  merge: merge,\n  trim: trim\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/~/axios/lib/utils.js\n ** module id = 5\n ** module chunks = 0\n **/","'use strict';\n\n/**\n * Supply a warning to the developer that a method they are using\n * has been deprecated.\n *\n * @param {string} method The name of the deprecated method\n * @param {string} [instead] The alternate method to use if applicable\n * @param {string} [docs] The documentation URL to get further details\n */\nmodule.exports = function deprecatedMethod(method, instead, docs) {\n  try {\n    console.warn(\n      'DEPRECATED method `' + method + '`.' +\n      (instead ? ' Use `' + instead + '` instead.' : '') +\n      ' This method will be removed in a future release.');\n\n    if (docs) {\n      console.warn('For more information about usage see ' + docs);\n    }\n  } catch (e) {}\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/~/axios/lib/helpers/deprecatedMethod.js\n ** module id = 6\n ** module chunks = 0\n **/","'use strict';\n\n/**\n * Dispatch a request to the server using whichever adapter\n * is supported by the current environment.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  return new Promise(function (resolve, reject) {\n    try {\n      // For browsers use XHR adapter\n      if (typeof window !== 'undefined') {\n        require('../adapters/xhr')(resolve, reject, config);\n      }\n      // For node use HTTP adapter\n      else if (typeof process !== 'undefined') {\n        require('../adapters/http')(resolve, reject, config);\n      }\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/~/axios/lib/core/dispatchRequest.js\n ** module id = 7\n ** module chunks = 0\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/process/browser.js\n ** module id = 8\n ** module chunks = 0\n **/","'use strict';\n\n/*global ActiveXObject:true*/\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar buildUrl = require('./../helpers/buildUrl');\nvar cookies = require('./../helpers/cookies');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar transformData = require('./../helpers/transformData');\nvar urlIsSameOrigin = require('./../helpers/urlIsSameOrigin');\n\nmodule.exports = function xhrAdapter(resolve, reject, config) {\n  // Transform request data\n  var data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Merge headers\n  var requestHeaders = utils.merge(\n    defaults.headers.common,\n    defaults.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  if (utils.isFormData(data)) {\n    delete requestHeaders['Content-Type']; // Let the browser set it\n  }\n\n  // Create the request\n  var request = new (XMLHttpRequest || ActiveXObject)('Microsoft.XMLHTTP');\n  request.open(config.method.toUpperCase(), buildUrl(config.url, config.params), true);\n\n  // Listen for ready state\n  request.onreadystatechange = function () {\n    if (request && request.readyState === 4) {\n      // Prepare the response\n      var responseHeaders = parseHeaders(request.getAllResponseHeaders());\n      var responseData = ['text', ''].indexOf(config.responseType || '') !== -1 ? request.responseText : request.response;\n      var response = {\n        data: transformData(\n          responseData,\n          responseHeaders,\n          config.transformResponse\n        ),\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config\n      };\n\n      // Resolve or reject the Promise based on the status\n      (request.status >= 200 && request.status < 300 ?\n        resolve :\n        reject)(response);\n\n      // Clean up request\n      request = null;\n    }\n  };\n\n  // Add xsrf header\n  var xsrfValue = urlIsSameOrigin(config.url) ?\n      cookies.read(config.xsrfCookieName || defaults.xsrfCookieName) :\n      undefined;\n  if (xsrfValue) {\n    requestHeaders[config.xsrfHeaderName || defaults.xsrfHeaderName] = xsrfValue;\n  }\n\n  // Add headers to the request\n  utils.forEach(requestHeaders, function (val, key) {\n    // Remove Content-Type if data is undefined\n    if (!data && key.toLowerCase() === 'content-type') {\n      delete requestHeaders[key];\n    }\n    // Otherwise add header to the request\n    else {\n      request.setRequestHeader(key, val);\n    }\n  });\n\n  // Add withCredentials to request if needed\n  if (config.withCredentials) {\n    request.withCredentials = true;\n  }\n\n  // Add responseType to request if needed\n  if (config.responseType) {\n    try {\n      request.responseType = config.responseType;\n    } catch (e) {\n      if (request.responseType !== 'json') {\n        throw e;\n      }\n    }\n  }\n\n  if (utils.isArrayBuffer(data)) {\n    data = new DataView(data);\n  }\n\n  // Send the request\n  request.send(data);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/~/axios/lib/adapters/xhr.js\n ** module id = 9\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildUrl(url, params) {\n  if (!params) {\n    return url;\n  }\n\n  var parts = [];\n\n  utils.forEach(params, function (val, key) {\n    if (val === null || typeof val === 'undefined') {\n      return;\n    }\n    if (!utils.isArray(val)) {\n      val = [val];\n    }\n\n    utils.forEach(val, function (v) {\n      if (utils.isDate(v)) {\n        v = v.toISOString();\n      }\n      else if (utils.isObject(v)) {\n        v = JSON.stringify(v);\n      }\n      parts.push(encode(key) + '=' + encode(v));\n    });\n  });\n\n  if (parts.length > 0) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + parts.join('&');\n  }\n\n  return url;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/~/axios/lib/helpers/buildUrl.js\n ** module id = 10\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = {\n  write: function write(name, value, expires, path, domain, secure) {\n    var cookie = [];\n    cookie.push(name + '=' + encodeURIComponent(value));\n\n    if (utils.isNumber(expires)) {\n      cookie.push('expires=' + new Date(expires).toGMTString());\n    }\n\n    if (utils.isString(path)) {\n      cookie.push('path=' + path);\n    }\n\n    if (utils.isString(domain)) {\n      cookie.push('domain=' + domain);\n    }\n\n    if (secure === true) {\n      cookie.push('secure');\n    }\n\n    document.cookie = cookie.join('; ');\n  },\n\n  read: function read(name) {\n    var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n    return (match ? decodeURIComponent(match[3]) : null);\n  },\n\n  remove: function remove(name) {\n    this.write(name, '', Date.now() - 86400000);\n  }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/~/axios/lib/helpers/cookies.js\n ** module id = 11\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {}, key, val, i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/~/axios/lib/helpers/parseHeaders.js\n ** module id = 12\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  utils.forEach(fns, function (fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/~/axios/lib/helpers/transformData.js\n ** module id = 13\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('./../utils');\nvar msie = /(msie|trident)/i.test(navigator.userAgent);\nvar urlParsingNode = document.createElement('a');\nvar originUrl;\n\n/**\n * Parse a URL to discover it's components\n *\n * @param {String} url The URL to be parsed\n * @returns {Object}\n */\nfunction urlResolve(url) {\n  var href = url;\n\n  if (msie) {\n    // IE needs attribute set twice to normalize properties\n    urlParsingNode.setAttribute('href', href);\n    href = urlParsingNode.href;\n  }\n\n  urlParsingNode.setAttribute('href', href);\n\n  // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n  return {\n    href: urlParsingNode.href,\n    protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n    host: urlParsingNode.host,\n    search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n    hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n    hostname: urlParsingNode.hostname,\n    port: urlParsingNode.port,\n    pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n              urlParsingNode.pathname :\n              '/' + urlParsingNode.pathname\n  };\n}\n\noriginUrl = urlResolve(window.location.href);\n\n/**\n * Determine if a URL shares the same origin as the current location\n *\n * @param {String} requestUrl The URL to test\n * @returns {boolean} True if URL shares the same origin, otherwise false\n */\nmodule.exports = function urlIsSameOrigin(requestUrl) {\n  var parsed = (utils.isString(requestUrl)) ? urlResolve(requestUrl) : requestUrl;\n  return (parsed.protocol === originUrl.protocol &&\n        parsed.host === originUrl.host);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/~/axios/lib/helpers/urlIsSameOrigin.js\n ** module id = 14\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function (fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function (id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `remove`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function (fn) {\n  utils.forEach(this.handlers, function (h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/~/axios/lib/core/InterceptorManager.js\n ** module id = 15\n ** module chunks = 0\n **/","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   2.3.0\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$toString = {}.toString;\n    var lib$es6$promise$asap$$vertxNext;\n    var lib$es6$promise$asap$$customSchedulerFn;\n\n    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        if (lib$es6$promise$asap$$customSchedulerFn) {\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n        } else {\n          lib$es6$promise$asap$$scheduleFlush();\n        }\n      }\n    }\n\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n    }\n\n    function lib$es6$promise$asap$$setAsap(asapFn) {\n      lib$es6$promise$asap$$asap = asapFn;\n    }\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      var nextTick = process.nextTick;\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // setImmediate should be used instead instead\n      var version = process.versions.node.match(/^(?:(\\d+)\\.)?(?:(\\d+)\\.)?(\\*|\\d+)$/);\n      if (Array.isArray(version) && version[1] === '0' && version[2] === '10') {\n        nextTick = setImmediate;\n      }\n      return function() {\n        nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertex() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertex();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFullfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$asap(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable) {\n      if (maybeThenable.constructor === promise.constructor) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        var then = lib$es6$promise$$internal$$getThen(maybeThenable);\n\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFullfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value);\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      var enumerator = this;\n\n      enumerator._instanceConstructor = Constructor;\n      enumerator.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (enumerator._validateInput(input)) {\n        enumerator._input     = input;\n        enumerator.length     = input.length;\n        enumerator._remaining = input.length;\n\n        enumerator._init();\n\n        if (enumerator.length === 0) {\n          lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n        } else {\n          enumerator.length = enumerator.length || 0;\n          enumerator._enumerate();\n          if (enumerator._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(enumerator.promise, enumerator._validationError());\n      }\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validateInput = function(input) {\n      return lib$es6$promise$utils$$isArray(input);\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validationError = function() {\n      return new Error('Array Methods must be provided an Array');\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._init = function() {\n      this._result = new Array(this.length);\n    };\n\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var enumerator = this;\n\n      var length  = enumerator.length;\n      var promise = enumerator.promise;\n      var input   = enumerator._input;\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        enumerator._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var enumerator = this;\n      var c = enumerator._instanceConstructor;\n\n      if (lib$es6$promise$utils$$isMaybeThenable(entry)) {\n        if (entry.constructor === c && entry._state !== lib$es6$promise$$internal$$PENDING) {\n          entry._onerror = null;\n          enumerator._settledAt(entry._state, i, entry._result);\n        } else {\n          enumerator._willSettleAt(c.resolve(entry), i);\n        }\n      } else {\n        enumerator._remaining--;\n        enumerator._result[i] = entry;\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var enumerator = this;\n      var promise = enumerator.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        enumerator._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          enumerator._result[i] = value;\n        }\n      }\n\n      if (enumerator._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, enumerator._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        lib$es6$promise$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\n        return promise;\n      }\n\n      var length = entries.length;\n\n      function onFulfillment(value) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      }\n\n      function onRejection(reason) {\n        lib$es6$promise$$internal$$reject(promise, reason);\n      }\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        lib$es6$promise$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\n      }\n\n      return promise;\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n    var lib$es6$promise$promise$$counter = 0;\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise's eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this._id = lib$es6$promise$promise$$counter++;\n      this._state = undefined;\n      this._result = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        if (!lib$es6$promise$utils$$isFunction(resolver)) {\n          lib$es6$promise$promise$$needsResolver();\n        }\n\n        if (!(this instanceof lib$es6$promise$promise$$Promise)) {\n          lib$es6$promise$promise$$needsNew();\n        }\n\n        lib$es6$promise$$internal$$initializePromise(this, resolver);\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: function(onFulfillment, onRejection) {\n        var parent = this;\n        var state = parent._state;\n\n        if (state === lib$es6$promise$$internal$$FULFILLED && !onFulfillment || state === lib$es6$promise$$internal$$REJECTED && !onRejection) {\n          return this;\n        }\n\n        var child = new this.constructor(lib$es6$promise$$internal$$noop);\n        var result = parent._result;\n\n        if (state) {\n          var callback = arguments[state - 1];\n          lib$es6$promise$asap$$asap(function(){\n            lib$es6$promise$$internal$$invokeCallback(state, child, callback, result);\n          });\n        } else {\n          lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n        }\n\n        return child;\n      },\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/~/axios/~/es6-promise/dist/es6-promise.js\n ** module id = 16\n ** module chunks = 0\n **/","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/timers-browserify/main.js\n ** module id = 17\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 18\n ** module chunks = 0\n **/","module.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/amd-define.js\n ** module id = 20\n ** module chunks = 0\n **/","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function (arr) {\n    callback.apply(null, arr);\n  };\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/~/axios/lib/helpers/spread.js\n ** module id = 21\n ** module chunks = 0\n **/","/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */\n;(function(root) {\n\n\t// Detect free variables `exports`.\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`.\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t// it as `root`.\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar InvalidCharacterError = function(message) {\n\t\tthis.message = message;\n\t};\n\tInvalidCharacterError.prototype = new Error;\n\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n\tvar error = function(message) {\n\t\t// Note: the error messages used throughout this file match those used by\n\t\t// the native `atob`/`btoa` implementation in Chromium.\n\t\tthrow new InvalidCharacterError(message);\n\t};\n\n\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\n\tvar REGEX_SPACE_CHARACTERS = /[\\t\\n\\f\\r ]/g;\n\n\t// `decode` is designed to be fully compatible with `atob` as described in the\n\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\n\t// The optimized base64-decoding algorithm used is based on @atk’s excellent\n\t// implementation. https://gist.github.com/atk/1020396\n\tvar decode = function(input) {\n\t\tinput = String(input)\n\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\n\t\tvar length = input.length;\n\t\tif (length % 4 == 0) {\n\t\t\tinput = input.replace(/==?$/, '');\n\t\t\tlength = input.length;\n\t\t}\n\t\tif (\n\t\t\tlength % 4 == 1 ||\n\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\n\t\t\t/[^+a-zA-Z0-9/]/.test(input)\n\t\t) {\n\t\t\terror(\n\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\n\t\t\t);\n\t\t}\n\t\tvar bitCounter = 0;\n\t\tvar bitStorage;\n\t\tvar buffer;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\twhile (++position < length) {\n\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\n\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\n\t\t\t// Unless this is the first of a group of 4 characters…\n\t\t\tif (bitCounter++ % 4) {\n\t\t\t\t// …convert the first 8 bits to a single ASCII character.\n\t\t\t\toutput += String.fromCharCode(\n\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t};\n\n\t// `encode` is designed to be fully compatible with `btoa` as described in the\n\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\n\tvar encode = function(input) {\n\t\tinput = String(input);\n\t\tif (/[^\\0-\\xFF]/.test(input)) {\n\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\n\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\n\t\t\terror(\n\t\t\t\t'The string to be encoded contains characters outside of the ' +\n\t\t\t\t'Latin1 range.'\n\t\t\t);\n\t\t}\n\t\tvar padding = input.length % 3;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\tvar a;\n\t\tvar b;\n\t\tvar c;\n\t\tvar d;\n\t\tvar buffer;\n\t\t// Make sure any padding is handled outside of the loop.\n\t\tvar length = input.length - padding;\n\n\t\twhile (++position < length) {\n\t\t\t// Read three bytes, i.e. 24 bits.\n\t\t\ta = input.charCodeAt(position) << 16;\n\t\t\tb = input.charCodeAt(++position) << 8;\n\t\t\tc = input.charCodeAt(++position);\n\t\t\tbuffer = a + b + c;\n\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\n\t\t\t// matching character for each of them to the output.\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer & 0x3F)\n\t\t\t);\n\t\t}\n\n\t\tif (padding == 2) {\n\t\t\ta = input.charCodeAt(position) << 8;\n\t\t\tb = input.charCodeAt(++position);\n\t\t\tbuffer = a + b;\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 10) +\n\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\n\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\n\t\t\t\t'='\n\t\t\t);\n\t\t} else if (padding == 1) {\n\t\t\tbuffer = input.charCodeAt(position);\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 2) +\n\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\n\t\t\t\t'=='\n\t\t\t);\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tvar base64 = {\n\t\t'encode': encode,\n\t\t'decode': decode,\n\t\t'version': '0.1.0'\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn base64;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = base64;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (var key in base64) {\n\t\t\t\tbase64.hasOwnProperty(key) && (freeExports[key] = base64[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.base64 = base64;\n\t}\n\n}(this));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/~/base-64/base64.js\n ** module id = 22\n ** module chunks = 0\n **/","// =========\n// = humps =\n// =========\n// version 0.7.0\n// Underscore-to-camelCase converter (and vice versa)\n// for strings and object keys\n\n// humps is copyright © 2012+ Dom Christie\n// Released under the MIT license.\n\n\n;(function(global) {\n\n  var _processKeys = function(convert, obj, separator, ignoreNumbers) {\n    if(!_isObject(obj) || _isDate(obj) || _isRegExp(obj) || _isBoolean(obj)) {\n      return obj;\n    }\n\n    var output,\n        i = 0,\n        l = 0;\n\n    if(_isArray(obj)) {\n      output = [];\n      for(l=obj.length; i<l; i++) {\n        output.push(_processKeys(convert, obj[i], separator, ignoreNumbers));\n      }\n    }\n    else {\n      output = {};\n      for(var key in obj) {\n        if(obj.hasOwnProperty(key)) {\n          output[convert(key, separator, ignoreNumbers)] = _processKeys(convert, obj[key], separator, ignoreNumbers);\n        }\n      }\n    }\n    return output;\n  };\n\n  // String conversion methods\n\n  var separateWords = function(string, separator, ignoreNumbers) {\n    if (typeof separator === 'undefined') {\n      separator = '_';\n    }\n\n    var regexp = /([a-z])([A-Z0-9])/g;\n\n    if (ignoreNumbers) {\n      regexp = /([a-z])([A-Z])/g;\n    }\n\n    return string.replace(regexp, '$1'+ separator +'$2');\n  };\n\n  var camelize = function(string) {\n    if (_isNumerical(string)) {\n      return string;\n    }\n    string = string.replace(/[\\-_\\s]+(.)?/g, function(match, chr) {\n      return chr ? chr.toUpperCase() : '';\n    });\n    // Ensure 1st char is always lowercase\n    return string.substr(0, 1).toLowerCase() + string.substr(1);\n  };\n\n  var pascalize = function(string) {\n    var camelized = camelize(string);\n    // Ensure 1st char is always uppercase\n    return camelized.substr(0, 1).toUpperCase() + camelized.substr(1);\n  };\n\n  var decamelize = function(string, separator, ignoreNumbers) {\n    return separateWords(string, separator, ignoreNumbers).toLowerCase();\n  };\n\n  // Utilities\n  // Taken from Underscore.js\n\n  var toString = Object.prototype.toString;\n\n  var _isObject = function(obj) {\n    return obj === Object(obj);\n  };\n  var _isArray = function(obj) {\n    return toString.call(obj) == '[object Array]';\n  };\n  var _isDate = function(obj) {\n    return toString.call(obj) == '[object Date]';\n  };\n  var _isRegExp = function(obj) {\n    return toString.call(obj) == '[object RegExp]';\n  };\n  var _isBoolean = function(obj) {\n    return toString.call(obj) == '[object Boolean]';\n  };\n\n  // Performant way to determine if obj coerces to a number\n  var _isNumerical = function(obj) {\n    obj = obj - 0;\n    return obj === obj;\n  };\n\n  var humps = {\n    camelize: camelize,\n    decamelize: decamelize,\n    pascalize: pascalize,\n    depascalize: decamelize,\n    camelizeKeys: function(object) {\n      return _processKeys(camelize, object);\n    },\n    decamelizeKeys: function(object, separator, ignoreNumbers) {\n      return _processKeys(decamelize, object, separator, ignoreNumbers);\n    },\n    pascalizeKeys: function(object) {\n      return _processKeys(pascalize, object);\n    },\n    depascalizeKeys: function () {\n      return this.decamelizeKeys.apply(this, arguments);\n    }\n  };\n\n  if (typeof define === 'function' && define.amd) {\n    define(humps);\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = humps;\n  } else {\n    global.humps = humps;\n  }\n\n})(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timekit-sdk/~/humps/humps.js\n ** module id = 23\n ** module chunks = 0\n **/","/*!\n * FullCalendar v2.4.0\n * Docs & License: http://fullcalendar.io/\n * (c) 2015 Adam Shaw\n */\n\n(function(factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine([ 'jquery', 'moment' ], factory);\n\t}\n\telse if (typeof exports === 'object') { // Node/CommonJS\n\t\tmodule.exports = factory(require('jquery'), require('moment'));\n\t}\n\telse {\n\t\tfactory(jQuery, moment);\n\t}\n})(function($, moment) {\n\n;;\n\nvar fc = $.fullCalendar = { version: \"2.4.0\" };\nvar fcViews = fc.views = {};\n\n\n$.fn.fullCalendar = function(options) {\n\tvar args = Array.prototype.slice.call(arguments, 1); // for a possible method call\n\tvar res = this; // what this function will return (this jQuery object by default)\n\n\tthis.each(function(i, _element) { // loop each DOM element involved\n\t\tvar element = $(_element);\n\t\tvar calendar = element.data('fullCalendar'); // get the existing calendar object (if any)\n\t\tvar singleRes; // the returned value of this single method call\n\n\t\t// a method call\n\t\tif (typeof options === 'string') {\n\t\t\tif (calendar && $.isFunction(calendar[options])) {\n\t\t\t\tsingleRes = calendar[options].apply(calendar, args);\n\t\t\t\tif (!i) {\n\t\t\t\t\tres = singleRes; // record the first method call result\n\t\t\t\t}\n\t\t\t\tif (options === 'destroy') { // for the destroy method, must remove Calendar object data\n\t\t\t\t\telement.removeData('fullCalendar');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// a new calendar initialization\n\t\telse if (!calendar) { // don't initialize twice\n\t\t\tcalendar = new Calendar(element, options);\n\t\t\telement.data('fullCalendar', calendar);\n\t\t\tcalendar.render();\n\t\t}\n\t});\n\t\n\treturn res;\n};\n\n\nvar complexOptions = [ // names of options that are objects whose properties should be combined\n\t'header',\n\t'buttonText',\n\t'buttonIcons',\n\t'themeButtonIcons'\n];\n\n\n// Merges an array of option objects into a single object\nfunction mergeOptions(optionObjs) {\n\treturn mergeProps(optionObjs, complexOptions);\n}\n\n\n// Given options specified for the calendar's constructor, massages any legacy options into a non-legacy form.\n// Converts View-Option-Hashes into the View-Specific-Options format.\nfunction massageOverrides(input) {\n\tvar overrides = { views: input.views || {} }; // the output. ensure a `views` hash\n\tvar subObj;\n\n\t// iterate through all option override properties (except `views`)\n\t$.each(input, function(name, val) {\n\t\tif (name != 'views') {\n\n\t\t\t// could the value be a legacy View-Option-Hash?\n\t\t\tif (\n\t\t\t\t$.isPlainObject(val) &&\n\t\t\t\t!/(time|duration|interval)$/i.test(name) && // exclude duration options. might be given as objects\n\t\t\t\t$.inArray(name, complexOptions) == -1 // complex options aren't allowed to be View-Option-Hashes\n\t\t\t) {\n\t\t\t\tsubObj = null;\n\n\t\t\t\t// iterate through the properties of this possible View-Option-Hash value\n\t\t\t\t$.each(val, function(subName, subVal) {\n\n\t\t\t\t\t// is the property targeting a view?\n\t\t\t\t\tif (/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(subName)) {\n\t\t\t\t\t\tif (!overrides.views[subName]) { // ensure the view-target entry exists\n\t\t\t\t\t\t\toverrides.views[subName] = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\toverrides.views[subName][name] = subVal; // record the value in the `views` object\n\t\t\t\t\t}\n\t\t\t\t\telse { // a non-View-Option-Hash property\n\t\t\t\t\t\tif (!subObj) {\n\t\t\t\t\t\t\tsubObj = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsubObj[subName] = subVal; // accumulate these unrelated values for later\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (subObj) { // non-View-Option-Hash properties? transfer them as-is\n\t\t\t\t\toverrides[name] = subObj;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\toverrides[name] = val; // transfer normal options as-is\n\t\t\t}\n\t\t}\n\t});\n\n\treturn overrides;\n}\n\n;;\n\n// exports\nfc.intersectionToSeg = intersectionToSeg;\nfc.applyAll = applyAll;\nfc.debounce = debounce;\nfc.isInt = isInt;\nfc.htmlEscape = htmlEscape;\nfc.cssToStr = cssToStr;\nfc.proxy = proxy;\nfc.capitaliseFirstLetter = capitaliseFirstLetter;\n\n\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n\n\n// Given the scrollbar widths of some other container, create borders/margins on rowEls in order to match the left\n// and right space that was offset by the scrollbars. A 1-pixel border first, then margin beyond that.\nfunction compensateScroll(rowEls, scrollbarWidths) {\n\tif (scrollbarWidths.left) {\n\t\trowEls.css({\n\t\t\t'border-left-width': 1,\n\t\t\t'margin-left': scrollbarWidths.left - 1\n\t\t});\n\t}\n\tif (scrollbarWidths.right) {\n\t\trowEls.css({\n\t\t\t'border-right-width': 1,\n\t\t\t'margin-right': scrollbarWidths.right - 1\n\t\t});\n\t}\n}\n\n\n// Undoes compensateScroll and restores all borders/margins\nfunction uncompensateScroll(rowEls) {\n\trowEls.css({\n\t\t'margin-left': '',\n\t\t'margin-right': '',\n\t\t'border-left-width': '',\n\t\t'border-right-width': ''\n\t});\n}\n\n\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n\t$('body').addClass('fc-not-allowed');\n}\n\n\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n\t$('body').removeClass('fc-not-allowed');\n}\n\n\n// Given a total available height to fill, have `els` (essentially child rows) expand to accomodate.\n// By default, all elements that are shorter than the recommended height are expanded uniformly, not considering\n// any other els that are already too tall. if `shouldRedistribute` is on, it considers these tall rows and \n// reduces the available height.\nfunction distributeHeight(els, availableHeight, shouldRedistribute) {\n\n\t// *FLOORING NOTE*: we floor in certain places because zoom can give inaccurate floating-point dimensions,\n\t// and it is better to be shorter than taller, to avoid creating unnecessary scrollbars.\n\n\tvar minOffset1 = Math.floor(availableHeight / els.length); // for non-last element\n\tvar minOffset2 = Math.floor(availableHeight - minOffset1 * (els.length - 1)); // for last element *FLOORING NOTE*\n\tvar flexEls = []; // elements that are allowed to expand. array of DOM nodes\n\tvar flexOffsets = []; // amount of vertical space it takes up\n\tvar flexHeights = []; // actual css height\n\tvar usedHeight = 0;\n\n\tundistributeHeight(els); // give all elements their natural height\n\n\t// find elements that are below the recommended height (expandable).\n\t// important to query for heights in a single first pass (to avoid reflow oscillation).\n\tels.each(function(i, el) {\n\t\tvar minOffset = i === els.length - 1 ? minOffset2 : minOffset1;\n\t\tvar naturalOffset = $(el).outerHeight(true);\n\n\t\tif (naturalOffset < minOffset) {\n\t\t\tflexEls.push(el);\n\t\t\tflexOffsets.push(naturalOffset);\n\t\t\tflexHeights.push($(el).height());\n\t\t}\n\t\telse {\n\t\t\t// this element stretches past recommended height (non-expandable). mark the space as occupied.\n\t\t\tusedHeight += naturalOffset;\n\t\t}\n\t});\n\n\t// readjust the recommended height to only consider the height available to non-maxed-out rows.\n\tif (shouldRedistribute) {\n\t\tavailableHeight -= usedHeight;\n\t\tminOffset1 = Math.floor(availableHeight / flexEls.length);\n\t\tminOffset2 = Math.floor(availableHeight - minOffset1 * (flexEls.length - 1)); // *FLOORING NOTE*\n\t}\n\n\t// assign heights to all expandable elements\n\t$(flexEls).each(function(i, el) {\n\t\tvar minOffset = i === flexEls.length - 1 ? minOffset2 : minOffset1;\n\t\tvar naturalOffset = flexOffsets[i];\n\t\tvar naturalHeight = flexHeights[i];\n\t\tvar newHeight = minOffset - (naturalOffset - naturalHeight); // subtract the margin/padding\n\n\t\tif (naturalOffset < minOffset) { // we check this again because redistribution might have changed things\n\t\t\t$(el).height(newHeight);\n\t\t}\n\t});\n}\n\n\n// Undoes distrubuteHeight, restoring all els to their natural height\nfunction undistributeHeight(els) {\n\tels.height('');\n}\n\n\n// Given `els`, a jQuery set of <td> cells, find the cell with the largest natural width and set the widths of all the\n// cells to be that width.\n// PREREQUISITE: if you want a cell to take up width, it needs to have a single inner element w/ display:inline\nfunction matchCellWidths(els) {\n\tvar maxInnerWidth = 0;\n\n\tels.find('> *').each(function(i, innerEl) {\n\t\tvar innerWidth = $(innerEl).outerWidth();\n\t\tif (innerWidth > maxInnerWidth) {\n\t\t\tmaxInnerWidth = innerWidth;\n\t\t}\n\t});\n\n\tmaxInnerWidth++; // sometimes not accurate of width the text needs to stay on one line. insurance\n\n\tels.width(maxInnerWidth);\n\n\treturn maxInnerWidth;\n}\n\n\n// Turns a container element into a scroller if its contents is taller than the allotted height.\n// Returns true if the element is now a scroller, false otherwise.\n// NOTE: this method is best because it takes weird zooming dimensions into account\nfunction setPotentialScroller(containerEl, height) {\n\tcontainerEl.height(height).addClass('fc-scroller');\n\n\t// are scrollbars needed?\n\tif (containerEl[0].scrollHeight - 1 > containerEl[0].clientHeight) { // !!! -1 because IE is often off-by-one :(\n\t\treturn true;\n\t}\n\n\tunsetScroller(containerEl); // undo\n\treturn false;\n}\n\n\n// Takes an element that might have been a scroller, and turns it back into a normal element.\nfunction unsetScroller(containerEl) {\n\tcontainerEl.height('').removeClass('fc-scroller');\n}\n\n\n/* General DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n\nfc.getClientRect = getClientRect;\nfc.getContentRect = getContentRect;\nfc.getScrollbarWidths = getScrollbarWidths;\n\n\n// borrowed from https://github.com/jquery/jquery-ui/blob/1.11.0/ui/core.js#L51\nfunction getScrollParent(el) {\n\tvar position = el.css('position'),\n\t\tscrollParent = el.parents().filter(function() {\n\t\t\tvar parent = $(this);\n\t\t\treturn (/(auto|scroll)/).test(\n\t\t\t\tparent.css('overflow') + parent.css('overflow-y') + parent.css('overflow-x')\n\t\t\t);\n\t\t}).eq(0);\n\n\treturn position === 'fixed' || !scrollParent.length ? $(el[0].ownerDocument || document) : scrollParent;\n}\n\n\n// Queries the outer bounding area of a jQuery element.\n// Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\nfunction getOuterRect(el) {\n\tvar offset = el.offset();\n\n\treturn {\n\t\tleft: offset.left,\n\t\tright: offset.left + el.outerWidth(),\n\t\ttop: offset.top,\n\t\tbottom: offset.top + el.outerHeight()\n\t};\n}\n\n\n// Queries the area within the margin/border/scrollbars of a jQuery element. Does not go within the padding.\n// Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\n// NOTE: should use clientLeft/clientTop, but very unreliable cross-browser.\nfunction getClientRect(el) {\n\tvar offset = el.offset();\n\tvar scrollbarWidths = getScrollbarWidths(el);\n\tvar left = offset.left + getCssFloat(el, 'border-left-width') + scrollbarWidths.left;\n\tvar top = offset.top + getCssFloat(el, 'border-top-width') + scrollbarWidths.top;\n\n\treturn {\n\t\tleft: left,\n\t\tright: left + el[0].clientWidth, // clientWidth includes padding but NOT scrollbars\n\t\ttop: top,\n\t\tbottom: top + el[0].clientHeight // clientHeight includes padding but NOT scrollbars\n\t};\n}\n\n\n// Queries the area within the margin/border/padding of a jQuery element. Assumed not to have scrollbars.\n// Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\nfunction getContentRect(el) {\n\tvar offset = el.offset(); // just outside of border, margin not included\n\tvar left = offset.left + getCssFloat(el, 'border-left-width') + getCssFloat(el, 'padding-left');\n\tvar top = offset.top + getCssFloat(el, 'border-top-width') + getCssFloat(el, 'padding-top');\n\n\treturn {\n\t\tleft: left,\n\t\tright: left + el.width(),\n\t\ttop: top,\n\t\tbottom: top + el.height()\n\t};\n}\n\n\n// Returns the computed left/right/top/bottom scrollbar widths for the given jQuery element.\n// NOTE: should use clientLeft/clientTop, but very unreliable cross-browser.\nfunction getScrollbarWidths(el) {\n\tvar leftRightWidth = el.innerWidth() - el[0].clientWidth; // the paddings cancel out, leaving the scrollbars\n\tvar widths = {\n\t\tleft: 0,\n\t\tright: 0,\n\t\ttop: 0,\n\t\tbottom: el.innerHeight() - el[0].clientHeight // the paddings cancel out, leaving the bottom scrollbar\n\t};\n\n\tif (getIsLeftRtlScrollbars() && el.css('direction') == 'rtl') { // is the scrollbar on the left side?\n\t\twidths.left = leftRightWidth;\n\t}\n\telse {\n\t\twidths.right = leftRightWidth;\n\t}\n\n\treturn widths;\n}\n\n\n// Logic for determining if, when the element is right-to-left, the scrollbar appears on the left side\n\nvar _isLeftRtlScrollbars = null;\n\nfunction getIsLeftRtlScrollbars() { // responsible for caching the computation\n\tif (_isLeftRtlScrollbars === null) {\n\t\t_isLeftRtlScrollbars = computeIsLeftRtlScrollbars();\n\t}\n\treturn _isLeftRtlScrollbars;\n}\n\nfunction computeIsLeftRtlScrollbars() { // creates an offscreen test element, then removes it\n\tvar el = $('<div><div/></div>')\n\t\t.css({\n\t\t\tposition: 'absolute',\n\t\t\ttop: -1000,\n\t\t\tleft: 0,\n\t\t\tborder: 0,\n\t\t\tpadding: 0,\n\t\t\toverflow: 'scroll',\n\t\t\tdirection: 'rtl'\n\t\t})\n\t\t.appendTo('body');\n\tvar innerEl = el.children();\n\tvar res = innerEl.offset().left > el.offset().left; // is the inner div shifted to accommodate a left scrollbar?\n\tel.remove();\n\treturn res;\n}\n\n\n// Retrieves a jQuery element's computed CSS value as a floating-point number.\n// If the queried value is non-numeric (ex: IE can return \"medium\" for border width), will just return zero.\nfunction getCssFloat(el, prop) {\n\treturn parseFloat(el.css(prop)) || 0;\n}\n\n\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n\treturn ev.which == 1 && !ev.ctrlKey;\n}\n\n\n/* Geometry\n----------------------------------------------------------------------------------------------------------------------*/\n\nfc.intersectRects = intersectRects;\n\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n\tvar res = {\n\t\tleft: Math.max(rect1.left, rect2.left),\n\t\tright: Math.min(rect1.right, rect2.right),\n\t\ttop: Math.max(rect1.top, rect2.top),\n\t\tbottom: Math.min(rect1.bottom, rect2.bottom)\n\t};\n\n\tif (res.left < res.right && res.top < res.bottom) {\n\t\treturn res;\n\t}\n\treturn false;\n}\n\n\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n\treturn {\n\t\tleft: Math.min(Math.max(point.left, rect.left), rect.right),\n\t\ttop: Math.min(Math.max(point.top, rect.top), rect.bottom)\n\t};\n}\n\n\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n\treturn {\n\t\tleft: (rect.left + rect.right) / 2,\n\t\ttop: (rect.top + rect.bottom) / 2\n\t};\n}\n\n\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n\treturn {\n\t\tleft: point1.left - point2.left,\n\t\ttop: point1.top - point2.top\n\t};\n}\n\n\n/* Object Ordering by Field\n----------------------------------------------------------------------------------------------------------------------*/\n\nfc.parseFieldSpecs = parseFieldSpecs;\nfc.compareByFieldSpecs = compareByFieldSpecs;\nfc.compareByFieldSpec = compareByFieldSpec;\nfc.flexibleCompare = flexibleCompare;\n\n\nfunction parseFieldSpecs(input) {\n\tvar specs = [];\n\tvar tokens = [];\n\tvar i, token;\n\n\tif (typeof input === 'string') {\n\t\ttokens = input.split(/\\s*,\\s*/);\n\t}\n\telse if (typeof input === 'function') {\n\t\ttokens = [ input ];\n\t}\n\telse if ($.isArray(input)) {\n\t\ttokens = input;\n\t}\n\n\tfor (i = 0; i < tokens.length; i++) {\n\t\ttoken = tokens[i];\n\n\t\tif (typeof token === 'string') {\n\t\t\tspecs.push(\n\t\t\t\ttoken.charAt(0) == '-' ?\n\t\t\t\t\t{ field: token.substring(1), order: -1 } :\n\t\t\t\t\t{ field: token, order: 1 }\n\t\t\t);\n\t\t}\n\t\telse if (typeof token === 'function') {\n\t\t\tspecs.push({ func: token });\n\t\t}\n\t}\n\n\treturn specs;\n}\n\n\nfunction compareByFieldSpecs(obj1, obj2, fieldSpecs) {\n\tvar i;\n\tvar cmp;\n\n\tfor (i = 0; i < fieldSpecs.length; i++) {\n\t\tcmp = compareByFieldSpec(obj1, obj2, fieldSpecs[i]);\n\t\tif (cmp) {\n\t\t\treturn cmp;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\n\nfunction compareByFieldSpec(obj1, obj2, fieldSpec) {\n\tif (fieldSpec.func) {\n\t\treturn fieldSpec.func(obj1, obj2);\n\t}\n\treturn flexibleCompare(obj1[fieldSpec.field], obj2[fieldSpec.field]) *\n\t\t(fieldSpec.order || 1);\n}\n\n\nfunction flexibleCompare(a, b) {\n\tif (!a && !b) {\n\t\treturn 0;\n\t}\n\tif (b == null) {\n\t\treturn -1;\n\t}\n\tif (a == null) {\n\t\treturn 1;\n\t}\n\tif ($.type(a) === 'string' || $.type(b) === 'string') {\n\t\treturn String(a).localeCompare(String(b));\n\t}\n\treturn a - b;\n}\n\n\n/* FullCalendar-specific Misc Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n\n\n// Creates a basic segment with the intersection of the two ranges. Returns undefined if no intersection.\n// Expects all dates to be normalized to the same timezone beforehand.\n// TODO: move to date section?\nfunction intersectionToSeg(subjectRange, constraintRange) {\n\tvar subjectStart = subjectRange.start;\n\tvar subjectEnd = subjectRange.end;\n\tvar constraintStart = constraintRange.start;\n\tvar constraintEnd = constraintRange.end;\n\tvar segStart, segEnd;\n\tvar isStart, isEnd;\n\n\tif (subjectEnd > constraintStart && subjectStart < constraintEnd) { // in bounds at all?\n\n\t\tif (subjectStart >= constraintStart) {\n\t\t\tsegStart = subjectStart.clone();\n\t\t\tisStart = true;\n\t\t}\n\t\telse {\n\t\t\tsegStart = constraintStart.clone();\n\t\t\tisStart =  false;\n\t\t}\n\n\t\tif (subjectEnd <= constraintEnd) {\n\t\t\tsegEnd = subjectEnd.clone();\n\t\t\tisEnd = true;\n\t\t}\n\t\telse {\n\t\t\tsegEnd = constraintEnd.clone();\n\t\t\tisEnd = false;\n\t\t}\n\n\t\treturn {\n\t\t\tstart: segStart,\n\t\t\tend: segEnd,\n\t\t\tisStart: isStart,\n\t\t\tisEnd: isEnd\n\t\t};\n\t}\n}\n\n\n/* Date Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n\nfc.computeIntervalUnit = computeIntervalUnit;\nfc.divideRangeByDuration = divideRangeByDuration;\nfc.divideDurationByDuration = divideDurationByDuration;\nfc.multiplyDuration = multiplyDuration;\nfc.durationHasTime = durationHasTime;\n\nvar dayIDs = [ 'sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat' ];\nvar intervalUnits = [ 'year', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond' ];\n\n\n// Diffs the two moments into a Duration where full-days are recorded first, then the remaining time.\n// Moments will have their timezones normalized.\nfunction diffDayTime(a, b) {\n\treturn moment.duration({\n\t\tdays: a.clone().stripTime().diff(b.clone().stripTime(), 'days'),\n\t\tms: a.time() - b.time() // time-of-day from day start. disregards timezone\n\t});\n}\n\n\n// Diffs the two moments via their start-of-day (regardless of timezone). Produces whole-day durations.\nfunction diffDay(a, b) {\n\treturn moment.duration({\n\t\tdays: a.clone().stripTime().diff(b.clone().stripTime(), 'days')\n\t});\n}\n\n\n// Diffs two moments, producing a duration, made of a whole-unit-increment of the given unit. Uses rounding.\nfunction diffByUnit(a, b, unit) {\n\treturn moment.duration(\n\t\tMath.round(a.diff(b, unit, true)), // returnFloat=true\n\t\tunit\n\t);\n}\n\n\n// Computes the unit name of the largest whole-unit period of time.\n// For example, 48 hours will be \"days\" whereas 49 hours will be \"hours\".\n// Accepts start/end, a range object, or an original duration object.\nfunction computeIntervalUnit(start, end) {\n\tvar i, unit;\n\tvar val;\n\n\tfor (i = 0; i < intervalUnits.length; i++) {\n\t\tunit = intervalUnits[i];\n\t\tval = computeRangeAs(unit, start, end);\n\n\t\tif (val >= 1 && isInt(val)) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn unit; // will be \"milliseconds\" if nothing else matches\n}\n\n\n// Computes the number of units (like \"hours\") in the given range.\n// Range can be a {start,end} object, separate start/end args, or a Duration.\n// Results are based on Moment's .as() and .diff() methods, so results can depend on internal handling\n// of month-diffing logic (which tends to vary from version to version).\nfunction computeRangeAs(unit, start, end) {\n\n\tif (end != null) { // given start, end\n\t\treturn end.diff(start, unit, true);\n\t}\n\telse if (moment.isDuration(start)) { // given duration\n\t\treturn start.as(unit);\n\t}\n\telse { // given { start, end } range object\n\t\treturn start.end.diff(start.start, unit, true);\n\t}\n}\n\n\n// Intelligently divides a range (specified by a start/end params) by a duration\nfunction divideRangeByDuration(start, end, dur) {\n\tvar months;\n\n\tif (durationHasTime(dur)) {\n\t\treturn (end - start) / dur;\n\t}\n\tmonths = dur.asMonths();\n\tif (Math.abs(months) >= 1 && isInt(months)) {\n\t\treturn end.diff(start, 'months', true) / months;\n\t}\n\treturn end.diff(start, 'days', true) / dur.asDays();\n}\n\n\n// Intelligently divides one duration by another\nfunction divideDurationByDuration(dur1, dur2) {\n\tvar months1, months2;\n\n\tif (durationHasTime(dur1) || durationHasTime(dur2)) {\n\t\treturn dur1 / dur2;\n\t}\n\tmonths1 = dur1.asMonths();\n\tmonths2 = dur2.asMonths();\n\tif (\n\t\tMath.abs(months1) >= 1 && isInt(months1) &&\n\t\tMath.abs(months2) >= 1 && isInt(months2)\n\t) {\n\t\treturn months1 / months2;\n\t}\n\treturn dur1.asDays() / dur2.asDays();\n}\n\n\n// Intelligently multiplies a duration by a number\nfunction multiplyDuration(dur, n) {\n\tvar months;\n\n\tif (durationHasTime(dur)) {\n\t\treturn moment.duration(dur * n);\n\t}\n\tmonths = dur.asMonths();\n\tif (Math.abs(months) >= 1 && isInt(months)) {\n\t\treturn moment.duration({ months: months * n });\n\t}\n\treturn moment.duration({ days: dur.asDays() * n });\n}\n\n\n// Returns a boolean about whether the given duration has any time parts (hours/minutes/seconds/ms)\nfunction durationHasTime(dur) {\n\treturn Boolean(dur.hours() || dur.minutes() || dur.seconds() || dur.milliseconds());\n}\n\n\nfunction isNativeDate(input) {\n\treturn  Object.prototype.toString.call(input) === '[object Date]' || input instanceof Date;\n}\n\n\n// Returns a boolean about whether the given input is a time string, like \"06:40:00\" or \"06:00\"\nfunction isTimeString(str) {\n\treturn /^\\d+\\:\\d+(?:\\:\\d+\\.?(?:\\d{3})?)?$/.test(str);\n}\n\n\n/* Logging and Debug\n----------------------------------------------------------------------------------------------------------------------*/\n\nfc.log = function() {\n\tvar console = window.console;\n\n\tif (console && console.log) {\n\t\treturn console.log.apply(console, arguments);\n\t}\n};\n\nfc.warn = function() {\n\tvar console = window.console;\n\n\tif (console && console.warn) {\n\t\treturn console.warn.apply(console, arguments);\n\t}\n\telse {\n\t\treturn fc.log.apply(fc, arguments);\n\t}\n};\n\n\n/* General Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar hasOwnPropMethod = {}.hasOwnProperty;\n\n\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexProps) {\n\tvar dest = {};\n\tvar i, name;\n\tvar complexObjs;\n\tvar j, val;\n\tvar props;\n\n\tif (complexProps) {\n\t\tfor (i = 0; i < complexProps.length; i++) {\n\t\t\tname = complexProps[i];\n\t\t\tcomplexObjs = [];\n\n\t\t\t// collect the trailing object values, stopping when a non-object is discovered\n\t\t\tfor (j = propObjs.length - 1; j >= 0; j--) {\n\t\t\t\tval = propObjs[j][name];\n\n\t\t\t\tif (typeof val === 'object') {\n\t\t\t\t\tcomplexObjs.unshift(val);\n\t\t\t\t}\n\t\t\t\telse if (val !== undefined) {\n\t\t\t\t\tdest[name] = val; // if there were no objects, this value will be used\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// if the trailing values were objects, use the merged value\n\t\t\tif (complexObjs.length) {\n\t\t\t\tdest[name] = mergeProps(complexObjs);\n\t\t\t}\n\t\t}\n\t}\n\n\t// copy values into the destination, going from last to first\n\tfor (i = propObjs.length - 1; i >= 0; i--) {\n\t\tprops = propObjs[i];\n\n\t\tfor (name in props) {\n\t\t\tif (!(name in dest)) { // if already assigned by previous props or complex props, don't reassign\n\t\t\t\tdest[name] = props[name];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dest;\n}\n\n\n// Create an object that has the given prototype. Just like Object.create\nfunction createObject(proto) {\n\tvar f = function() {};\n\tf.prototype = proto;\n\treturn new f();\n}\n\n\nfunction copyOwnProps(src, dest) {\n\tfor (var name in src) {\n\t\tif (hasOwnProp(src, name)) {\n\t\t\tdest[name] = src[name];\n\t\t}\n\t}\n}\n\n\n// Copies over certain methods with the same names as Object.prototype methods. Overcomes an IE<=8 bug:\n// https://developer.mozilla.org/en-US/docs/ECMAScript_DontEnum_attribute#JScript_DontEnum_Bug\nfunction copyNativeMethods(src, dest) {\n\tvar names = [ 'constructor', 'toString', 'valueOf' ];\n\tvar i, name;\n\n\tfor (i = 0; i < names.length; i++) {\n\t\tname = names[i];\n\n\t\tif (src[name] !== Object.prototype[name]) {\n\t\t\tdest[name] = src[name];\n\t\t}\n\t}\n}\n\n\nfunction hasOwnProp(obj, name) {\n\treturn hasOwnPropMethod.call(obj, name);\n}\n\n\n// Is the given value a non-object non-function value?\nfunction isAtomic(val) {\n\treturn /undefined|null|boolean|number|string/.test($.type(val));\n}\n\n\nfunction applyAll(functions, thisObj, args) {\n\tif ($.isFunction(functions)) {\n\t\tfunctions = [ functions ];\n\t}\n\tif (functions) {\n\t\tvar i;\n\t\tvar ret;\n\t\tfor (i=0; i<functions.length; i++) {\n\t\t\tret = functions[i].apply(thisObj, args) || ret;\n\t\t}\n\t\treturn ret;\n\t}\n}\n\n\nfunction firstDefined() {\n\tfor (var i=0; i<arguments.length; i++) {\n\t\tif (arguments[i] !== undefined) {\n\t\t\treturn arguments[i];\n\t\t}\n\t}\n}\n\n\nfunction htmlEscape(s) {\n\treturn (s + '').replace(/&/g, '&amp;')\n\t\t.replace(/</g, '&lt;')\n\t\t.replace(/>/g, '&gt;')\n\t\t.replace(/'/g, '&#039;')\n\t\t.replace(/\"/g, '&quot;')\n\t\t.replace(/\\n/g, '<br />');\n}\n\n\nfunction stripHtmlEntities(text) {\n\treturn text.replace(/&.*?;/g, '');\n}\n\n\n// Given a hash of CSS properties, returns a string of CSS.\n// Uses property names as-is (no camel-case conversion). Will not make statements for null/undefined values.\nfunction cssToStr(cssProps) {\n\tvar statements = [];\n\n\t$.each(cssProps, function(name, val) {\n\t\tif (val != null) {\n\t\t\tstatements.push(name + ':' + val);\n\t\t}\n\t});\n\n\treturn statements.join(';');\n}\n\n\nfunction capitaliseFirstLetter(str) {\n\treturn str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n\nfunction compareNumbers(a, b) { // for .sort()\n\treturn a - b;\n}\n\n\nfunction isInt(n) {\n\treturn n % 1 === 0;\n}\n\n\n// Returns a method bound to the given object context.\n// Just like one of the jQuery.proxy signatures, but without the undesired behavior of treating the same method with\n// different contexts as identical when binding/unbinding events.\nfunction proxy(obj, methodName) {\n\tvar method = obj[methodName];\n\n\treturn function() {\n\t\treturn method.apply(obj, arguments);\n\t};\n}\n\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds.\n// https://github.com/jashkenas/underscore/blob/1.6.0/underscore.js#L714\nfunction debounce(func, wait) {\n\tvar timeoutId;\n\tvar args;\n\tvar context;\n\tvar timestamp; // of most recent call\n\tvar later = function() {\n\t\tvar last = +new Date() - timestamp;\n\t\tif (last < wait && last > 0) {\n\t\t\ttimeoutId = setTimeout(later, wait - last);\n\t\t}\n\t\telse {\n\t\t\ttimeoutId = null;\n\t\t\tfunc.apply(context, args);\n\t\t\tif (!timeoutId) {\n\t\t\t\tcontext = args = null;\n\t\t\t}\n\t\t}\n\t};\n\n\treturn function() {\n\t\tcontext = this;\n\t\targs = arguments;\n\t\ttimestamp = +new Date();\n\t\tif (!timeoutId) {\n\t\t\ttimeoutId = setTimeout(later, wait);\n\t\t}\n\t};\n}\n\n;;\n\nvar ambigDateOfMonthRegex = /^\\s*\\d{4}-\\d\\d$/;\nvar ambigTimeOrZoneRegex =\n\t/^\\s*\\d{4}-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?)?$/;\nvar newMomentProto = moment.fn; // where we will attach our new methods\nvar oldMomentProto = $.extend({}, newMomentProto); // copy of original moment methods\nvar allowValueOptimization;\nvar setUTCValues; // function defined below\nvar setLocalValues; // function defined below\n\n\n// Creating\n// -------------------------------------------------------------------------------------------------\n\n// Creates a new moment, similar to the vanilla moment(...) constructor, but with\n// extra features (ambiguous time, enhanced formatting). When given an existing moment,\n// it will function as a clone (and retain the zone of the moment). Anything else will\n// result in a moment in the local zone.\nfc.moment = function() {\n\treturn makeMoment(arguments);\n};\n\n// Sames as fc.moment, but forces the resulting moment to be in the UTC timezone.\nfc.moment.utc = function() {\n\tvar mom = makeMoment(arguments, true);\n\n\t// Force it into UTC because makeMoment doesn't guarantee it\n\t// (if given a pre-existing moment for example)\n\tif (mom.hasTime()) { // don't give ambiguously-timed moments a UTC zone\n\t\tmom.utc();\n\t}\n\n\treturn mom;\n};\n\n// Same as fc.moment, but when given an ISO8601 string, the timezone offset is preserved.\n// ISO8601 strings with no timezone offset will become ambiguously zoned.\nfc.moment.parseZone = function() {\n\treturn makeMoment(arguments, true, true);\n};\n\n// Builds an enhanced moment from args. When given an existing moment, it clones. When given a\n// native Date, or called with no arguments (the current time), the resulting moment will be local.\n// Anything else needs to be \"parsed\" (a string or an array), and will be affected by:\n//    parseAsUTC - if there is no zone information, should we parse the input in UTC?\n//    parseZone - if there is zone information, should we force the zone of the moment?\nfunction makeMoment(args, parseAsUTC, parseZone) {\n\tvar input = args[0];\n\tvar isSingleString = args.length == 1 && typeof input === 'string';\n\tvar isAmbigTime;\n\tvar isAmbigZone;\n\tvar ambigMatch;\n\tvar mom;\n\n\tif (moment.isMoment(input)) {\n\t\tmom = moment.apply(null, args); // clone it\n\t\ttransferAmbigs(input, mom); // the ambig flags weren't transfered with the clone\n\t}\n\telse if (isNativeDate(input) || input === undefined) {\n\t\tmom = moment.apply(null, args); // will be local\n\t}\n\telse { // \"parsing\" is required\n\t\tisAmbigTime = false;\n\t\tisAmbigZone = false;\n\n\t\tif (isSingleString) {\n\t\t\tif (ambigDateOfMonthRegex.test(input)) {\n\t\t\t\t// accept strings like '2014-05', but convert to the first of the month\n\t\t\t\tinput += '-01';\n\t\t\t\targs = [ input ]; // for when we pass it on to moment's constructor\n\t\t\t\tisAmbigTime = true;\n\t\t\t\tisAmbigZone = true;\n\t\t\t}\n\t\t\telse if ((ambigMatch = ambigTimeOrZoneRegex.exec(input))) {\n\t\t\t\tisAmbigTime = !ambigMatch[5]; // no time part?\n\t\t\t\tisAmbigZone = true;\n\t\t\t}\n\t\t}\n\t\telse if ($.isArray(input)) {\n\t\t\t// arrays have no timezone information, so assume ambiguous zone\n\t\t\tisAmbigZone = true;\n\t\t}\n\t\t// otherwise, probably a string with a format\n\n\t\tif (parseAsUTC || isAmbigTime) {\n\t\t\tmom = moment.utc.apply(moment, args);\n\t\t}\n\t\telse {\n\t\t\tmom = moment.apply(null, args);\n\t\t}\n\n\t\tif (isAmbigTime) {\n\t\t\tmom._ambigTime = true;\n\t\t\tmom._ambigZone = true; // ambiguous time always means ambiguous zone\n\t\t}\n\t\telse if (parseZone) { // let's record the inputted zone somehow\n\t\t\tif (isAmbigZone) {\n\t\t\t\tmom._ambigZone = true;\n\t\t\t}\n\t\t\telse if (isSingleString) {\n\t\t\t\tif (mom.utcOffset) {\n\t\t\t\t\tmom.utcOffset(input); // if not a valid zone, will assign UTC\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tmom.zone(input); // for moment-pre-2.9\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tmom._fullCalendar = true; // flag for extended functionality\n\n\treturn mom;\n}\n\n\n// A clone method that works with the flags related to our enhanced functionality.\n// In the future, use moment.momentProperties\nnewMomentProto.clone = function() {\n\tvar mom = oldMomentProto.clone.apply(this, arguments);\n\n\t// these flags weren't transfered with the clone\n\ttransferAmbigs(this, mom);\n\tif (this._fullCalendar) {\n\t\tmom._fullCalendar = true;\n\t}\n\n\treturn mom;\n};\n\n\n// Week Number\n// -------------------------------------------------------------------------------------------------\n\n\n// Returns the week number, considering the locale's custom week number calcuation\n// `weeks` is an alias for `week`\nnewMomentProto.week = newMomentProto.weeks = function(input) {\n\tvar weekCalc = (this._locale || this._lang) // works pre-moment-2.8\n\t\t._fullCalendar_weekCalc;\n\n\tif (input == null && typeof weekCalc === 'function') { // custom function only works for getter\n\t\treturn weekCalc(this);\n\t}\n\telse if (weekCalc === 'ISO') {\n\t\treturn oldMomentProto.isoWeek.apply(this, arguments); // ISO getter/setter\n\t}\n\n\treturn oldMomentProto.week.apply(this, arguments); // local getter/setter\n};\n\n\n// Time-of-day\n// -------------------------------------------------------------------------------------------------\n\n// GETTER\n// Returns a Duration with the hours/minutes/seconds/ms values of the moment.\n// If the moment has an ambiguous time, a duration of 00:00 will be returned.\n//\n// SETTER\n// You can supply a Duration, a Moment, or a Duration-like argument.\n// When setting the time, and the moment has an ambiguous time, it then becomes unambiguous.\nnewMomentProto.time = function(time) {\n\n\t// Fallback to the original method (if there is one) if this moment wasn't created via FullCalendar.\n\t// `time` is a generic enough method name where this precaution is necessary to avoid collisions w/ other plugins.\n\tif (!this._fullCalendar) {\n\t\treturn oldMomentProto.time.apply(this, arguments);\n\t}\n\n\tif (time == null) { // getter\n\t\treturn moment.duration({\n\t\t\thours: this.hours(),\n\t\t\tminutes: this.minutes(),\n\t\t\tseconds: this.seconds(),\n\t\t\tmilliseconds: this.milliseconds()\n\t\t});\n\t}\n\telse { // setter\n\n\t\tthis._ambigTime = false; // mark that the moment now has a time\n\n\t\tif (!moment.isDuration(time) && !moment.isMoment(time)) {\n\t\t\ttime = moment.duration(time);\n\t\t}\n\n\t\t// The day value should cause overflow (so 24 hours becomes 00:00:00 of next day).\n\t\t// Only for Duration times, not Moment times.\n\t\tvar dayHours = 0;\n\t\tif (moment.isDuration(time)) {\n\t\t\tdayHours = Math.floor(time.asDays()) * 24;\n\t\t}\n\n\t\t// We need to set the individual fields.\n\t\t// Can't use startOf('day') then add duration. In case of DST at start of day.\n\t\treturn this.hours(dayHours + time.hours())\n\t\t\t.minutes(time.minutes())\n\t\t\t.seconds(time.seconds())\n\t\t\t.milliseconds(time.milliseconds());\n\t}\n};\n\n// Converts the moment to UTC, stripping out its time-of-day and timezone offset,\n// but preserving its YMD. A moment with a stripped time will display no time\n// nor timezone offset when .format() is called.\nnewMomentProto.stripTime = function() {\n\tvar a;\n\n\tif (!this._ambigTime) {\n\n\t\t// get the values before any conversion happens\n\t\ta = this.toArray(); // array of y/m/d/h/m/s/ms\n\n\t\t// TODO: use keepLocalTime in the future\n\t\tthis.utc(); // set the internal UTC flag (will clear the ambig flags)\n\t\tsetUTCValues(this, a.slice(0, 3)); // set the year/month/date. time will be zero\n\n\t\t// Mark the time as ambiguous. This needs to happen after the .utc() call, which might call .utcOffset(),\n\t\t// which clears all ambig flags. Same with setUTCValues with moment-timezone.\n\t\tthis._ambigTime = true;\n\t\tthis._ambigZone = true; // if ambiguous time, also ambiguous timezone offset\n\t}\n\n\treturn this; // for chaining\n};\n\n// Returns if the moment has a non-ambiguous time (boolean)\nnewMomentProto.hasTime = function() {\n\treturn !this._ambigTime;\n};\n\n\n// Timezone\n// -------------------------------------------------------------------------------------------------\n\n// Converts the moment to UTC, stripping out its timezone offset, but preserving its\n// YMD and time-of-day. A moment with a stripped timezone offset will display no\n// timezone offset when .format() is called.\n// TODO: look into Moment's keepLocalTime functionality\nnewMomentProto.stripZone = function() {\n\tvar a, wasAmbigTime;\n\n\tif (!this._ambigZone) {\n\n\t\t// get the values before any conversion happens\n\t\ta = this.toArray(); // array of y/m/d/h/m/s/ms\n\t\twasAmbigTime = this._ambigTime;\n\n\t\tthis.utc(); // set the internal UTC flag (might clear the ambig flags, depending on Moment internals)\n\t\tsetUTCValues(this, a); // will set the year/month/date/hours/minutes/seconds/ms\n\n\t\t// the above call to .utc()/.utcOffset() unfortunately might clear the ambig flags, so restore\n\t\tthis._ambigTime = wasAmbigTime || false;\n\n\t\t// Mark the zone as ambiguous. This needs to happen after the .utc() call, which might call .utcOffset(),\n\t\t// which clears the ambig flags. Same with setUTCValues with moment-timezone.\n\t\tthis._ambigZone = true;\n\t}\n\n\treturn this; // for chaining\n};\n\n// Returns of the moment has a non-ambiguous timezone offset (boolean)\nnewMomentProto.hasZone = function() {\n\treturn !this._ambigZone;\n};\n\n\n// this method implicitly marks a zone\nnewMomentProto.local = function() {\n\tvar a = this.toArray(); // year,month,date,hours,minutes,seconds,ms as an array\n\tvar wasAmbigZone = this._ambigZone;\n\n\toldMomentProto.local.apply(this, arguments);\n\n\t// ensure non-ambiguous\n\t// this probably already happened via local() -> utcOffset(), but don't rely on Moment's internals\n\tthis._ambigTime = false;\n\tthis._ambigZone = false;\n\n\tif (wasAmbigZone) {\n\t\t// If the moment was ambiguously zoned, the date fields were stored as UTC.\n\t\t// We want to preserve these, but in local time.\n\t\t// TODO: look into Moment's keepLocalTime functionality\n\t\tsetLocalValues(this, a);\n\t}\n\n\treturn this; // for chaining\n};\n\n\n// implicitly marks a zone\nnewMomentProto.utc = function() {\n\toldMomentProto.utc.apply(this, arguments);\n\n\t// ensure non-ambiguous\n\t// this probably already happened via utc() -> utcOffset(), but don't rely on Moment's internals\n\tthis._ambigTime = false;\n\tthis._ambigZone = false;\n\n\treturn this;\n};\n\n\n// methods for arbitrarily manipulating timezone offset.\n// should clear time/zone ambiguity when called.\n$.each([\n\t'zone', // only in moment-pre-2.9. deprecated afterwards\n\t'utcOffset'\n], function(i, name) {\n\tif (oldMomentProto[name]) { // original method exists?\n\n\t\t// this method implicitly marks a zone (will probably get called upon .utc() and .local())\n\t\tnewMomentProto[name] = function(tzo) {\n\n\t\t\tif (tzo != null) { // setter\n\t\t\t\t// these assignments needs to happen before the original zone method is called.\n\t\t\t\t// I forget why, something to do with a browser crash.\n\t\t\t\tthis._ambigTime = false;\n\t\t\t\tthis._ambigZone = false;\n\t\t\t}\n\n\t\t\treturn oldMomentProto[name].apply(this, arguments);\n\t\t};\n\t}\n});\n\n\n// Formatting\n// -------------------------------------------------------------------------------------------------\n\nnewMomentProto.format = function() {\n\tif (this._fullCalendar && arguments[0]) { // an enhanced moment? and a format string provided?\n\t\treturn formatDate(this, arguments[0]); // our extended formatting\n\t}\n\tif (this._ambigTime) {\n\t\treturn oldMomentFormat(this, 'YYYY-MM-DD');\n\t}\n\tif (this._ambigZone) {\n\t\treturn oldMomentFormat(this, 'YYYY-MM-DD[T]HH:mm:ss');\n\t}\n\treturn oldMomentProto.format.apply(this, arguments);\n};\n\nnewMomentProto.toISOString = function() {\n\tif (this._ambigTime) {\n\t\treturn oldMomentFormat(this, 'YYYY-MM-DD');\n\t}\n\tif (this._ambigZone) {\n\t\treturn oldMomentFormat(this, 'YYYY-MM-DD[T]HH:mm:ss');\n\t}\n\treturn oldMomentProto.toISOString.apply(this, arguments);\n};\n\n\n// Querying\n// -------------------------------------------------------------------------------------------------\n\n// Is the moment within the specified range? `end` is exclusive.\n// FYI, this method is not a standard Moment method, so always do our enhanced logic.\nnewMomentProto.isWithin = function(start, end) {\n\tvar a = commonlyAmbiguate([ this, start, end ]);\n\treturn a[0] >= a[1] && a[0] < a[2];\n};\n\n// When isSame is called with units, timezone ambiguity is normalized before the comparison happens.\n// If no units specified, the two moments must be identically the same, with matching ambig flags.\nnewMomentProto.isSame = function(input, units) {\n\tvar a;\n\n\t// only do custom logic if this is an enhanced moment\n\tif (!this._fullCalendar) {\n\t\treturn oldMomentProto.isSame.apply(this, arguments);\n\t}\n\n\tif (units) {\n\t\ta = commonlyAmbiguate([ this, input ], true); // normalize timezones but don't erase times\n\t\treturn oldMomentProto.isSame.call(a[0], a[1], units);\n\t}\n\telse {\n\t\tinput = fc.moment.parseZone(input); // normalize input\n\t\treturn oldMomentProto.isSame.call(this, input) &&\n\t\t\tBoolean(this._ambigTime) === Boolean(input._ambigTime) &&\n\t\t\tBoolean(this._ambigZone) === Boolean(input._ambigZone);\n\t}\n};\n\n// Make these query methods work with ambiguous moments\n$.each([\n\t'isBefore',\n\t'isAfter'\n], function(i, methodName) {\n\tnewMomentProto[methodName] = function(input, units) {\n\t\tvar a;\n\n\t\t// only do custom logic if this is an enhanced moment\n\t\tif (!this._fullCalendar) {\n\t\t\treturn oldMomentProto[methodName].apply(this, arguments);\n\t\t}\n\n\t\ta = commonlyAmbiguate([ this, input ]);\n\t\treturn oldMomentProto[methodName].call(a[0], a[1], units);\n\t};\n});\n\n\n// Misc Internals\n// -------------------------------------------------------------------------------------------------\n\n// given an array of moment-like inputs, return a parallel array w/ moments similarly ambiguated.\n// for example, of one moment has ambig time, but not others, all moments will have their time stripped.\n// set `preserveTime` to `true` to keep times, but only normalize zone ambiguity.\n// returns the original moments if no modifications are necessary.\nfunction commonlyAmbiguate(inputs, preserveTime) {\n\tvar anyAmbigTime = false;\n\tvar anyAmbigZone = false;\n\tvar len = inputs.length;\n\tvar moms = [];\n\tvar i, mom;\n\n\t// parse inputs into real moments and query their ambig flags\n\tfor (i = 0; i < len; i++) {\n\t\tmom = inputs[i];\n\t\tif (!moment.isMoment(mom)) {\n\t\t\tmom = fc.moment.parseZone(mom);\n\t\t}\n\t\tanyAmbigTime = anyAmbigTime || mom._ambigTime;\n\t\tanyAmbigZone = anyAmbigZone || mom._ambigZone;\n\t\tmoms.push(mom);\n\t}\n\n\t// strip each moment down to lowest common ambiguity\n\t// use clones to avoid modifying the original moments\n\tfor (i = 0; i < len; i++) {\n\t\tmom = moms[i];\n\t\tif (!preserveTime && anyAmbigTime && !mom._ambigTime) {\n\t\t\tmoms[i] = mom.clone().stripTime();\n\t\t}\n\t\telse if (anyAmbigZone && !mom._ambigZone) {\n\t\t\tmoms[i] = mom.clone().stripZone();\n\t\t}\n\t}\n\n\treturn moms;\n}\n\n// Transfers all the flags related to ambiguous time/zone from the `src` moment to the `dest` moment\n// TODO: look into moment.momentProperties for this.\nfunction transferAmbigs(src, dest) {\n\tif (src._ambigTime) {\n\t\tdest._ambigTime = true;\n\t}\n\telse if (dest._ambigTime) {\n\t\tdest._ambigTime = false;\n\t}\n\n\tif (src._ambigZone) {\n\t\tdest._ambigZone = true;\n\t}\n\telse if (dest._ambigZone) {\n\t\tdest._ambigZone = false;\n\t}\n}\n\n\n// Sets the year/month/date/etc values of the moment from the given array.\n// Inefficient because it calls each individual setter.\nfunction setMomentValues(mom, a) {\n\tmom.year(a[0] || 0)\n\t\t.month(a[1] || 0)\n\t\t.date(a[2] || 0)\n\t\t.hours(a[3] || 0)\n\t\t.minutes(a[4] || 0)\n\t\t.seconds(a[5] || 0)\n\t\t.milliseconds(a[6] || 0);\n}\n\n// Can we set the moment's internal date directly?\nallowValueOptimization = '_d' in moment() && 'updateOffset' in moment;\n\n// Utility function. Accepts a moment and an array of the UTC year/month/date/etc values to set.\n// Assumes the given moment is already in UTC mode.\nsetUTCValues = allowValueOptimization ? function(mom, a) {\n\t// simlate what moment's accessors do\n\tmom._d.setTime(Date.UTC.apply(Date, a));\n\tmoment.updateOffset(mom, false); // keepTime=false\n} : setMomentValues;\n\n// Utility function. Accepts a moment and an array of the local year/month/date/etc values to set.\n// Assumes the given moment is already in local mode.\nsetLocalValues = allowValueOptimization ? function(mom, a) {\n\t// simlate what moment's accessors do\n\tmom._d.setTime(+new Date( // FYI, there is now way to apply an array of args to a constructor\n\t\ta[0] || 0,\n\t\ta[1] || 0,\n\t\ta[2] || 0,\n\t\ta[3] || 0,\n\t\ta[4] || 0,\n\t\ta[5] || 0,\n\t\ta[6] || 0\n\t));\n\tmoment.updateOffset(mom, false); // keepTime=false\n} : setMomentValues;\n\n;;\n\n// Single Date Formatting\n// -------------------------------------------------------------------------------------------------\n\n\n// call this if you want Moment's original format method to be used\nfunction oldMomentFormat(mom, formatStr) {\n\treturn oldMomentProto.format.call(mom, formatStr); // oldMomentProto defined in moment-ext.js\n}\n\n\n// Formats `date` with a Moment formatting string, but allow our non-zero areas and\n// additional token.\nfunction formatDate(date, formatStr) {\n\treturn formatDateWithChunks(date, getFormatStringChunks(formatStr));\n}\n\n\nfunction formatDateWithChunks(date, chunks) {\n\tvar s = '';\n\tvar i;\n\n\tfor (i=0; i<chunks.length; i++) {\n\t\ts += formatDateWithChunk(date, chunks[i]);\n\t}\n\n\treturn s;\n}\n\n\n// addition formatting tokens we want recognized\nvar tokenOverrides = {\n\tt: function(date) { // \"a\" or \"p\"\n\t\treturn oldMomentFormat(date, 'a').charAt(0);\n\t},\n\tT: function(date) { // \"A\" or \"P\"\n\t\treturn oldMomentFormat(date, 'A').charAt(0);\n\t}\n};\n\n\nfunction formatDateWithChunk(date, chunk) {\n\tvar token;\n\tvar maybeStr;\n\n\tif (typeof chunk === 'string') { // a literal string\n\t\treturn chunk;\n\t}\n\telse if ((token = chunk.token)) { // a token, like \"YYYY\"\n\t\tif (tokenOverrides[token]) {\n\t\t\treturn tokenOverrides[token](date); // use our custom token\n\t\t}\n\t\treturn oldMomentFormat(date, token);\n\t}\n\telse if (chunk.maybe) { // a grouping of other chunks that must be non-zero\n\t\tmaybeStr = formatDateWithChunks(date, chunk.maybe);\n\t\tif (maybeStr.match(/[1-9]/)) {\n\t\t\treturn maybeStr;\n\t\t}\n\t}\n\n\treturn '';\n}\n\n\n// Date Range Formatting\n// -------------------------------------------------------------------------------------------------\n// TODO: make it work with timezone offset\n\n// Using a formatting string meant for a single date, generate a range string, like\n// \"Sep 2 - 9 2013\", that intelligently inserts a separator where the dates differ.\n// If the dates are the same as far as the format string is concerned, just return a single\n// rendering of one date, without any separator.\nfunction formatRange(date1, date2, formatStr, separator, isRTL) {\n\tvar localeData;\n\n\tdate1 = fc.moment.parseZone(date1);\n\tdate2 = fc.moment.parseZone(date2);\n\n\tlocaleData = (date1.localeData || date1.lang).call(date1); // works with moment-pre-2.8\n\n\t// Expand localized format strings, like \"LL\" -> \"MMMM D YYYY\"\n\tformatStr = localeData.longDateFormat(formatStr) || formatStr;\n\t// BTW, this is not important for `formatDate` because it is impossible to put custom tokens\n\t// or non-zero areas in Moment's localized format strings.\n\n\tseparator = separator || ' - ';\n\n\treturn formatRangeWithChunks(\n\t\tdate1,\n\t\tdate2,\n\t\tgetFormatStringChunks(formatStr),\n\t\tseparator,\n\t\tisRTL\n\t);\n}\nfc.formatRange = formatRange; // expose\n\n\nfunction formatRangeWithChunks(date1, date2, chunks, separator, isRTL) {\n\tvar chunkStr; // the rendering of the chunk\n\tvar leftI;\n\tvar leftStr = '';\n\tvar rightI;\n\tvar rightStr = '';\n\tvar middleI;\n\tvar middleStr1 = '';\n\tvar middleStr2 = '';\n\tvar middleStr = '';\n\n\t// Start at the leftmost side of the formatting string and continue until you hit a token\n\t// that is not the same between dates.\n\tfor (leftI=0; leftI<chunks.length; leftI++) {\n\t\tchunkStr = formatSimilarChunk(date1, date2, chunks[leftI]);\n\t\tif (chunkStr === false) {\n\t\t\tbreak;\n\t\t}\n\t\tleftStr += chunkStr;\n\t}\n\n\t// Similarly, start at the rightmost side of the formatting string and move left\n\tfor (rightI=chunks.length-1; rightI>leftI; rightI--) {\n\t\tchunkStr = formatSimilarChunk(date1, date2, chunks[rightI]);\n\t\tif (chunkStr === false) {\n\t\t\tbreak;\n\t\t}\n\t\trightStr = chunkStr + rightStr;\n\t}\n\n\t// The area in the middle is different for both of the dates.\n\t// Collect them distinctly so we can jam them together later.\n\tfor (middleI=leftI; middleI<=rightI; middleI++) {\n\t\tmiddleStr1 += formatDateWithChunk(date1, chunks[middleI]);\n\t\tmiddleStr2 += formatDateWithChunk(date2, chunks[middleI]);\n\t}\n\n\tif (middleStr1 || middleStr2) {\n\t\tif (isRTL) {\n\t\t\tmiddleStr = middleStr2 + separator + middleStr1;\n\t\t}\n\t\telse {\n\t\t\tmiddleStr = middleStr1 + separator + middleStr2;\n\t\t}\n\t}\n\n\treturn leftStr + middleStr + rightStr;\n}\n\n\nvar similarUnitMap = {\n\tY: 'year',\n\tM: 'month',\n\tD: 'day', // day of month\n\td: 'day', // day of week\n\t// prevents a separator between anything time-related...\n\tA: 'second', // AM/PM\n\ta: 'second', // am/pm\n\tT: 'second', // A/P\n\tt: 'second', // a/p\n\tH: 'second', // hour (24)\n\th: 'second', // hour (12)\n\tm: 'second', // minute\n\ts: 'second' // second\n};\n// TODO: week maybe?\n\n\n// Given a formatting chunk, and given that both dates are similar in the regard the\n// formatting chunk is concerned, format date1 against `chunk`. Otherwise, return `false`.\nfunction formatSimilarChunk(date1, date2, chunk) {\n\tvar token;\n\tvar unit;\n\n\tif (typeof chunk === 'string') { // a literal string\n\t\treturn chunk;\n\t}\n\telse if ((token = chunk.token)) {\n\t\tunit = similarUnitMap[token.charAt(0)];\n\t\t// are the dates the same for this unit of measurement?\n\t\tif (unit && date1.isSame(date2, unit)) {\n\t\t\treturn oldMomentFormat(date1, token); // would be the same if we used `date2`\n\t\t\t// BTW, don't support custom tokens\n\t\t}\n\t}\n\n\treturn false; // the chunk is NOT the same for the two dates\n\t// BTW, don't support splitting on non-zero areas\n}\n\n\n// Chunking Utils\n// -------------------------------------------------------------------------------------------------\n\n\nvar formatStringChunkCache = {};\n\n\nfunction getFormatStringChunks(formatStr) {\n\tif (formatStr in formatStringChunkCache) {\n\t\treturn formatStringChunkCache[formatStr];\n\t}\n\treturn (formatStringChunkCache[formatStr] = chunkFormatString(formatStr));\n}\n\n\n// Break the formatting string into an array of chunks\nfunction chunkFormatString(formatStr) {\n\tvar chunks = [];\n\tvar chunker = /\\[([^\\]]*)\\]|\\(([^\\)]*)\\)|(LTS|LT|(\\w)\\4*o?)|([^\\w\\[\\(]+)/g; // TODO: more descrimination\n\tvar match;\n\n\twhile ((match = chunker.exec(formatStr))) {\n\t\tif (match[1]) { // a literal string inside [ ... ]\n\t\t\tchunks.push(match[1]);\n\t\t}\n\t\telse if (match[2]) { // non-zero formatting inside ( ... )\n\t\t\tchunks.push({ maybe: chunkFormatString(match[2]) });\n\t\t}\n\t\telse if (match[3]) { // a formatting token\n\t\t\tchunks.push({ token: match[3] });\n\t\t}\n\t\telse if (match[5]) { // an unenclosed literal string\n\t\t\tchunks.push(match[5]);\n\t\t}\n\t}\n\n\treturn chunks;\n}\n\n;;\n\nfc.Class = Class; // export\n\n// class that all other classes will inherit from\nfunction Class() { }\n\n// called upon a class to create a subclass\nClass.extend = function(members) {\n\tvar superClass = this;\n\tvar subClass;\n\n\tmembers = members || {};\n\n\t// ensure a constructor for the subclass, forwarding all arguments to the super-constructor if it doesn't exist\n\tif (hasOwnProp(members, 'constructor')) {\n\t\tsubClass = members.constructor;\n\t}\n\tif (typeof subClass !== 'function') {\n\t\tsubClass = members.constructor = function() {\n\t\t\tsuperClass.apply(this, arguments);\n\t\t};\n\t}\n\n\t// build the base prototype for the subclass, which is an new object chained to the superclass's prototype\n\tsubClass.prototype = createObject(superClass.prototype);\n\n\t// copy each member variable/method onto the the subclass's prototype\n\tcopyOwnProps(members, subClass.prototype);\n\tcopyNativeMethods(members, subClass.prototype); // hack for IE8\n\n\t// copy over all class variables/methods to the subclass, such as `extend` and `mixin`\n\tcopyOwnProps(superClass, subClass);\n\n\treturn subClass;\n};\n\n// adds new member variables/methods to the class's prototype.\n// can be called with another class, or a plain object hash containing new members.\nClass.mixin = function(members) {\n\tcopyOwnProps(members.prototype || members, this.prototype); // TODO: copyNativeMethods?\n};\n;;\n\nvar Emitter = fc.Emitter = Class.extend({\n\n\tcallbackHash: null,\n\n\n\ton: function(name, callback) {\n\t\tthis.getCallbacks(name).add(callback);\n\t\treturn this; // for chaining\n\t},\n\n\n\toff: function(name, callback) {\n\t\tthis.getCallbacks(name).remove(callback);\n\t\treturn this; // for chaining\n\t},\n\n\n\ttrigger: function(name) { // args...\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\t\tthis.triggerWith(name, this, args);\n\n\t\treturn this; // for chaining\n\t},\n\n\n\ttriggerWith: function(name, context, args) {\n\t\tvar callbacks = this.getCallbacks(name);\n\n\t\tcallbacks.fireWith(context, args);\n\n\t\treturn this; // for chaining\n\t},\n\n\n\tgetCallbacks: function(name) {\n\t\tvar callbacks;\n\n\t\tif (!this.callbackHash) {\n\t\t\tthis.callbackHash = {};\n\t\t}\n\n\t\tcallbacks = this.callbackHash[name];\n\t\tif (!callbacks) {\n\t\t\tcallbacks = this.callbackHash[name] = $.Callbacks();\n\t\t}\n\n\t\treturn callbacks;\n\t}\n\n});\n;;\n\n/* A rectangular panel that is absolutely positioned over other content\n------------------------------------------------------------------------------------------------------------------------\nOptions:\n\t- className (string)\n\t- content (HTML string or jQuery element set)\n\t- parentEl\n\t- top\n\t- left\n\t- right (the x coord of where the right edge should be. not a \"CSS\" right)\n\t- autoHide (boolean)\n\t- show (callback)\n\t- hide (callback)\n*/\n\nvar Popover = Class.extend({\n\n\tisHidden: true,\n\toptions: null,\n\tel: null, // the container element for the popover. generated by this object\n\tdocumentMousedownProxy: null, // document mousedown handler bound to `this`\n\tmargin: 10, // the space required between the popover and the edges of the scroll container\n\n\n\tconstructor: function(options) {\n\t\tthis.options = options || {};\n\t},\n\n\n\t// Shows the popover on the specified position. Renders it if not already\n\tshow: function() {\n\t\tif (this.isHidden) {\n\t\t\tif (!this.el) {\n\t\t\t\tthis.render();\n\t\t\t}\n\t\t\tthis.el.show();\n\t\t\tthis.position();\n\t\t\tthis.isHidden = false;\n\t\t\tthis.trigger('show');\n\t\t}\n\t},\n\n\n\t// Hides the popover, through CSS, but does not remove it from the DOM\n\thide: function() {\n\t\tif (!this.isHidden) {\n\t\t\tthis.el.hide();\n\t\t\tthis.isHidden = true;\n\t\t\tthis.trigger('hide');\n\t\t}\n\t},\n\n\n\t// Creates `this.el` and renders content inside of it\n\trender: function() {\n\t\tvar _this = this;\n\t\tvar options = this.options;\n\n\t\tthis.el = $('<div class=\"fc-popover\"/>')\n\t\t\t.addClass(options.className || '')\n\t\t\t.css({\n\t\t\t\t// position initially to the top left to avoid creating scrollbars\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0\n\t\t\t})\n\t\t\t.append(options.content)\n\t\t\t.appendTo(options.parentEl);\n\n\t\t// when a click happens on anything inside with a 'fc-close' className, hide the popover\n\t\tthis.el.on('click', '.fc-close', function() {\n\t\t\t_this.hide();\n\t\t});\n\n\t\tif (options.autoHide) {\n\t\t\t$(document).on('mousedown', this.documentMousedownProxy = proxy(this, 'documentMousedown'));\n\t\t}\n\t},\n\n\n\t// Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n\tdocumentMousedown: function(ev) {\n\t\t// only hide the popover if the click happened outside the popover\n\t\tif (this.el && !$(ev.target).closest(this.el).length) {\n\t\t\tthis.hide();\n\t\t}\n\t},\n\n\n\t// Hides and unregisters any handlers\n\tremoveElement: function() {\n\t\tthis.hide();\n\n\t\tif (this.el) {\n\t\t\tthis.el.remove();\n\t\t\tthis.el = null;\n\t\t}\n\n\t\t$(document).off('mousedown', this.documentMousedownProxy);\n\t},\n\n\n\t// Positions the popover optimally, using the top/left/right options\n\tposition: function() {\n\t\tvar options = this.options;\n\t\tvar origin = this.el.offsetParent().offset();\n\t\tvar width = this.el.outerWidth();\n\t\tvar height = this.el.outerHeight();\n\t\tvar windowEl = $(window);\n\t\tvar viewportEl = getScrollParent(this.el);\n\t\tvar viewportTop;\n\t\tvar viewportLeft;\n\t\tvar viewportOffset;\n\t\tvar top; // the \"position\" (not \"offset\") values for the popover\n\t\tvar left; //\n\n\t\t// compute top and left\n\t\ttop = options.top || 0;\n\t\tif (options.left !== undefined) {\n\t\t\tleft = options.left;\n\t\t}\n\t\telse if (options.right !== undefined) {\n\t\t\tleft = options.right - width; // derive the left value from the right value\n\t\t}\n\t\telse {\n\t\t\tleft = 0;\n\t\t}\n\n\t\tif (viewportEl.is(window) || viewportEl.is(document)) { // normalize getScrollParent's result\n\t\t\tviewportEl = windowEl;\n\t\t\tviewportTop = 0; // the window is always at the top left\n\t\t\tviewportLeft = 0; // (and .offset() won't work if called here)\n\t\t}\n\t\telse {\n\t\t\tviewportOffset = viewportEl.offset();\n\t\t\tviewportTop = viewportOffset.top;\n\t\t\tviewportLeft = viewportOffset.left;\n\t\t}\n\n\t\t// if the window is scrolled, it causes the visible area to be further down\n\t\tviewportTop += windowEl.scrollTop();\n\t\tviewportLeft += windowEl.scrollLeft();\n\n\t\t// constrain to the view port. if constrained by two edges, give precedence to top/left\n\t\tif (options.viewportConstrain !== false) {\n\t\t\ttop = Math.min(top, viewportTop + viewportEl.outerHeight() - height - this.margin);\n\t\t\ttop = Math.max(top, viewportTop + this.margin);\n\t\t\tleft = Math.min(left, viewportLeft + viewportEl.outerWidth() - width - this.margin);\n\t\t\tleft = Math.max(left, viewportLeft + this.margin);\n\t\t}\n\n\t\tthis.el.css({\n\t\t\ttop: top - origin.top,\n\t\t\tleft: left - origin.left\n\t\t});\n\t},\n\n\n\t// Triggers a callback. Calls a function in the option hash of the same name.\n\t// Arguments beyond the first `name` are forwarded on.\n\t// TODO: better code reuse for this. Repeat code\n\ttrigger: function(name) {\n\t\tif (this.options[name]) {\n\t\t\tthis.options[name].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t}\n\t}\n\n});\n\n;;\n\n/* A \"coordinate map\" converts pixel coordinates into an associated cell, which has an associated date\n------------------------------------------------------------------------------------------------------------------------\nCommon interface:\n\n\tCoordMap.prototype = {\n\t\tbuild: function() {},\n\t\tgetCell: function(x, y) {}\n\t};\n\n*/\n\n/* Coordinate map for a grid component\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar GridCoordMap = Class.extend({\n\n\tgrid: null, // reference to the Grid\n\trowCoords: null, // array of {top,bottom} objects\n\tcolCoords: null, // array of {left,right} objects\n\n\tcontainerEl: null, // container element that all coordinates are constrained to. optionally assigned\n\tbounds: null,\n\n\n\tconstructor: function(grid) {\n\t\tthis.grid = grid;\n\t},\n\n\n\t// Queries the grid for the coordinates of all the cells\n\tbuild: function() {\n\t\tthis.grid.build();\n\t\tthis.rowCoords = this.grid.computeRowCoords();\n\t\tthis.colCoords = this.grid.computeColCoords();\n\t\tthis.computeBounds();\n\t},\n\n\n\t// Clears the coordinates data to free up memory\n\tclear: function() {\n\t\tthis.grid.clear();\n\t\tthis.rowCoords = null;\n\t\tthis.colCoords = null;\n\t},\n\n\n\t// Given a coordinate of the document, gets the associated cell. If no cell is underneath, returns null\n\tgetCell: function(x, y) {\n\t\tvar rowCoords = this.rowCoords;\n\t\tvar rowCnt = rowCoords.length;\n\t\tvar colCoords = this.colCoords;\n\t\tvar colCnt = colCoords.length;\n\t\tvar hitRow = null;\n\t\tvar hitCol = null;\n\t\tvar i, coords;\n\t\tvar cell;\n\n\t\tif (this.inBounds(x, y)) {\n\n\t\t\tfor (i = 0; i < rowCnt; i++) {\n\t\t\t\tcoords = rowCoords[i];\n\t\t\t\tif (y >= coords.top && y < coords.bottom) {\n\t\t\t\t\thitRow = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (i = 0; i < colCnt; i++) {\n\t\t\t\tcoords = colCoords[i];\n\t\t\t\tif (x >= coords.left && x < coords.right) {\n\t\t\t\t\thitCol = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (hitRow !== null && hitCol !== null) {\n\n\t\t\t\tcell = this.grid.getCell(hitRow, hitCol); // expected to return a fresh object we can modify\n\t\t\t\tcell.grid = this.grid; // for CellDragListener's isCellsEqual. dragging between grids\n\n\t\t\t\t// make the coordinates available on the cell object\n\t\t\t\t$.extend(cell, rowCoords[hitRow], colCoords[hitCol]);\n\n\t\t\t\treturn cell;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\n\n\t// If there is a containerEl, compute the bounds into min/max values\n\tcomputeBounds: function() {\n\t\tthis.bounds = this.containerEl ?\n\t\t\tgetClientRect(this.containerEl) : // area within scrollbars\n\t\t\tnull;\n\t},\n\n\n\t// Determines if the given coordinates are in bounds. If no `containerEl`, always true\n\tinBounds: function(x, y) {\n\t\tvar bounds = this.bounds;\n\n\t\tif (bounds) {\n\t\t\treturn x >= bounds.left && x < bounds.right && y >= bounds.top && y < bounds.bottom;\n\t\t}\n\n\t\treturn true;\n\t}\n\n});\n\n\n/* Coordinate map that is a combination of multiple other coordinate maps\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar ComboCoordMap = Class.extend({\n\n\tcoordMaps: null, // an array of CoordMaps\n\n\n\tconstructor: function(coordMaps) {\n\t\tthis.coordMaps = coordMaps;\n\t},\n\n\n\t// Builds all coordMaps\n\tbuild: function() {\n\t\tvar coordMaps = this.coordMaps;\n\t\tvar i;\n\n\t\tfor (i = 0; i < coordMaps.length; i++) {\n\t\t\tcoordMaps[i].build();\n\t\t}\n\t},\n\n\n\t// Queries all coordMaps for the cell underneath the given coordinates, returning the first result\n\tgetCell: function(x, y) {\n\t\tvar coordMaps = this.coordMaps;\n\t\tvar cell = null;\n\t\tvar i;\n\n\t\tfor (i = 0; i < coordMaps.length && !cell; i++) {\n\t\t\tcell = coordMaps[i].getCell(x, y);\n\t\t}\n\n\t\treturn cell;\n\t},\n\n\n\t// Clears all coordMaps\n\tclear: function() {\n\t\tvar coordMaps = this.coordMaps;\n\t\tvar i;\n\n\t\tfor (i = 0; i < coordMaps.length; i++) {\n\t\t\tcoordMaps[i].clear();\n\t\t}\n\t}\n\n});\n\n;;\n\n/* Tracks a drag's mouse movement, firing various handlers\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar DragListener = fc.DragListener = Class.extend({\n\n\toptions: null,\n\n\tisListening: false,\n\tisDragging: false,\n\n\t// coordinates of the initial mousedown\n\toriginX: null,\n\toriginY: null,\n\n\t// handler attached to the document, bound to the DragListener's `this`\n\tmousemoveProxy: null,\n\tmouseupProxy: null,\n\n\t// for IE8 bug-fighting behavior, for now\n\tsubjectEl: null, // the element being draged. optional\n\tsubjectHref: null,\n\n\tscrollEl: null,\n\tscrollBounds: null, // { top, bottom, left, right }\n\tscrollTopVel: null, // pixels per second\n\tscrollLeftVel: null, // pixels per second\n\tscrollIntervalId: null, // ID of setTimeout for scrolling animation loop\n\tscrollHandlerProxy: null, // this-scoped function for handling when scrollEl is scrolled\n\n\tscrollSensitivity: 30, // pixels from edge for scrolling to start\n\tscrollSpeed: 200, // pixels per second, at maximum speed\n\tscrollIntervalMs: 50, // millisecond wait between scroll increment\n\n\n\tconstructor: function(options) {\n\t\toptions = options || {};\n\t\tthis.options = options;\n\t\tthis.subjectEl = options.subjectEl;\n\t},\n\n\n\t// Call this when the user does a mousedown. Will probably lead to startListening\n\tmousedown: function(ev) {\n\t\tif (isPrimaryMouseButton(ev)) {\n\n\t\t\tev.preventDefault(); // prevents native selection in most browsers\n\n\t\t\tthis.startListening(ev);\n\n\t\t\t// start the drag immediately if there is no minimum distance for a drag start\n\t\t\tif (!this.options.distance) {\n\t\t\t\tthis.startDrag(ev);\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Call this to start tracking mouse movements\n\tstartListening: function(ev) {\n\t\tvar scrollParent;\n\n\t\tif (!this.isListening) {\n\n\t\t\t// grab scroll container and attach handler\n\t\t\tif (ev && this.options.scroll) {\n\t\t\t\tscrollParent = getScrollParent($(ev.target));\n\t\t\t\tif (!scrollParent.is(window) && !scrollParent.is(document)) {\n\t\t\t\t\tthis.scrollEl = scrollParent;\n\n\t\t\t\t\t// scope to `this`, and use `debounce` to make sure rapid calls don't happen\n\t\t\t\t\tthis.scrollHandlerProxy = debounce(proxy(this, 'scrollHandler'), 100);\n\t\t\t\t\tthis.scrollEl.on('scroll', this.scrollHandlerProxy);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$(document)\n\t\t\t\t.on('mousemove', this.mousemoveProxy = proxy(this, 'mousemove'))\n\t\t\t\t.on('mouseup', this.mouseupProxy = proxy(this, 'mouseup'))\n\t\t\t\t.on('selectstart', this.preventDefault); // prevents native selection in IE<=8\n\n\t\t\tif (ev) {\n\t\t\t\tthis.originX = ev.pageX;\n\t\t\t\tthis.originY = ev.pageY;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// if no starting information was given, origin will be the topleft corner of the screen.\n\t\t\t\t// if so, dx/dy in the future will be the absolute coordinates.\n\t\t\t\tthis.originX = 0;\n\t\t\t\tthis.originY = 0;\n\t\t\t}\n\n\t\t\tthis.isListening = true;\n\t\t\tthis.listenStart(ev);\n\t\t}\n\t},\n\n\n\t// Called when drag listening has started (but a real drag has not necessarily began)\n\tlistenStart: function(ev) {\n\t\tthis.trigger('listenStart', ev);\n\t},\n\n\n\t// Called when the user moves the mouse\n\tmousemove: function(ev) {\n\t\tvar dx = ev.pageX - this.originX;\n\t\tvar dy = ev.pageY - this.originY;\n\t\tvar minDistance;\n\t\tvar distanceSq; // current distance from the origin, squared\n\n\t\tif (!this.isDragging) { // if not already dragging...\n\t\t\t// then start the drag if the minimum distance criteria is met\n\t\t\tminDistance = this.options.distance || 1;\n\t\t\tdistanceSq = dx * dx + dy * dy;\n\t\t\tif (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n\t\t\t\tthis.startDrag(ev);\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDragging) {\n\t\t\tthis.drag(dx, dy, ev); // report a drag, even if this mousemove initiated the drag\n\t\t}\n\t},\n\n\n\t// Call this to initiate a legitimate drag.\n\t// This function is called internally from this class, but can also be called explicitly from outside\n\tstartDrag: function(ev) {\n\n\t\tif (!this.isListening) { // startDrag must have manually initiated\n\t\t\tthis.startListening();\n\t\t}\n\n\t\tif (!this.isDragging) {\n\t\t\tthis.isDragging = true;\n\t\t\tthis.dragStart(ev);\n\t\t}\n\t},\n\n\n\t// Called when the actual drag has started (went beyond minDistance)\n\tdragStart: function(ev) {\n\t\tvar subjectEl = this.subjectEl;\n\n\t\tthis.trigger('dragStart', ev);\n\n\t\t// remove a mousedown'd <a>'s href so it is not visited (IE8 bug)\n\t\tif ((this.subjectHref = subjectEl ? subjectEl.attr('href') : null)) {\n\t\t\tsubjectEl.removeAttr('href');\n\t\t}\n\t},\n\n\n\t// Called while the mouse is being moved and when we know a legitimate drag is taking place\n\tdrag: function(dx, dy, ev) {\n\t\tthis.trigger('drag', dx, dy, ev);\n\t\tthis.updateScroll(ev); // will possibly cause scrolling\n\t},\n\n\n\t// Called when the user does a mouseup\n\tmouseup: function(ev) {\n\t\tthis.stopListening(ev);\n\t},\n\n\n\t// Called when the drag is over. Will not cause listening to stop however.\n\t// A concluding 'cellOut' event will NOT be triggered.\n\tstopDrag: function(ev) {\n\t\tif (this.isDragging) {\n\t\t\tthis.stopScrolling();\n\t\t\tthis.dragStop(ev);\n\t\t\tthis.isDragging = false;\n\t\t}\n\t},\n\n\n\t// Called when dragging has been stopped\n\tdragStop: function(ev) {\n\t\tvar _this = this;\n\n\t\tthis.trigger('dragStop', ev);\n\n\t\t// restore a mousedown'd <a>'s href (for IE8 bug)\n\t\tsetTimeout(function() { // must be outside of the click's execution\n\t\t\tif (_this.subjectHref) {\n\t\t\t\t_this.subjectEl.attr('href', _this.subjectHref);\n\t\t\t}\n\t\t}, 0);\n\t},\n\n\n\t// Call this to stop listening to the user's mouse events\n\tstopListening: function(ev) {\n\t\tthis.stopDrag(ev); // if there's a current drag, kill it\n\n\t\tif (this.isListening) {\n\n\t\t\t// remove the scroll handler if there is a scrollEl\n\t\t\tif (this.scrollEl) {\n\t\t\t\tthis.scrollEl.off('scroll', this.scrollHandlerProxy);\n\t\t\t\tthis.scrollHandlerProxy = null;\n\t\t\t}\n\n\t\t\t$(document)\n\t\t\t\t.off('mousemove', this.mousemoveProxy)\n\t\t\t\t.off('mouseup', this.mouseupProxy)\n\t\t\t\t.off('selectstart', this.preventDefault);\n\n\t\t\tthis.mousemoveProxy = null;\n\t\t\tthis.mouseupProxy = null;\n\n\t\t\tthis.isListening = false;\n\t\t\tthis.listenStop(ev);\n\t\t}\n\t},\n\n\n\t// Called when drag listening has stopped\n\tlistenStop: function(ev) {\n\t\tthis.trigger('listenStop', ev);\n\t},\n\n\n\t// Triggers a callback. Calls a function in the option hash of the same name.\n\t// Arguments beyond the first `name` are forwarded on.\n\ttrigger: function(name) {\n\t\tif (this.options[name]) {\n\t\t\tthis.options[name].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t}\n\t},\n\n\n\t// Stops a given mouse event from doing it's native browser action. In our case, text selection.\n\tpreventDefault: function(ev) {\n\t\tev.preventDefault();\n\t},\n\n\n\t/* Scrolling\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Computes and stores the bounding rectangle of scrollEl\n\tcomputeScrollBounds: function() {\n\t\tvar el = this.scrollEl;\n\n\t\tthis.scrollBounds = el ? getOuterRect(el) : null;\n\t\t\t// TODO: use getClientRect in future. but prevents auto scrolling when on top of scrollbars\n\t},\n\n\n\t// Called when the dragging is in progress and scrolling should be updated\n\tupdateScroll: function(ev) {\n\t\tvar sensitivity = this.scrollSensitivity;\n\t\tvar bounds = this.scrollBounds;\n\t\tvar topCloseness, bottomCloseness;\n\t\tvar leftCloseness, rightCloseness;\n\t\tvar topVel = 0;\n\t\tvar leftVel = 0;\n\n\t\tif (bounds) { // only scroll if scrollEl exists\n\n\t\t\t// compute closeness to edges. valid range is from 0.0 - 1.0\n\t\t\ttopCloseness = (sensitivity - (ev.pageY - bounds.top)) / sensitivity;\n\t\t\tbottomCloseness = (sensitivity - (bounds.bottom - ev.pageY)) / sensitivity;\n\t\t\tleftCloseness = (sensitivity - (ev.pageX - bounds.left)) / sensitivity;\n\t\t\trightCloseness = (sensitivity - (bounds.right - ev.pageX)) / sensitivity;\n\n\t\t\t// translate vertical closeness into velocity.\n\t\t\t// mouse must be completely in bounds for velocity to happen.\n\t\t\tif (topCloseness >= 0 && topCloseness <= 1) {\n\t\t\t\ttopVel = topCloseness * this.scrollSpeed * -1; // negative. for scrolling up\n\t\t\t}\n\t\t\telse if (bottomCloseness >= 0 && bottomCloseness <= 1) {\n\t\t\t\ttopVel = bottomCloseness * this.scrollSpeed;\n\t\t\t}\n\n\t\t\t// translate horizontal closeness into velocity\n\t\t\tif (leftCloseness >= 0 && leftCloseness <= 1) {\n\t\t\t\tleftVel = leftCloseness * this.scrollSpeed * -1; // negative. for scrolling left\n\t\t\t}\n\t\t\telse if (rightCloseness >= 0 && rightCloseness <= 1) {\n\t\t\t\tleftVel = rightCloseness * this.scrollSpeed;\n\t\t\t}\n\t\t}\n\n\t\tthis.setScrollVel(topVel, leftVel);\n\t},\n\n\n\t// Sets the speed-of-scrolling for the scrollEl\n\tsetScrollVel: function(topVel, leftVel) {\n\n\t\tthis.scrollTopVel = topVel;\n\t\tthis.scrollLeftVel = leftVel;\n\n\t\tthis.constrainScrollVel(); // massages into realistic values\n\n\t\t// if there is non-zero velocity, and an animation loop hasn't already started, then START\n\t\tif ((this.scrollTopVel || this.scrollLeftVel) && !this.scrollIntervalId) {\n\t\t\tthis.scrollIntervalId = setInterval(\n\t\t\t\tproxy(this, 'scrollIntervalFunc'), // scope to `this`\n\t\t\t\tthis.scrollIntervalMs\n\t\t\t);\n\t\t}\n\t},\n\n\n\t// Forces scrollTopVel and scrollLeftVel to be zero if scrolling has already gone all the way\n\tconstrainScrollVel: function() {\n\t\tvar el = this.scrollEl;\n\n\t\tif (this.scrollTopVel < 0) { // scrolling up?\n\t\t\tif (el.scrollTop() <= 0) { // already scrolled all the way up?\n\t\t\t\tthis.scrollTopVel = 0;\n\t\t\t}\n\t\t}\n\t\telse if (this.scrollTopVel > 0) { // scrolling down?\n\t\t\tif (el.scrollTop() + el[0].clientHeight >= el[0].scrollHeight) { // already scrolled all the way down?\n\t\t\t\tthis.scrollTopVel = 0;\n\t\t\t}\n\t\t}\n\n\t\tif (this.scrollLeftVel < 0) { // scrolling left?\n\t\t\tif (el.scrollLeft() <= 0) { // already scrolled all the left?\n\t\t\t\tthis.scrollLeftVel = 0;\n\t\t\t}\n\t\t}\n\t\telse if (this.scrollLeftVel > 0) { // scrolling right?\n\t\t\tif (el.scrollLeft() + el[0].clientWidth >= el[0].scrollWidth) { // already scrolled all the way right?\n\t\t\t\tthis.scrollLeftVel = 0;\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// This function gets called during every iteration of the scrolling animation loop\n\tscrollIntervalFunc: function() {\n\t\tvar el = this.scrollEl;\n\t\tvar frac = this.scrollIntervalMs / 1000; // considering animation frequency, what the vel should be mult'd by\n\n\t\t// change the value of scrollEl's scroll\n\t\tif (this.scrollTopVel) {\n\t\t\tel.scrollTop(el.scrollTop() + this.scrollTopVel * frac);\n\t\t}\n\t\tif (this.scrollLeftVel) {\n\t\t\tel.scrollLeft(el.scrollLeft() + this.scrollLeftVel * frac);\n\t\t}\n\n\t\tthis.constrainScrollVel(); // since the scroll values changed, recompute the velocities\n\n\t\t// if scrolled all the way, which causes the vels to be zero, stop the animation loop\n\t\tif (!this.scrollTopVel && !this.scrollLeftVel) {\n\t\t\tthis.stopScrolling();\n\t\t}\n\t},\n\n\n\t// Kills any existing scrolling animation loop\n\tstopScrolling: function() {\n\t\tif (this.scrollIntervalId) {\n\t\t\tclearInterval(this.scrollIntervalId);\n\t\t\tthis.scrollIntervalId = null;\n\n\t\t\t// when all done with scrolling, recompute positions since they probably changed\n\t\t\tthis.scrollStop();\n\t\t}\n\t},\n\n\n\t// Get called when the scrollEl is scrolled (NOTE: this is delayed via debounce)\n\tscrollHandler: function() {\n\t\t// recompute all coordinates, but *only* if this is *not* part of our scrolling animation\n\t\tif (!this.scrollIntervalId) {\n\t\t\tthis.scrollStop();\n\t\t}\n\t},\n\n\n\t// Called when scrolling has stopped, whether through auto scroll, or the user scrolling\n\tscrollStop: function() {\n\t}\n\n});\n\n;;\n\n/* Tracks mouse movements over a CoordMap and raises events about which cell the mouse is over.\n------------------------------------------------------------------------------------------------------------------------\noptions:\n- subjectEl\n- subjectCenter\n*/\n\nvar CellDragListener = DragListener.extend({\n\n\tcoordMap: null, // converts coordinates to date cells\n\torigCell: null, // the cell the mouse was over when listening started\n\tcell: null, // the cell the mouse is over\n\tcoordAdjust: null, // delta that will be added to the mouse coordinates when computing collisions\n\n\n\tconstructor: function(coordMap, options) {\n\t\tDragListener.prototype.constructor.call(this, options); // call the super-constructor\n\n\t\tthis.coordMap = coordMap;\n\t},\n\n\n\t// Called when drag listening starts (but a real drag has not necessarily began).\n\t// ev might be undefined if dragging was started manually.\n\tlistenStart: function(ev) {\n\t\tvar subjectEl = this.subjectEl;\n\t\tvar subjectRect;\n\t\tvar origPoint;\n\t\tvar point;\n\n\t\tDragListener.prototype.listenStart.apply(this, arguments); // call the super-method\n\n\t\tthis.computeCoords();\n\n\t\tif (ev) {\n\t\t\torigPoint = { left: ev.pageX, top: ev.pageY };\n\t\t\tpoint = origPoint;\n\n\t\t\t// constrain the point to bounds of the element being dragged\n\t\t\tif (subjectEl) {\n\t\t\t\tsubjectRect = getOuterRect(subjectEl); // used for centering as well\n\t\t\t\tpoint = constrainPoint(point, subjectRect);\n\t\t\t}\n\n\t\t\tthis.origCell = this.getCell(point.left, point.top);\n\n\t\t\t// treat the center of the subject as the collision point?\n\t\t\tif (subjectEl && this.options.subjectCenter) {\n\n\t\t\t\t// only consider the area the subject overlaps the cell. best for large subjects\n\t\t\t\tif (this.origCell) {\n\t\t\t\t\tsubjectRect = intersectRects(this.origCell, subjectRect) ||\n\t\t\t\t\t\tsubjectRect; // in case there is no intersection\n\t\t\t\t}\n\n\t\t\t\tpoint = getRectCenter(subjectRect);\n\t\t\t}\n\n\t\t\tthis.coordAdjust = diffPoints(point, origPoint); // point - origPoint\n\t\t}\n\t\telse {\n\t\t\tthis.origCell = null;\n\t\t\tthis.coordAdjust = null;\n\t\t}\n\t},\n\n\n\t// Recomputes the drag-critical positions of elements\n\tcomputeCoords: function() {\n\t\tthis.coordMap.build();\n\t\tthis.computeScrollBounds();\n\t},\n\n\n\t// Called when the actual drag has started\n\tdragStart: function(ev) {\n\t\tvar cell;\n\n\t\tDragListener.prototype.dragStart.apply(this, arguments); // call the super-method\n\n\t\tcell = this.getCell(ev.pageX, ev.pageY); // might be different from this.origCell if the min-distance is large\n\n\t\t// report the initial cell the mouse is over\n\t\t// especially important if no min-distance and drag starts immediately\n\t\tif (cell) {\n\t\t\tthis.cellOver(cell);\n\t\t}\n\t},\n\n\n\t// Called when the drag moves\n\tdrag: function(dx, dy, ev) {\n\t\tvar cell;\n\n\t\tDragListener.prototype.drag.apply(this, arguments); // call the super-method\n\n\t\tcell = this.getCell(ev.pageX, ev.pageY);\n\n\t\tif (!isCellsEqual(cell, this.cell)) { // a different cell than before?\n\t\t\tif (this.cell) {\n\t\t\t\tthis.cellOut();\n\t\t\t}\n\t\t\tif (cell) {\n\t\t\t\tthis.cellOver(cell);\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Called when dragging has been stopped\n\tdragStop: function() {\n\t\tthis.cellDone();\n\t\tDragListener.prototype.dragStop.apply(this, arguments); // call the super-method\n\t},\n\n\n\t// Called when a the mouse has just moved over a new cell\n\tcellOver: function(cell) {\n\t\tthis.cell = cell;\n\t\tthis.trigger('cellOver', cell, isCellsEqual(cell, this.origCell), this.origCell);\n\t},\n\n\n\t// Called when the mouse has just moved out of a cell\n\tcellOut: function() {\n\t\tif (this.cell) {\n\t\t\tthis.trigger('cellOut', this.cell);\n\t\t\tthis.cellDone();\n\t\t\tthis.cell = null;\n\t\t}\n\t},\n\n\n\t// Called after a cellOut. Also called before a dragStop\n\tcellDone: function() {\n\t\tif (this.cell) {\n\t\t\tthis.trigger('cellDone', this.cell);\n\t\t}\n\t},\n\n\n\t// Called when drag listening has stopped\n\tlistenStop: function() {\n\t\tDragListener.prototype.listenStop.apply(this, arguments); // call the super-method\n\n\t\tthis.origCell = this.cell = null;\n\t\tthis.coordMap.clear();\n\t},\n\n\n\t// Called when scrolling has stopped, whether through auto scroll, or the user scrolling\n\tscrollStop: function() {\n\t\tDragListener.prototype.scrollStop.apply(this, arguments); // call the super-method\n\n\t\tthis.computeCoords(); // cells' absolute positions will be in new places. recompute\n\t},\n\n\n\t// Gets the cell underneath the coordinates for the given mouse event\n\tgetCell: function(left, top) {\n\n\t\tif (this.coordAdjust) {\n\t\t\tleft += this.coordAdjust.left;\n\t\t\ttop += this.coordAdjust.top;\n\t\t}\n\n\t\treturn this.coordMap.getCell(left, top);\n\t}\n\n});\n\n\n// Returns `true` if the cells are identically equal. `false` otherwise.\n// They must have the same row, col, and be from the same grid.\n// Two null values will be considered equal, as two \"out of the grid\" states are the same.\nfunction isCellsEqual(cell1, cell2) {\n\n\tif (!cell1 && !cell2) {\n\t\treturn true;\n\t}\n\n\tif (cell1 && cell2) {\n\t\treturn cell1.grid === cell2.grid &&\n\t\t\tcell1.row === cell2.row &&\n\t\t\tcell1.col === cell2.col;\n\t}\n\n\treturn false;\n}\n\n;;\n\n/* Creates a clone of an element and lets it track the mouse as it moves\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar MouseFollower = Class.extend({\n\n\toptions: null,\n\n\tsourceEl: null, // the element that will be cloned and made to look like it is dragging\n\tel: null, // the clone of `sourceEl` that will track the mouse\n\tparentEl: null, // the element that `el` (the clone) will be attached to\n\n\t// the initial position of el, relative to the offset parent. made to match the initial offset of sourceEl\n\ttop0: null,\n\tleft0: null,\n\n\t// the initial position of the mouse\n\tmouseY0: null,\n\tmouseX0: null,\n\n\t// the number of pixels the mouse has moved from its initial position\n\ttopDelta: null,\n\tleftDelta: null,\n\n\tmousemoveProxy: null, // document mousemove handler, bound to the MouseFollower's `this`\n\n\tisFollowing: false,\n\tisHidden: false,\n\tisAnimating: false, // doing the revert animation?\n\n\tconstructor: function(sourceEl, options) {\n\t\tthis.options = options = options || {};\n\t\tthis.sourceEl = sourceEl;\n\t\tthis.parentEl = options.parentEl ? $(options.parentEl) : sourceEl.parent(); // default to sourceEl's parent\n\t},\n\n\n\t// Causes the element to start following the mouse\n\tstart: function(ev) {\n\t\tif (!this.isFollowing) {\n\t\t\tthis.isFollowing = true;\n\n\t\t\tthis.mouseY0 = ev.pageY;\n\t\t\tthis.mouseX0 = ev.pageX;\n\t\t\tthis.topDelta = 0;\n\t\t\tthis.leftDelta = 0;\n\n\t\t\tif (!this.isHidden) {\n\t\t\t\tthis.updatePosition();\n\t\t\t}\n\n\t\t\t$(document).on('mousemove', this.mousemoveProxy = proxy(this, 'mousemove'));\n\t\t}\n\t},\n\n\n\t// Causes the element to stop following the mouse. If shouldRevert is true, will animate back to original position.\n\t// `callback` gets invoked when the animation is complete. If no animation, it is invoked immediately.\n\tstop: function(shouldRevert, callback) {\n\t\tvar _this = this;\n\t\tvar revertDuration = this.options.revertDuration;\n\n\t\tfunction complete() {\n\t\t\tthis.isAnimating = false;\n\t\t\t_this.removeElement();\n\n\t\t\tthis.top0 = this.left0 = null; // reset state for future updatePosition calls\n\n\t\t\tif (callback) {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\n\t\tif (this.isFollowing && !this.isAnimating) { // disallow more than one stop animation at a time\n\t\t\tthis.isFollowing = false;\n\n\t\t\t$(document).off('mousemove', this.mousemoveProxy);\n\n\t\t\tif (shouldRevert && revertDuration && !this.isHidden) { // do a revert animation?\n\t\t\t\tthis.isAnimating = true;\n\t\t\t\tthis.el.animate({\n\t\t\t\t\ttop: this.top0,\n\t\t\t\t\tleft: this.left0\n\t\t\t\t}, {\n\t\t\t\t\tduration: revertDuration,\n\t\t\t\t\tcomplete: complete\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcomplete();\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Gets the tracking element. Create it if necessary\n\tgetEl: function() {\n\t\tvar el = this.el;\n\n\t\tif (!el) {\n\t\t\tthis.sourceEl.width(); // hack to force IE8 to compute correct bounding box\n\t\t\tel = this.el = this.sourceEl.clone()\n\t\t\t\t.css({\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\tvisibility: '', // in case original element was hidden (commonly through hideEvents())\n\t\t\t\t\tdisplay: this.isHidden ? 'none' : '', // for when initially hidden\n\t\t\t\t\tmargin: 0,\n\t\t\t\t\tright: 'auto', // erase and set width instead\n\t\t\t\t\tbottom: 'auto', // erase and set height instead\n\t\t\t\t\twidth: this.sourceEl.width(), // explicit height in case there was a 'right' value\n\t\t\t\t\theight: this.sourceEl.height(), // explicit width in case there was a 'bottom' value\n\t\t\t\t\topacity: this.options.opacity || '',\n\t\t\t\t\tzIndex: this.options.zIndex\n\t\t\t\t})\n\t\t\t\t.appendTo(this.parentEl);\n\t\t}\n\n\t\treturn el;\n\t},\n\n\n\t// Removes the tracking element if it has already been created\n\tremoveElement: function() {\n\t\tif (this.el) {\n\t\t\tthis.el.remove();\n\t\t\tthis.el = null;\n\t\t}\n\t},\n\n\n\t// Update the CSS position of the tracking element\n\tupdatePosition: function() {\n\t\tvar sourceOffset;\n\t\tvar origin;\n\n\t\tthis.getEl(); // ensure this.el\n\n\t\t// make sure origin info was computed\n\t\tif (this.top0 === null) {\n\t\t\tthis.sourceEl.width(); // hack to force IE8 to compute correct bounding box\n\t\t\tsourceOffset = this.sourceEl.offset();\n\t\t\torigin = this.el.offsetParent().offset();\n\t\t\tthis.top0 = sourceOffset.top - origin.top;\n\t\t\tthis.left0 = sourceOffset.left - origin.left;\n\t\t}\n\n\t\tthis.el.css({\n\t\t\ttop: this.top0 + this.topDelta,\n\t\t\tleft: this.left0 + this.leftDelta\n\t\t});\n\t},\n\n\n\t// Gets called when the user moves the mouse\n\tmousemove: function(ev) {\n\t\tthis.topDelta = ev.pageY - this.mouseY0;\n\t\tthis.leftDelta = ev.pageX - this.mouseX0;\n\n\t\tif (!this.isHidden) {\n\t\t\tthis.updatePosition();\n\t\t}\n\t},\n\n\n\t// Temporarily makes the tracking element invisible. Can be called before following starts\n\thide: function() {\n\t\tif (!this.isHidden) {\n\t\t\tthis.isHidden = true;\n\t\t\tif (this.el) {\n\t\t\t\tthis.el.hide();\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Show the tracking element after it has been temporarily hidden\n\tshow: function() {\n\t\tif (this.isHidden) {\n\t\t\tthis.isHidden = false;\n\t\t\tthis.updatePosition();\n\t\t\tthis.getEl().show();\n\t\t}\n\t}\n\n});\n\n;;\n\n/* A utility class for rendering <tr> rows.\n----------------------------------------------------------------------------------------------------------------------*/\n// It leverages methods of the subclass and the View to determine custom rendering behavior for each row \"type\"\n// (such as highlight rows, day rows, helper rows, etc).\n\nvar RowRenderer = Class.extend({\n\n\tview: null, // a View object\n\tisRTL: null, // shortcut to the view's isRTL option\n\tcellHtml: '<td/>', // plain default HTML used for a cell when no other is available\n\n\n\tconstructor: function(view) {\n\t\tthis.view = view;\n\t\tthis.isRTL = view.opt('isRTL');\n\t},\n\n\n\t// Renders the HTML for a row, leveraging custom cell-HTML-renderers based on the `rowType`.\n\t// Also applies the \"intro\" and \"outro\" cells, which are specified by the subclass and views.\n\t// `row` is an optional row number.\n\trowHtml: function(rowType, row) {\n\t\tvar renderCell = this.getHtmlRenderer('cell', rowType);\n\t\tvar rowCellHtml = '';\n\t\tvar col;\n\t\tvar cell;\n\n\t\trow = row || 0;\n\n\t\tfor (col = 0; col < this.colCnt; col++) {\n\t\t\tcell = this.getCell(row, col);\n\t\t\trowCellHtml += renderCell(cell);\n\t\t}\n\n\t\trowCellHtml = this.bookendCells(rowCellHtml, rowType, row); // apply intro and outro\n\n\t\treturn '<tr>' + rowCellHtml + '</tr>';\n\t},\n\n\n\t// Applies the \"intro\" and \"outro\" HTML to the given cells.\n\t// Intro means the leftmost cell when the calendar is LTR and the rightmost cell when RTL. Vice-versa for outro.\n\t// `cells` can be an HTML string of <td>'s or a jQuery <tr> element\n\t// `row` is an optional row number.\n\tbookendCells: function(cells, rowType, row) {\n\t\tvar intro = this.getHtmlRenderer('intro', rowType)(row || 0);\n\t\tvar outro = this.getHtmlRenderer('outro', rowType)(row || 0);\n\t\tvar prependHtml = this.isRTL ? outro : intro;\n\t\tvar appendHtml = this.isRTL ? intro : outro;\n\n\t\tif (typeof cells === 'string') {\n\t\t\treturn prependHtml + cells + appendHtml;\n\t\t}\n\t\telse { // a jQuery <tr> element\n\t\t\treturn cells.prepend(prependHtml).append(appendHtml);\n\t\t}\n\t},\n\n\n\t// Returns an HTML-rendering function given a specific `rendererName` (like cell, intro, or outro) and a specific\n\t// `rowType` (like day, eventSkeleton, helperSkeleton), which is optional.\n\t// If a renderer for the specific rowType doesn't exist, it will fall back to a generic renderer.\n\t// We will query the View object first for any custom rendering functions, then the methods of the subclass.\n\tgetHtmlRenderer: function(rendererName, rowType) {\n\t\tvar view = this.view;\n\t\tvar generalName; // like \"cellHtml\"\n\t\tvar specificName; // like \"dayCellHtml\". based on rowType\n\t\tvar provider; // either the View or the RowRenderer subclass, whichever provided the method\n\t\tvar renderer;\n\n\t\tgeneralName = rendererName + 'Html';\n\t\tif (rowType) {\n\t\t\tspecificName = rowType + capitaliseFirstLetter(rendererName) + 'Html';\n\t\t}\n\n\t\tif (specificName && (renderer = view[specificName])) {\n\t\t\tprovider = view;\n\t\t}\n\t\telse if (specificName && (renderer = this[specificName])) {\n\t\t\tprovider = this;\n\t\t}\n\t\telse if ((renderer = view[generalName])) {\n\t\t\tprovider = view;\n\t\t}\n\t\telse if ((renderer = this[generalName])) {\n\t\t\tprovider = this;\n\t\t}\n\n\t\tif (typeof renderer === 'function') {\n\t\t\treturn function() {\n\t\t\t\treturn renderer.apply(provider, arguments) || ''; // use correct `this` and always return a string\n\t\t\t};\n\t\t}\n\n\t\t// the rendered can be a plain string as well. if not specified, always an empty string.\n\t\treturn function() {\n\t\t\treturn renderer || '';\n\t\t};\n\t}\n\n});\n\n;;\n\n/* An abstract class comprised of a \"grid\" of cells that each represent a specific datetime\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar Grid = fc.Grid = RowRenderer.extend({\n\n\tstart: null, // the date of the first cell\n\tend: null, // the date after the last cell\n\n\trowCnt: 0, // number of rows\n\tcolCnt: 0, // number of cols\n\n\tel: null, // the containing element\n\tcoordMap: null, // a GridCoordMap that converts pixel values to datetimes\n\telsByFill: null, // a hash of jQuery element sets used for rendering each fill. Keyed by fill name.\n\n\texternalDragStartProxy: null, // binds the Grid's scope to externalDragStart (in DayGrid.events)\n\n\t// derived from options\n\tcolHeadFormat: null, // TODO: move to another class. not applicable to all Grids\n\teventTimeFormat: null,\n\tdisplayEventTime: null,\n\tdisplayEventEnd: null,\n\n\t// if all cells are the same length of time, the duration they all share. optional.\n\t// when defined, allows the computeCellRange shortcut, as well as improved resizing behavior.\n\tcellDuration: null,\n\n\t// if defined, holds the unit identified (ex: \"year\" or \"month\") that determines the level of granularity\n\t// of the date cells. if not defined, assumes to be day and time granularity.\n\tlargeUnit: null,\n\n\n\tconstructor: function() {\n\t\tRowRenderer.apply(this, arguments); // call the super-constructor\n\n\t\tthis.coordMap = new GridCoordMap(this);\n\t\tthis.elsByFill = {};\n\t\tthis.externalDragStartProxy = proxy(this, 'externalDragStart');\n\t},\n\n\n\t/* Options\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Generates the format string used for the text in column headers, if not explicitly defined by 'columnFormat'\n\t// TODO: move to another class. not applicable to all Grids\n\tcomputeColHeadFormat: function() {\n\t\t// subclasses must implement if they want to use headHtml()\n\t},\n\n\n\t// Generates the format string used for event time text, if not explicitly defined by 'timeFormat'\n\tcomputeEventTimeFormat: function() {\n\t\treturn this.view.opt('smallTimeFormat');\n\t},\n\n\n\t// Determines whether events should have their end times displayed, if not explicitly defined by 'displayEventTime'.\n\t// Only applies to non-all-day events.\n\tcomputeDisplayEventTime: function() {\n\t\treturn true;\n\t},\n\n\n\t// Determines whether events should have their end times displayed, if not explicitly defined by 'displayEventEnd'\n\tcomputeDisplayEventEnd: function() {\n\t\treturn true;\n\t},\n\n\n\t/* Dates\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Tells the grid about what period of time to display.\n\t// Any date-related cell system internal data should be generated.\n\tsetRange: function(range) {\n\t\tthis.start = range.start.clone();\n\t\tthis.end = range.end.clone();\n\n\t\tthis.rangeUpdated();\n\t\tthis.processRangeOptions();\n\t},\n\n\n\t// Called when internal variables that rely on the range should be updated\n\trangeUpdated: function() {\n\t},\n\n\n\t// Updates values that rely on options and also relate to range\n\tprocessRangeOptions: function() {\n\t\tvar view = this.view;\n\t\tvar displayEventTime;\n\t\tvar displayEventEnd;\n\n\t\t// Populate option-derived settings. Look for override first, then compute if necessary.\n\t\tthis.colHeadFormat = view.opt('columnFormat') || this.computeColHeadFormat();\n\n\t\tthis.eventTimeFormat =\n\t\t\tview.opt('eventTimeFormat') ||\n\t\t\tview.opt('timeFormat') || // deprecated\n\t\t\tthis.computeEventTimeFormat();\n\n\t\tdisplayEventTime = view.opt('displayEventTime');\n\t\tif (displayEventTime == null) {\n\t\t\tdisplayEventTime = this.computeDisplayEventTime(); // might be based off of range\n\t\t}\n\n\t\tdisplayEventEnd = view.opt('displayEventEnd');\n\t\tif (displayEventEnd == null) {\n\t\t\tdisplayEventEnd = this.computeDisplayEventEnd(); // might be based off of range\n\t\t}\n\n\t\tthis.displayEventTime = displayEventTime;\n\t\tthis.displayEventEnd = displayEventEnd;\n\t},\n\n\n\t// Called before the grid's coordinates will need to be queried for cells.\n\t// Any non-date-related cell system internal data should be built.\n\tbuild: function() {\n\t},\n\n\n\t// Called after the grid's coordinates are done being relied upon.\n\t// Any non-date-related cell system internal data should be cleared.\n\tclear: function() {\n\t},\n\n\n\t// Converts a range with an inclusive `start` and an exclusive `end` into an array of segment objects\n\trangeToSegs: function(range) {\n\t\t// subclasses must implement\n\t},\n\n\n\t// Diffs the two dates, returning a duration, based on granularity of the grid\n\tdiffDates: function(a, b) {\n\t\tif (this.largeUnit) {\n\t\t\treturn diffByUnit(a, b, this.largeUnit);\n\t\t}\n\t\telse {\n\t\t\treturn diffDayTime(a, b);\n\t\t}\n\t},\n\n\n\t/* Cells\n\t------------------------------------------------------------------------------------------------------------------*/\n\t// NOTE: columns are ordered left-to-right\n\n\n\t// Gets an object containing row/col number, misc data, and range information about the cell.\n\t// Accepts row/col values, an object with row/col properties, or a single-number offset from the first cell.\n\tgetCell: function(row, col) {\n\t\tvar cell;\n\n\t\tif (col == null) {\n\t\t\tif (typeof row === 'number') { // a single-number offset\n\t\t\t\tcol = row % this.colCnt;\n\t\t\t\trow = Math.floor(row / this.colCnt);\n\t\t\t}\n\t\t\telse { // an object with row/col properties\n\t\t\t\tcol = row.col;\n\t\t\t\trow = row.row;\n\t\t\t}\n\t\t}\n\n\t\tcell = { row: row, col: col };\n\n\t\t$.extend(cell, this.getRowData(row), this.getColData(col));\n\t\t$.extend(cell, this.computeCellRange(cell));\n\n\t\treturn cell;\n\t},\n\n\n\t// Given a cell object with index and misc data, generates a range object\n\t// If the grid is leveraging cellDuration, this doesn't need to be defined. Only computeCellDate does.\n\t// If being overridden, should return a range with reference-free date copies.\n\tcomputeCellRange: function(cell) {\n\t\tvar date = this.computeCellDate(cell);\n\n\t\treturn {\n\t\t\tstart: date,\n\t\t\tend: date.clone().add(this.cellDuration)\n\t\t};\n\t},\n\n\n\t// Given a cell, returns its start date. Should return a reference-free date copy.\n\tcomputeCellDate: function(cell) {\n\t\t// subclasses can implement\n\t},\n\n\n\t// Retrieves misc data about the given row\n\tgetRowData: function(row) {\n\t\treturn {};\n\t},\n\n\n\t// Retrieves misc data baout the given column\n\tgetColData: function(col) {\n\t\treturn {};\n\t},\n\n\n\t// Retrieves the element representing the given row\n\tgetRowEl: function(row) {\n\t\t// subclasses should implement if leveraging the default getCellDayEl() or computeRowCoords()\n\t},\n\n\n\t// Retrieves the element representing the given column\n\tgetColEl: function(col) {\n\t\t// subclasses should implement if leveraging the default getCellDayEl() or computeColCoords()\n\t},\n\n\n\t// Given a cell object, returns the element that represents the cell's whole-day\n\tgetCellDayEl: function(cell) {\n\t\treturn this.getColEl(cell.col) || this.getRowEl(cell.row);\n\t},\n\n\n\t/* Cell Coordinates\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Computes the top/bottom coordinates of all rows.\n\t// By default, queries the dimensions of the element provided by getRowEl().\n\tcomputeRowCoords: function() {\n\t\tvar items = [];\n\t\tvar i, el;\n\t\tvar top;\n\n\t\tfor (i = 0; i < this.rowCnt; i++) {\n\t\t\tel = this.getRowEl(i);\n\t\t\ttop = el.offset().top;\n\t\t\titems.push({\n\t\t\t\ttop: top,\n\t\t\t\tbottom: top + el.outerHeight()\n\t\t\t});\n\t\t}\n\n\t\treturn items;\n\t},\n\n\n\t// Computes the left/right coordinates of all rows.\n\t// By default, queries the dimensions of the element provided by getColEl(). Columns can be LTR or RTL.\n\tcomputeColCoords: function() {\n\t\tvar items = [];\n\t\tvar i, el;\n\t\tvar left;\n\n\t\tfor (i = 0; i < this.colCnt; i++) {\n\t\t\tel = this.getColEl(i);\n\t\t\tleft = el.offset().left;\n\t\t\titems.push({\n\t\t\t\tleft: left,\n\t\t\t\tright: left + el.outerWidth()\n\t\t\t});\n\t\t}\n\n\t\treturn items;\n\t},\n\n\n\t/* Rendering\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Sets the container element that the grid should render inside of.\n\t// Does other DOM-related initializations.\n\tsetElement: function(el) {\n\t\tvar _this = this;\n\n\t\tthis.el = el;\n\n\t\t// attach a handler to the grid's root element.\n\t\t// jQuery will take care of unregistering them when removeElement gets called.\n\t\tel.on('mousedown', function(ev) {\n\t\t\tif (\n\t\t\t\t!$(ev.target).is('.fc-event-container *, .fc-more') && // not an an event element, or \"more..\" link\n\t\t\t\t!$(ev.target).closest('.fc-popover').length // not on a popover (like the \"more..\" events one)\n\t\t\t) {\n\t\t\t\t_this.dayMousedown(ev);\n\t\t\t}\n\t\t});\n\n\t\t// attach event-element-related handlers. in Grid.events\n\t\t// same garbage collection note as above.\n\t\tthis.bindSegHandlers();\n\n\t\tthis.bindGlobalHandlers();\n\t},\n\n\n\t// Removes the grid's container element from the DOM. Undoes any other DOM-related attachments.\n\t// DOES NOT remove any content beforehand (doesn't clear events or call unrenderDates), unlike View\n\tremoveElement: function() {\n\t\tthis.unbindGlobalHandlers();\n\n\t\tthis.el.remove();\n\n\t\t// NOTE: we don't null-out this.el for the same reasons we don't do it within View::removeElement\n\t},\n\n\n\t// Renders the basic structure of grid view before any content is rendered\n\trenderSkeleton: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Renders the grid's date-related content (like cells that represent days/times).\n\t// Assumes setRange has already been called and the skeleton has already been rendered.\n\trenderDates: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Unrenders the grid's date-related content\n\tunrenderDates: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t/* Handlers\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Binds DOM handlers to elements that reside outside the grid, such as the document\n\tbindGlobalHandlers: function() {\n\t\t$(document).on('dragstart sortstart', this.externalDragStartProxy); // jqui\n\t},\n\n\n\t// Unbinds DOM handlers from elements that reside outside the grid\n\tunbindGlobalHandlers: function() {\n\t\t$(document).off('dragstart sortstart', this.externalDragStartProxy); // jqui\n\t},\n\n\n\t// Process a mousedown on an element that represents a day. For day clicking and selecting.\n\tdayMousedown: function(ev) {\n\t\tvar _this = this;\n\t\tvar view = this.view;\n\t\tvar isSelectable = view.opt('selectable');\n\t\tvar dayClickCell; // null if invalid dayClick\n\t\tvar selectionRange; // null if invalid selection\n\n\t\t// this listener tracks a mousedown on a day element, and a subsequent drag.\n\t\t// if the drag ends on the same day, it is a 'dayClick'.\n\t\t// if 'selectable' is enabled, this listener also detects selections.\n\t\tvar dragListener = new CellDragListener(this.coordMap, {\n\t\t\t//distance: 5, // needs more work if we want dayClick to fire correctly\n\t\t\tscroll: view.opt('dragScroll'),\n\t\t\tdragStart: function() {\n\t\t\t\tview.unselect(); // since we could be rendering a new selection, we want to clear any old one\n\t\t\t},\n\t\t\tcellOver: function(cell, isOrig, origCell) {\n\t\t\t\tif (origCell) { // click needs to have started on a cell\n\t\t\t\t\tdayClickCell = isOrig ? cell : null; // single-cell selection is a day click\n\t\t\t\t\tif (isSelectable) {\n\t\t\t\t\t\tselectionRange = _this.computeSelection(origCell, cell);\n\t\t\t\t\t\tif (selectionRange) {\n\t\t\t\t\t\t\t_this.renderSelection(selectionRange);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tdisableCursor();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tcellOut: function(cell) {\n\t\t\t\tdayClickCell = null;\n\t\t\t\tselectionRange = null;\n\t\t\t\t_this.unrenderSelection();\n\t\t\t\tenableCursor();\n\t\t\t},\n\t\t\tlistenStop: function(ev) {\n\t\t\t\tif (dayClickCell) {\n\t\t\t\t\tview.triggerDayClick(dayClickCell, _this.getCellDayEl(dayClickCell), ev);\n\t\t\t\t}\n\t\t\t\tif (selectionRange) {\n\t\t\t\t\t// the selection will already have been rendered. just report it\n\t\t\t\t\tview.reportSelection(selectionRange, ev);\n\t\t\t\t}\n\t\t\t\tenableCursor();\n\t\t\t}\n\t\t});\n\n\t\tdragListener.mousedown(ev); // start listening, which will eventually initiate a dragStart\n\t},\n\n\n\t/* Event Helper\n\t------------------------------------------------------------------------------------------------------------------*/\n\t// TODO: should probably move this to Grid.events, like we did event dragging / resizing\n\n\n\t// Renders a mock event over the given range\n\trenderRangeHelper: function(range, sourceSeg) {\n\t\tvar fakeEvent = this.fabricateHelperEvent(range, sourceSeg);\n\n\t\tthis.renderHelper(fakeEvent, sourceSeg); // do the actual rendering\n\t},\n\n\n\t// Builds a fake event given a date range it should cover, and a segment is should be inspired from.\n\t// The range's end can be null, in which case the mock event that is rendered will have a null end time.\n\t// `sourceSeg` is the internal segment object involved in the drag. If null, something external is dragging.\n\tfabricateHelperEvent: function(range, sourceSeg) {\n\t\tvar fakeEvent = sourceSeg ? createObject(sourceSeg.event) : {}; // mask the original event object if possible\n\n\t\tfakeEvent.start = range.start.clone();\n\t\tfakeEvent.end = range.end ? range.end.clone() : null;\n\t\tfakeEvent.allDay = null; // force it to be freshly computed by normalizeEventRange\n\t\tthis.view.calendar.normalizeEventRange(fakeEvent);\n\n\t\t// this extra className will be useful for differentiating real events from mock events in CSS\n\t\tfakeEvent.className = (fakeEvent.className || []).concat('fc-helper');\n\n\t\t// if something external is being dragged in, don't render a resizer\n\t\tif (!sourceSeg) {\n\t\t\tfakeEvent.editable = false;\n\t\t}\n\n\t\treturn fakeEvent;\n\t},\n\n\n\t// Renders a mock event\n\trenderHelper: function(event, sourceSeg) {\n\t\t// subclasses must implement\n\t},\n\n\n\t// Unrenders a mock event\n\tunrenderHelper: function() {\n\t\t// subclasses must implement\n\t},\n\n\n\t/* Selection\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of a selection. Will highlight by default but can be overridden by subclasses.\n\trenderSelection: function(range) {\n\t\tthis.renderHighlight(this.selectionRangeToSegs(range));\n\t},\n\n\n\t// Unrenders any visual indications of a selection. Will unrender a highlight by default.\n\tunrenderSelection: function() {\n\t\tthis.unrenderHighlight();\n\t},\n\n\n\t// Given the first and last cells of a selection, returns a range object.\n\t// Will return something falsy if the selection is invalid (when outside of selectionConstraint for example).\n\t// Subclasses can override and provide additional data in the range object. Will be passed to renderSelection().\n\tcomputeSelection: function(firstCell, lastCell) {\n\t\tvar dates = [\n\t\t\tfirstCell.start,\n\t\t\tfirstCell.end,\n\t\t\tlastCell.start,\n\t\t\tlastCell.end\n\t\t];\n\t\tvar range;\n\n\t\tdates.sort(compareNumbers); // sorts chronologically. works with Moments\n\n\t\trange = {\n\t\t\tstart: dates[0].clone(),\n\t\t\tend: dates[3].clone()\n\t\t};\n\n\t\tif (!this.view.calendar.isSelectionRangeAllowed(range)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn range;\n\t},\n\n\n\tselectionRangeToSegs: function(range) {\n\t\treturn this.rangeToSegs(range);\n\t},\n\n\n\t/* Highlight\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders an emphasis on the given date range. Given an array of segments.\n\trenderHighlight: function(segs) {\n\t\tthis.renderFill('highlight', segs);\n\t},\n\n\n\t// Unrenders the emphasis on a date range\n\tunrenderHighlight: function() {\n\t\tthis.unrenderFill('highlight');\n\t},\n\n\n\t// Generates an array of classNames for rendering the highlight. Used by the fill system.\n\thighlightSegClasses: function() {\n\t\treturn [ 'fc-highlight' ];\n\t},\n\n\n\t/* Fill System (highlight, background events, business hours)\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a set of rectangles over the given segments of time.\n\t// MUST RETURN a subset of segs, the segs that were actually rendered.\n\t// Responsible for populating this.elsByFill. TODO: better API for expressing this requirement\n\trenderFill: function(type, segs) {\n\t\t// subclasses must implement\n\t},\n\n\n\t// Unrenders a specific type of fill that is currently rendered on the grid\n\tunrenderFill: function(type) {\n\t\tvar el = this.elsByFill[type];\n\n\t\tif (el) {\n\t\t\tel.remove();\n\t\t\tdelete this.elsByFill[type];\n\t\t}\n\t},\n\n\n\t// Renders and assigns an `el` property for each fill segment. Generic enough to work with different types.\n\t// Only returns segments that successfully rendered.\n\t// To be harnessed by renderFill (implemented by subclasses).\n\t// Analagous to renderFgSegEls.\n\trenderFillSegEls: function(type, segs) {\n\t\tvar _this = this;\n\t\tvar segElMethod = this[type + 'SegEl'];\n\t\tvar html = '';\n\t\tvar renderedSegs = [];\n\t\tvar i;\n\n\t\tif (segs.length) {\n\n\t\t\t// build a large concatenation of segment HTML\n\t\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\t\thtml += this.fillSegHtml(type, segs[i]);\n\t\t\t}\n\n\t\t\t// Grab individual elements from the combined HTML string. Use each as the default rendering.\n\t\t\t// Then, compute the 'el' for each segment.\n\t\t\t$(html).each(function(i, node) {\n\t\t\t\tvar seg = segs[i];\n\t\t\t\tvar el = $(node);\n\n\t\t\t\t// allow custom filter methods per-type\n\t\t\t\tif (segElMethod) {\n\t\t\t\t\tel = segElMethod.call(_this, seg, el);\n\t\t\t\t}\n\n\t\t\t\tif (el) { // custom filters did not cancel the render\n\t\t\t\t\tel = $(el); // allow custom filter to return raw DOM node\n\n\t\t\t\t\t// correct element type? (would be bad if a non-TD were inserted into a table for example)\n\t\t\t\t\tif (el.is(_this.fillSegTag)) {\n\t\t\t\t\t\tseg.el = el;\n\t\t\t\t\t\trenderedSegs.push(seg);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn renderedSegs;\n\t},\n\n\n\tfillSegTag: 'div', // subclasses can override\n\n\n\t// Builds the HTML needed for one fill segment. Generic enought o work with different types.\n\tfillSegHtml: function(type, seg) {\n\n\t\t// custom hooks per-type\n\t\tvar classesMethod = this[type + 'SegClasses'];\n\t\tvar cssMethod = this[type + 'SegCss'];\n\n\t\tvar classes = classesMethod ? classesMethod.call(this, seg) : [];\n\t\tvar css = cssToStr(cssMethod ? cssMethod.call(this, seg) : {});\n\n\t\treturn '<' + this.fillSegTag +\n\t\t\t(classes.length ? ' class=\"' + classes.join(' ') + '\"' : '') +\n\t\t\t(css ? ' style=\"' + css + '\"' : '') +\n\t\t\t' />';\n\t},\n\n\n\t/* Generic rendering utilities for subclasses\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a day-of-week header row.\n\t// TODO: move to another class. not applicable to all Grids\n\theadHtml: function() {\n\t\treturn '' +\n\t\t\t'<div class=\"fc-row ' + this.view.widgetHeaderClass + '\">' +\n\t\t\t\t'<table>' +\n\t\t\t\t\t'<thead>' +\n\t\t\t\t\t\tthis.rowHtml('head') + // leverages RowRenderer\n\t\t\t\t\t'</thead>' +\n\t\t\t\t'</table>' +\n\t\t\t'</div>';\n\t},\n\n\n\t// Used by the `headHtml` method, via RowRenderer, for rendering the HTML of a day-of-week header cell\n\t// TODO: move to another class. not applicable to all Grids\n\theadCellHtml: function(cell) {\n\t\tvar view = this.view;\n\t\tvar date = cell.start;\n\n\t\treturn '' +\n\t\t\t'<th class=\"fc-day-header ' + view.widgetHeaderClass + ' fc-' + dayIDs[date.day()] + '\">' +\n\t\t\t\thtmlEscape(date.format(this.colHeadFormat)) +\n\t\t\t'</th>';\n\t},\n\n\n\t// Renders the HTML for a single-day background cell\n\tbgCellHtml: function(cell) {\n\t\tvar view = this.view;\n\t\tvar date = cell.start;\n\t\tvar classes = this.getDayClasses(date);\n\n\t\tclasses.unshift('fc-day', view.widgetContentClass);\n\n\t\treturn '<td class=\"' + classes.join(' ') + '\"' +\n\t\t\t' data-date=\"' + date.format('YYYY-MM-DD') + '\"' + // if date has a time, won't format it\n\t\t\t'></td>';\n\t},\n\n\n\t// Computes HTML classNames for a single-day cell\n\tgetDayClasses: function(date) {\n\t\tvar view = this.view;\n\t\tvar today = view.calendar.getNow().stripTime();\n\t\tvar classes = [ 'fc-' + dayIDs[date.day()] ];\n\n\t\tif (\n\t\t\tview.intervalDuration.as('months') == 1 &&\n\t\t\tdate.month() != view.intervalStart.month()\n\t\t) {\n\t\t\tclasses.push('fc-other-month');\n\t\t}\n\n\t\tif (date.isSame(today, 'day')) {\n\t\t\tclasses.push(\n\t\t\t\t'fc-today',\n\t\t\t\tview.highlightStateClass\n\t\t\t);\n\t\t}\n\t\telse if (date < today) {\n\t\t\tclasses.push('fc-past');\n\t\t}\n\t\telse {\n\t\t\tclasses.push('fc-future');\n\t\t}\n\n\t\treturn classes;\n\t}\n\n});\n\n;;\n\n/* Event-rendering and event-interaction methods for the abstract Grid class\n----------------------------------------------------------------------------------------------------------------------*/\n\nGrid.mixin({\n\n\tmousedOverSeg: null, // the segment object the user's mouse is over. null if over nothing\n\tisDraggingSeg: false, // is a segment being dragged? boolean\n\tisResizingSeg: false, // is a segment being resized? boolean\n\tisDraggingExternal: false, // jqui-dragging an external element? boolean\n\tsegs: null, // the event segments currently rendered in the grid\n\n\n\t// Renders the given events onto the grid\n\trenderEvents: function(events) {\n\t\tvar segs = this.eventsToSegs(events);\n\t\tvar bgSegs = [];\n\t\tvar fgSegs = [];\n\t\tvar i, seg;\n\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tseg = segs[i];\n\n\t\t\tif (isBgEvent(seg.event)) {\n\t\t\t\tbgSegs.push(seg);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfgSegs.push(seg);\n\t\t\t}\n\t\t}\n\n\t\t// Render each different type of segment.\n\t\t// Each function may return a subset of the segs, segs that were actually rendered.\n\t\tbgSegs = this.renderBgSegs(bgSegs) || bgSegs;\n\t\tfgSegs = this.renderFgSegs(fgSegs) || fgSegs;\n\n\t\tthis.segs = bgSegs.concat(fgSegs);\n\t},\n\n\n\t// Unrenders all events currently rendered on the grid\n\tunrenderEvents: function() {\n\t\tthis.triggerSegMouseout(); // trigger an eventMouseout if user's mouse is over an event\n\n\t\tthis.unrenderFgSegs();\n\t\tthis.unrenderBgSegs();\n\n\t\tthis.segs = null;\n\t},\n\n\n\t// Retrieves all rendered segment objects currently rendered on the grid\n\tgetEventSegs: function() {\n\t\treturn this.segs || [];\n\t},\n\n\n\t/* Foreground Segment Rendering\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders foreground event segments onto the grid. May return a subset of segs that were rendered.\n\trenderFgSegs: function(segs) {\n\t\t// subclasses must implement\n\t},\n\n\n\t// Unrenders all currently rendered foreground segments\n\tunrenderFgSegs: function() {\n\t\t// subclasses must implement\n\t},\n\n\n\t// Renders and assigns an `el` property for each foreground event segment.\n\t// Only returns segments that successfully rendered.\n\t// A utility that subclasses may use.\n\trenderFgSegEls: function(segs, disableResizing) {\n\t\tvar view = this.view;\n\t\tvar html = '';\n\t\tvar renderedSegs = [];\n\t\tvar i;\n\n\t\tif (segs.length) { // don't build an empty html string\n\n\t\t\t// build a large concatenation of event segment HTML\n\t\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\t\thtml += this.fgSegHtml(segs[i], disableResizing);\n\t\t\t}\n\n\t\t\t// Grab individual elements from the combined HTML string. Use each as the default rendering.\n\t\t\t// Then, compute the 'el' for each segment. An el might be null if the eventRender callback returned false.\n\t\t\t$(html).each(function(i, node) {\n\t\t\t\tvar seg = segs[i];\n\t\t\t\tvar el = view.resolveEventEl(seg.event, $(node));\n\n\t\t\t\tif (el) {\n\t\t\t\t\tel.data('fc-seg', seg); // used by handlers\n\t\t\t\t\tseg.el = el;\n\t\t\t\t\trenderedSegs.push(seg);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn renderedSegs;\n\t},\n\n\n\t// Generates the HTML for the default rendering of a foreground event segment. Used by renderFgSegEls()\n\tfgSegHtml: function(seg, disableResizing) {\n\t\t// subclasses should implement\n\t},\n\n\n\t/* Background Segment Rendering\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders the given background event segments onto the grid.\n\t// Returns a subset of the segs that were actually rendered.\n\trenderBgSegs: function(segs) {\n\t\treturn this.renderFill('bgEvent', segs);\n\t},\n\n\n\t// Unrenders all the currently rendered background event segments\n\tunrenderBgSegs: function() {\n\t\tthis.unrenderFill('bgEvent');\n\t},\n\n\n\t// Renders a background event element, given the default rendering. Called by the fill system.\n\tbgEventSegEl: function(seg, el) {\n\t\treturn this.view.resolveEventEl(seg.event, el); // will filter through eventRender\n\t},\n\n\n\t// Generates an array of classNames to be used for the default rendering of a background event.\n\t// Called by the fill system.\n\tbgEventSegClasses: function(seg) {\n\t\tvar event = seg.event;\n\t\tvar source = event.source || {};\n\n\t\treturn [ 'fc-bgevent' ].concat(\n\t\t\tevent.className,\n\t\t\tsource.className || []\n\t\t);\n\t},\n\n\n\t// Generates a semicolon-separated CSS string to be used for the default rendering of a background event.\n\t// Called by the fill system.\n\t// TODO: consolidate with getEventSkinCss?\n\tbgEventSegCss: function(seg) {\n\t\tvar view = this.view;\n\t\tvar event = seg.event;\n\t\tvar source = event.source || {};\n\n\t\treturn {\n\t\t\t'background-color':\n\t\t\t\tevent.backgroundColor ||\n\t\t\t\tevent.color ||\n\t\t\t\tsource.backgroundColor ||\n\t\t\t\tsource.color ||\n\t\t\t\tview.opt('eventBackgroundColor') ||\n\t\t\t\tview.opt('eventColor')\n\t\t};\n\t},\n\n\n\t// Generates an array of classNames to be used for the rendering business hours overlay. Called by the fill system.\n\tbusinessHoursSegClasses: function(seg) {\n\t\treturn [ 'fc-nonbusiness', 'fc-bgevent' ];\n\t},\n\n\n\t/* Handlers\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Attaches event-element-related handlers to the container element and leverage bubbling\n\tbindSegHandlers: function() {\n\t\tvar _this = this;\n\t\tvar view = this.view;\n\n\t\t$.each(\n\t\t\t{\n\t\t\t\tmouseenter: function(seg, ev) {\n\t\t\t\t\t_this.triggerSegMouseover(seg, ev);\n\t\t\t\t},\n\t\t\t\tmouseleave: function(seg, ev) {\n\t\t\t\t\t_this.triggerSegMouseout(seg, ev);\n\t\t\t\t},\n\t\t\t\tclick: function(seg, ev) {\n\t\t\t\t\treturn view.trigger('eventClick', this, seg.event, ev); // can return `false` to cancel\n\t\t\t\t},\n\t\t\t\tmousedown: function(seg, ev) {\n\t\t\t\t\tif ($(ev.target).is('.fc-resizer') && view.isEventResizable(seg.event)) {\n\t\t\t\t\t\t_this.segResizeMousedown(seg, ev, $(ev.target).is('.fc-start-resizer'));\n\t\t\t\t\t}\n\t\t\t\t\telse if (view.isEventDraggable(seg.event)) {\n\t\t\t\t\t\t_this.segDragMousedown(seg, ev);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tfunction(name, func) {\n\t\t\t\t// attach the handler to the container element and only listen for real event elements via bubbling\n\t\t\t\t_this.el.on(name, '.fc-event-container > *', function(ev) {\n\t\t\t\t\tvar seg = $(this).data('fc-seg'); // grab segment data. put there by View::renderEvents\n\n\t\t\t\t\t// only call the handlers if there is not a drag/resize in progress\n\t\t\t\t\tif (seg && !_this.isDraggingSeg && !_this.isResizingSeg) {\n\t\t\t\t\t\treturn func.call(this, seg, ev); // `this` will be the event element\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t},\n\n\n\t// Updates internal state and triggers handlers for when an event element is moused over\n\ttriggerSegMouseover: function(seg, ev) {\n\t\tif (!this.mousedOverSeg) {\n\t\t\tthis.mousedOverSeg = seg;\n\t\t\tthis.view.trigger('eventMouseover', seg.el[0], seg.event, ev);\n\t\t}\n\t},\n\n\n\t// Updates internal state and triggers handlers for when an event element is moused out.\n\t// Can be given no arguments, in which case it will mouseout the segment that was previously moused over.\n\ttriggerSegMouseout: function(seg, ev) {\n\t\tev = ev || {}; // if given no args, make a mock mouse event\n\n\t\tif (this.mousedOverSeg) {\n\t\t\tseg = seg || this.mousedOverSeg; // if given no args, use the currently moused-over segment\n\t\t\tthis.mousedOverSeg = null;\n\t\t\tthis.view.trigger('eventMouseout', seg.el[0], seg.event, ev);\n\t\t}\n\t},\n\n\n\t/* Event Dragging\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Called when the user does a mousedown on an event, which might lead to dragging.\n\t// Generic enough to work with any type of Grid.\n\tsegDragMousedown: function(seg, ev) {\n\t\tvar _this = this;\n\t\tvar view = this.view;\n\t\tvar calendar = view.calendar;\n\t\tvar el = seg.el;\n\t\tvar event = seg.event;\n\t\tvar dropLocation;\n\n\t\t// A clone of the original element that will move with the mouse\n\t\tvar mouseFollower = new MouseFollower(seg.el, {\n\t\t\tparentEl: view.el,\n\t\t\topacity: view.opt('dragOpacity'),\n\t\t\trevertDuration: view.opt('dragRevertDuration'),\n\t\t\tzIndex: 2 // one above the .fc-view\n\t\t});\n\n\t\t// Tracks mouse movement over the *view's* coordinate map. Allows dragging and dropping between subcomponents\n\t\t// of the view.\n\t\tvar dragListener = new CellDragListener(view.coordMap, {\n\t\t\tdistance: 5,\n\t\t\tscroll: view.opt('dragScroll'),\n\t\t\tsubjectEl: el,\n\t\t\tsubjectCenter: true,\n\t\t\tlistenStart: function(ev) {\n\t\t\t\tmouseFollower.hide(); // don't show until we know this is a real drag\n\t\t\t\tmouseFollower.start(ev);\n\t\t\t},\n\t\t\tdragStart: function(ev) {\n\t\t\t\t_this.triggerSegMouseout(seg, ev); // ensure a mouseout on the manipulated event has been reported\n\t\t\t\t_this.segDragStart(seg, ev);\n\t\t\t\tview.hideEvent(event); // hide all event segments. our mouseFollower will take over\n\t\t\t},\n\t\t\tcellOver: function(cell, isOrig, origCell) {\n\n\t\t\t\t// starting cell could be forced (DayGrid.limit)\n\t\t\t\tif (seg.cell) {\n\t\t\t\t\torigCell = seg.cell;\n\t\t\t\t}\n\n\t\t\t\tdropLocation = _this.computeEventDrop(origCell, cell, event);\n\n\t\t\t\tif (dropLocation && !calendar.isEventRangeAllowed(dropLocation, event)) {\n\t\t\t\t\tdisableCursor();\n\t\t\t\t\tdropLocation = null;\n\t\t\t\t}\n\n\t\t\t\t// if a valid drop location, have the subclass render a visual indication\n\t\t\t\tif (dropLocation && view.renderDrag(dropLocation, seg)) {\n\t\t\t\t\tmouseFollower.hide(); // if the subclass is already using a mock event \"helper\", hide our own\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tmouseFollower.show(); // otherwise, have the helper follow the mouse (no snapping)\n\t\t\t\t}\n\n\t\t\t\tif (isOrig) {\n\t\t\t\t\tdropLocation = null; // needs to have moved cells to be a valid drop\n\t\t\t\t}\n\t\t\t},\n\t\t\tcellOut: function() { // called before mouse moves to a different cell OR moved out of all cells\n\t\t\t\tview.unrenderDrag(); // unrender whatever was done in renderDrag\n\t\t\t\tmouseFollower.show(); // show in case we are moving out of all cells\n\t\t\t\tdropLocation = null;\n\t\t\t},\n\t\t\tcellDone: function() { // Called after a cellOut OR before a dragStop\n\t\t\t\tenableCursor();\n\t\t\t},\n\t\t\tdragStop: function(ev) {\n\t\t\t\t// do revert animation if hasn't changed. calls a callback when finished (whether animation or not)\n\t\t\t\tmouseFollower.stop(!dropLocation, function() {\n\t\t\t\t\tview.unrenderDrag();\n\t\t\t\t\tview.showEvent(event);\n\t\t\t\t\t_this.segDragStop(seg, ev);\n\n\t\t\t\t\tif (dropLocation) {\n\t\t\t\t\t\tview.reportEventDrop(event, dropLocation, this.largeUnit, el, ev);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tlistenStop: function() {\n\t\t\t\tmouseFollower.stop(); // put in listenStop in case there was a mousedown but the drag never started\n\t\t\t}\n\t\t});\n\n\t\tdragListener.mousedown(ev); // start listening, which will eventually lead to a dragStart\n\t},\n\n\n\t// Called before event segment dragging starts\n\tsegDragStart: function(seg, ev) {\n\t\tthis.isDraggingSeg = true;\n\t\tthis.view.trigger('eventDragStart', seg.el[0], seg.event, ev, {}); // last argument is jqui dummy\n\t},\n\n\n\t// Called after event segment dragging stops\n\tsegDragStop: function(seg, ev) {\n\t\tthis.isDraggingSeg = false;\n\t\tthis.view.trigger('eventDragStop', seg.el[0], seg.event, ev, {}); // last argument is jqui dummy\n\t},\n\n\n\t// Given the cell an event drag began, and the cell event was dropped, calculates the new start/end/allDay\n\t// values for the event. Subclasses may override and set additional properties to be used by renderDrag.\n\t// A falsy returned value indicates an invalid drop.\n\tcomputeEventDrop: function(startCell, endCell, event) {\n\t\tvar calendar = this.view.calendar;\n\t\tvar dragStart = startCell.start;\n\t\tvar dragEnd = endCell.start;\n\t\tvar delta;\n\t\tvar dropLocation;\n\n\t\tif (dragStart.hasTime() === dragEnd.hasTime()) {\n\t\t\tdelta = this.diffDates(dragEnd, dragStart);\n\n\t\t\t// if an all-day event was in a timed area and it was dragged to a different time,\n\t\t\t// guarantee an end and adjust start/end to have times\n\t\t\tif (event.allDay && durationHasTime(delta)) {\n\t\t\t\tdropLocation = {\n\t\t\t\t\tstart: event.start.clone(),\n\t\t\t\t\tend: calendar.getEventEnd(event), // will be an ambig day\n\t\t\t\t\tallDay: false // for normalizeEventRangeTimes\n\t\t\t\t};\n\t\t\t\tcalendar.normalizeEventRangeTimes(dropLocation);\n\t\t\t}\n\t\t\t// othewise, work off existing values\n\t\t\telse {\n\t\t\t\tdropLocation = {\n\t\t\t\t\tstart: event.start.clone(),\n\t\t\t\t\tend: event.end ? event.end.clone() : null,\n\t\t\t\t\tallDay: event.allDay // keep it the same\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tdropLocation.start.add(delta);\n\t\t\tif (dropLocation.end) {\n\t\t\t\tdropLocation.end.add(delta);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// if switching from day <-> timed, start should be reset to the dropped date, and the end cleared\n\t\t\tdropLocation = {\n\t\t\t\tstart: dragEnd.clone(),\n\t\t\t\tend: null, // end should be cleared\n\t\t\t\tallDay: !dragEnd.hasTime()\n\t\t\t};\n\t\t}\n\n\t\treturn dropLocation;\n\t},\n\n\n\t// Utility for apply dragOpacity to a jQuery set\n\tapplyDragOpacity: function(els) {\n\t\tvar opacity = this.view.opt('dragOpacity');\n\n\t\tif (opacity != null) {\n\t\t\tels.each(function(i, node) {\n\t\t\t\t// Don't use jQuery (will set an IE filter), do it the old fashioned way.\n\t\t\t\t// In IE8, a helper element will disappears if there's a filter.\n\t\t\t\tnode.style.opacity = opacity;\n\t\t\t});\n\t\t}\n\t},\n\n\n\t/* External Element Dragging\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Called when a jQuery UI drag is initiated anywhere in the DOM\n\texternalDragStart: function(ev, ui) {\n\t\tvar view = this.view;\n\t\tvar el;\n\t\tvar accept;\n\n\t\tif (view.opt('droppable')) { // only listen if this setting is on\n\t\t\tel = $((ui ? ui.item : null) || ev.target);\n\n\t\t\t// Test that the dragged element passes the dropAccept selector or filter function.\n\t\t\t// FYI, the default is \"*\" (matches all)\n\t\t\taccept = view.opt('dropAccept');\n\t\t\tif ($.isFunction(accept) ? accept.call(el[0], el) : el.is(accept)) {\n\t\t\t\tif (!this.isDraggingExternal) { // prevent double-listening if fired twice\n\t\t\t\t\tthis.listenToExternalDrag(el, ev, ui);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Called when a jQuery UI drag starts and it needs to be monitored for cell dropping\n\tlistenToExternalDrag: function(el, ev, ui) {\n\t\tvar _this = this;\n\t\tvar meta = getDraggedElMeta(el); // extra data about event drop, including possible event to create\n\t\tvar dragListener;\n\t\tvar dropLocation; // a null value signals an unsuccessful drag\n\n\t\t// listener that tracks mouse movement over date-associated pixel regions\n\t\tdragListener = new CellDragListener(this.coordMap, {\n\t\t\tlistenStart: function() {\n\t\t\t\t_this.isDraggingExternal = true;\n\t\t\t},\n\t\t\tcellOver: function(cell) {\n\t\t\t\tdropLocation = _this.computeExternalDrop(cell, meta);\n\t\t\t\tif (dropLocation) {\n\t\t\t\t\t_this.renderDrag(dropLocation); // called without a seg parameter\n\t\t\t\t}\n\t\t\t\telse { // invalid drop cell\n\t\t\t\t\tdisableCursor();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcellOut: function() {\n\t\t\t\tdropLocation = null; // signal unsuccessful\n\t\t\t\t_this.unrenderDrag();\n\t\t\t\tenableCursor();\n\t\t\t},\n\t\t\tdragStop: function() {\n\t\t\t\t_this.unrenderDrag();\n\t\t\t\tenableCursor();\n\n\t\t\t\tif (dropLocation) { // element was dropped on a valid date/time cell\n\t\t\t\t\t_this.view.reportExternalDrop(meta, dropLocation, el, ev, ui);\n\t\t\t\t}\n\t\t\t},\n\t\t\tlistenStop: function() {\n\t\t\t\t_this.isDraggingExternal = false;\n\t\t\t}\n\t\t});\n\n\t\tdragListener.startDrag(ev); // start listening immediately\n\t},\n\n\n\t// Given a cell to be dropped upon, and misc data associated with the jqui drag (guaranteed to be a plain object),\n\t// returns start/end dates for the event that would result from the hypothetical drop. end might be null.\n\t// Returning a null value signals an invalid drop cell.\n\tcomputeExternalDrop: function(cell, meta) {\n\t\tvar dropLocation = {\n\t\t\tstart: cell.start.clone(),\n\t\t\tend: null\n\t\t};\n\n\t\t// if dropped on an all-day cell, and element's metadata specified a time, set it\n\t\tif (meta.startTime && !dropLocation.start.hasTime()) {\n\t\t\tdropLocation.start.time(meta.startTime);\n\t\t}\n\n\t\tif (meta.duration) {\n\t\t\tdropLocation.end = dropLocation.start.clone().add(meta.duration);\n\t\t}\n\n\t\tif (!this.view.calendar.isExternalDropRangeAllowed(dropLocation, meta.eventProps)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn dropLocation;\n\t},\n\n\n\n\t/* Drag Rendering (for both events and an external elements)\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of an event or external element being dragged.\n\t// `dropLocation` contains hypothetical start/end/allDay values the event would have if dropped. end can be null.\n\t// `seg` is the internal segment object that is being dragged. If dragging an external element, `seg` is null.\n\t// A truthy returned value indicates this method has rendered a helper element.\n\trenderDrag: function(dropLocation, seg) {\n\t\t// subclasses must implement\n\t},\n\n\n\t// Unrenders a visual indication of an event or external element being dragged\n\tunrenderDrag: function() {\n\t\t// subclasses must implement\n\t},\n\n\n\t/* Resizing\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Called when the user does a mousedown on an event's resizer, which might lead to resizing.\n\t// Generic enough to work with any type of Grid.\n\tsegResizeMousedown: function(seg, ev, isStart) {\n\t\tvar _this = this;\n\t\tvar view = this.view;\n\t\tvar calendar = view.calendar;\n\t\tvar el = seg.el;\n\t\tvar event = seg.event;\n\t\tvar eventEnd = calendar.getEventEnd(event);\n\t\tvar dragListener;\n\t\tvar resizeLocation; // falsy if invalid resize\n\n\t\t// Tracks mouse movement over the *grid's* coordinate map\n\t\tdragListener = new CellDragListener(this.coordMap, {\n\t\t\tdistance: 5,\n\t\t\tscroll: view.opt('dragScroll'),\n\t\t\tsubjectEl: el,\n\t\t\tdragStart: function(ev) {\n\t\t\t\t_this.triggerSegMouseout(seg, ev); // ensure a mouseout on the manipulated event has been reported\n\t\t\t\t_this.segResizeStart(seg, ev);\n\t\t\t},\n\t\t\tcellOver: function(cell, isOrig, origCell) {\n\t\t\t\tresizeLocation = isStart ?\n\t\t\t\t\t_this.computeEventStartResize(origCell, cell, event) :\n\t\t\t\t\t_this.computeEventEndResize(origCell, cell, event);\n\n\t\t\t\tif (resizeLocation) {\n\t\t\t\t\tif (!calendar.isEventRangeAllowed(resizeLocation, event)) {\n\t\t\t\t\t\tdisableCursor();\n\t\t\t\t\t\tresizeLocation = null;\n\t\t\t\t\t}\n\t\t\t\t\t// no change? (TODO: how does this work with timezones?)\n\t\t\t\t\telse if (resizeLocation.start.isSame(event.start) && resizeLocation.end.isSame(eventEnd)) {\n\t\t\t\t\t\tresizeLocation = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (resizeLocation) {\n\t\t\t\t\tview.hideEvent(event);\n\t\t\t\t\t_this.renderEventResize(resizeLocation, seg);\n\t\t\t\t}\n\t\t\t},\n\t\t\tcellOut: function() { // called before mouse moves to a different cell OR moved out of all cells\n\t\t\t\tresizeLocation = null;\n\t\t\t},\n\t\t\tcellDone: function() { // resets the rendering to show the original event\n\t\t\t\t_this.unrenderEventResize();\n\t\t\t\tview.showEvent(event);\n\t\t\t\tenableCursor();\n\t\t\t},\n\t\t\tdragStop: function(ev) {\n\t\t\t\t_this.segResizeStop(seg, ev);\n\n\t\t\t\tif (resizeLocation) { // valid date to resize to?\n\t\t\t\t\tview.reportEventResize(event, resizeLocation, this.largeUnit, el, ev);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tdragListener.mousedown(ev); // start listening, which will eventually lead to a dragStart\n\t},\n\n\n\t// Called before event segment resizing starts\n\tsegResizeStart: function(seg, ev) {\n\t\tthis.isResizingSeg = true;\n\t\tthis.view.trigger('eventResizeStart', seg.el[0], seg.event, ev, {}); // last argument is jqui dummy\n\t},\n\n\n\t// Called after event segment resizing stops\n\tsegResizeStop: function(seg, ev) {\n\t\tthis.isResizingSeg = false;\n\t\tthis.view.trigger('eventResizeStop', seg.el[0], seg.event, ev, {}); // last argument is jqui dummy\n\t},\n\n\n\t// Returns new date-information for an event segment being resized from its start\n\tcomputeEventStartResize: function(startCell, endCell, event) {\n\t\treturn this.computeEventResize('start', startCell, endCell, event);\n\t},\n\n\n\t// Returns new date-information for an event segment being resized from its end\n\tcomputeEventEndResize: function(startCell, endCell, event) {\n\t\treturn this.computeEventResize('end', startCell, endCell, event);\n\t},\n\n\n\t// Returns new date-information for an event segment being resized from its start OR end\n\t// `type` is either 'start' or 'end'\n\tcomputeEventResize: function(type, startCell, endCell, event) {\n\t\tvar calendar = this.view.calendar;\n\t\tvar delta = this.diffDates(endCell[type], startCell[type]);\n\t\tvar range;\n\t\tvar defaultDuration;\n\n\t\t// build original values to work from, guaranteeing a start and end\n\t\trange = {\n\t\t\tstart: event.start.clone(),\n\t\t\tend: calendar.getEventEnd(event),\n\t\t\tallDay: event.allDay\n\t\t};\n\n\t\t// if an all-day event was in a timed area and was resized to a time, adjust start/end to have times\n\t\tif (range.allDay && durationHasTime(delta)) {\n\t\t\trange.allDay = false;\n\t\t\tcalendar.normalizeEventRangeTimes(range);\n\t\t}\n\n\t\trange[type].add(delta); // apply delta to start or end\n\n\t\t// if the event was compressed too small, find a new reasonable duration for it\n\t\tif (!range.start.isBefore(range.end)) {\n\n\t\t\tdefaultDuration = event.allDay ?\n\t\t\t\tcalendar.defaultAllDayEventDuration :\n\t\t\t\tcalendar.defaultTimedEventDuration;\n\n\t\t\t// between the cell's duration and the event's default duration, use the smaller of the two.\n\t\t\t// example: if year-length slots, and compressed to one slot, we don't want the event to be a year long\n\t\t\tif (this.cellDuration && this.cellDuration < defaultDuration) {\n\t\t\t\tdefaultDuration = this.cellDuration;\n\t\t\t}\n\n\t\t\tif (type == 'start') { // resizing the start?\n\t\t\t\trange.start = range.end.clone().subtract(defaultDuration);\n\t\t\t}\n\t\t\telse { // resizing the end?\n\t\t\t\trange.end = range.start.clone().add(defaultDuration);\n\t\t\t}\n\t\t}\n\n\t\treturn range;\n\t},\n\n\n\t// Renders a visual indication of an event being resized.\n\t// `range` has the updated dates of the event. `seg` is the original segment object involved in the drag.\n\trenderEventResize: function(range, seg) {\n\t\t// subclasses must implement\n\t},\n\n\n\t// Unrenders a visual indication of an event being resized.\n\tunrenderEventResize: function() {\n\t\t// subclasses must implement\n\t},\n\n\n\t/* Rendering Utils\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Compute the text that should be displayed on an event's element.\n\t// `range` can be the Event object itself, or something range-like, with at least a `start`.\n\t// If event times are disabled, or the event has no time, will return a blank string.\n\t// If not specified, formatStr will default to the eventTimeFormat setting,\n\t// and displayEnd will default to the displayEventEnd setting.\n\tgetEventTimeText: function(range, formatStr, displayEnd) {\n\n\t\tif (formatStr == null) {\n\t\t\tformatStr = this.eventTimeFormat;\n\t\t}\n\n\t\tif (displayEnd == null) {\n\t\t\tdisplayEnd = this.displayEventEnd;\n\t\t}\n\n\t\tif (this.displayEventTime && range.start.hasTime()) {\n\t\t\tif (displayEnd && range.end) {\n\t\t\t\treturn this.view.formatRange(range, formatStr);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn range.start.format(formatStr);\n\t\t\t}\n\t\t}\n\n\t\treturn '';\n\t},\n\n\n\t// Generic utility for generating the HTML classNames for an event segment's element\n\tgetSegClasses: function(seg, isDraggable, isResizable) {\n\t\tvar event = seg.event;\n\t\tvar classes = [\n\t\t\t'fc-event',\n\t\t\tseg.isStart ? 'fc-start' : 'fc-not-start',\n\t\t\tseg.isEnd ? 'fc-end' : 'fc-not-end'\n\t\t].concat(\n\t\t\tevent.className,\n\t\t\tevent.source ? event.source.className : []\n\t\t);\n\n\t\tif (isDraggable) {\n\t\t\tclasses.push('fc-draggable');\n\t\t}\n\t\tif (isResizable) {\n\t\t\tclasses.push('fc-resizable');\n\t\t}\n\n\t\treturn classes;\n\t},\n\n\n\t// Utility for generating event skin-related CSS properties\n\tgetEventSkinCss: function(event) {\n\t\tvar view = this.view;\n\t\tvar source = event.source || {};\n\t\tvar eventColor = event.color;\n\t\tvar sourceColor = source.color;\n\t\tvar optionColor = view.opt('eventColor');\n\n\t\treturn {\n\t\t\t'background-color':\n\t\t\t\tevent.backgroundColor ||\n\t\t\t\teventColor ||\n\t\t\t\tsource.backgroundColor ||\n\t\t\t\tsourceColor ||\n\t\t\t\tview.opt('eventBackgroundColor') ||\n\t\t\t\toptionColor,\n\t\t\t'border-color':\n\t\t\t\tevent.borderColor ||\n\t\t\t\teventColor ||\n\t\t\t\tsource.borderColor ||\n\t\t\t\tsourceColor ||\n\t\t\t\tview.opt('eventBorderColor') ||\n\t\t\t\toptionColor,\n\t\t\tcolor:\n\t\t\t\tevent.textColor ||\n\t\t\t\tsource.textColor ||\n\t\t\t\tview.opt('eventTextColor')\n\t\t};\n\t},\n\n\n\t/* Converting events -> ranges -> segs\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Converts an array of event objects into an array of event segment objects.\n\t// A custom `rangeToSegsFunc` may be given for arbitrarily slicing up events.\n\t// Doesn't guarantee an order for the resulting array.\n\teventsToSegs: function(events, rangeToSegsFunc) {\n\t\tvar eventRanges = this.eventsToRanges(events);\n\t\tvar segs = [];\n\t\tvar i;\n\n\t\tfor (i = 0; i < eventRanges.length; i++) {\n\t\t\tsegs.push.apply(\n\t\t\t\tsegs,\n\t\t\t\tthis.eventRangeToSegs(eventRanges[i], rangeToSegsFunc)\n\t\t\t);\n\t\t}\n\n\t\treturn segs;\n\t},\n\n\n\t// Converts an array of events into an array of \"range\" objects.\n\t// A \"range\" object is a plain object with start/end properties denoting the time it covers. Also an event property.\n\t// For \"normal\" events, this will be identical to the event's start/end, but for \"inverse-background\" events,\n\t// will create an array of ranges that span the time *not* covered by the given event.\n\t// Doesn't guarantee an order for the resulting array.\n\teventsToRanges: function(events) {\n\t\tvar _this = this;\n\t\tvar eventsById = groupEventsById(events);\n\t\tvar ranges = [];\n\n\t\t// group by ID so that related inverse-background events can be rendered together\n\t\t$.each(eventsById, function(id, eventGroup) {\n\t\t\tif (eventGroup.length) {\n\t\t\t\tranges.push.apply(\n\t\t\t\t\tranges,\n\t\t\t\t\tisInverseBgEvent(eventGroup[0]) ?\n\t\t\t\t\t\t_this.eventsToInverseRanges(eventGroup) :\n\t\t\t\t\t\t_this.eventsToNormalRanges(eventGroup)\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\treturn ranges;\n\t},\n\n\n\t// Converts an array of \"normal\" events (not inverted rendering) into a parallel array of ranges\n\teventsToNormalRanges: function(events) {\n\t\tvar calendar = this.view.calendar;\n\t\tvar ranges = [];\n\t\tvar i, event;\n\t\tvar eventStart, eventEnd;\n\n\t\tfor (i = 0; i < events.length; i++) {\n\t\t\tevent = events[i];\n\n\t\t\t// make copies and normalize by stripping timezone\n\t\t\teventStart = event.start.clone().stripZone();\n\t\t\teventEnd = calendar.getEventEnd(event).stripZone();\n\n\t\t\tranges.push({\n\t\t\t\tevent: event,\n\t\t\t\tstart: eventStart,\n\t\t\t\tend: eventEnd,\n\t\t\t\teventStartMS: +eventStart,\n\t\t\t\teventDurationMS: eventEnd - eventStart\n\t\t\t});\n\t\t}\n\n\t\treturn ranges;\n\t},\n\n\n\t// Converts an array of events, with inverse-background rendering, into an array of range objects.\n\t// The range objects will cover all the time NOT covered by the events.\n\teventsToInverseRanges: function(events) {\n\t\tvar view = this.view;\n\t\tvar viewStart = view.start.clone().stripZone(); // normalize timezone\n\t\tvar viewEnd = view.end.clone().stripZone(); // normalize timezone\n\t\tvar normalRanges = this.eventsToNormalRanges(events); // will give us normalized dates we can use w/o copies\n\t\tvar inverseRanges = [];\n\t\tvar event0 = events[0]; // assign this to each range's `.event`\n\t\tvar start = viewStart; // the end of the previous range. the start of the new range\n\t\tvar i, normalRange;\n\n\t\t// ranges need to be in order. required for our date-walking algorithm\n\t\tnormalRanges.sort(compareNormalRanges);\n\n\t\tfor (i = 0; i < normalRanges.length; i++) {\n\t\t\tnormalRange = normalRanges[i];\n\n\t\t\t// add the span of time before the event (if there is any)\n\t\t\tif (normalRange.start > start) { // compare millisecond time (skip any ambig logic)\n\t\t\t\tinverseRanges.push({\n\t\t\t\t\tevent: event0,\n\t\t\t\t\tstart: start,\n\t\t\t\t\tend: normalRange.start\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tstart = normalRange.end;\n\t\t}\n\n\t\t// add the span of time after the last event (if there is any)\n\t\tif (start < viewEnd) { // compare millisecond time (skip any ambig logic)\n\t\t\tinverseRanges.push({\n\t\t\t\tevent: event0,\n\t\t\t\tstart: start,\n\t\t\t\tend: viewEnd\n\t\t\t});\n\t\t}\n\n\t\treturn inverseRanges;\n\t},\n\n\n\t// Slices the given event range into one or more segment objects.\n\t// A `rangeToSegsFunc` custom slicing function can be given.\n\teventRangeToSegs: function(eventRange, rangeToSegsFunc) {\n\t\tvar segs;\n\t\tvar i, seg;\n\n\t\teventRange = this.view.calendar.ensureVisibleEventRange(eventRange);\n\n\t\tif (rangeToSegsFunc) {\n\t\t\tsegs = rangeToSegsFunc(eventRange);\n\t\t}\n\t\telse {\n\t\t\tsegs = this.rangeToSegs(eventRange); // defined by the subclass\n\t\t}\n\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tseg = segs[i];\n\t\t\tseg.event = eventRange.event;\n\t\t\tseg.eventStartMS = eventRange.eventStartMS;\n\t\t\tseg.eventDurationMS = eventRange.eventDurationMS;\n\t\t}\n\n\t\treturn segs;\n\t},\n\n\n\tsortSegs: function(segs) {\n\t\tsegs.sort(proxy(this, 'compareSegs'));\n\t},\n\n\n\t// A cmp function for determining which segments should take visual priority\n\t// DOES NOT WORK ON INVERTED BACKGROUND EVENTS because they have no eventStartMS/eventDurationMS\n\tcompareSegs: function(seg1, seg2) {\n\t\treturn seg1.eventStartMS - seg2.eventStartMS || // earlier events go first\n\t\t\tseg2.eventDurationMS - seg1.eventDurationMS || // tie? longer events go first\n\t\t\tseg2.event.allDay - seg1.event.allDay || // tie? put all-day events first (booleans cast to 0/1)\n\t\t\tcompareByFieldSpecs(seg1.event, seg2.event, this.view.eventOrderSpecs);\n\t}\n\n});\n\n\n/* Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n\n\nfunction isBgEvent(event) { // returns true if background OR inverse-background\n\tvar rendering = getEventRendering(event);\n\treturn rendering === 'background' || rendering === 'inverse-background';\n}\n\n\nfunction isInverseBgEvent(event) {\n\treturn getEventRendering(event) === 'inverse-background';\n}\n\n\nfunction getEventRendering(event) {\n\treturn firstDefined((event.source || {}).rendering, event.rendering);\n}\n\n\nfunction groupEventsById(events) {\n\tvar eventsById = {};\n\tvar i, event;\n\n\tfor (i = 0; i < events.length; i++) {\n\t\tevent = events[i];\n\t\t(eventsById[event._id] || (eventsById[event._id] = [])).push(event);\n\t}\n\n\treturn eventsById;\n}\n\n\n// A cmp function for determining which non-inverted \"ranges\" (see above) happen earlier\nfunction compareNormalRanges(range1, range2) {\n\treturn range1.eventStartMS - range2.eventStartMS; // earlier ranges go first\n}\n\n\n/* External-Dragging-Element Data\n----------------------------------------------------------------------------------------------------------------------*/\n\n// Require all HTML5 data-* attributes used by FullCalendar to have this prefix.\n// A value of '' will query attributes like data-event. A value of 'fc' will query attributes like data-fc-event.\nfc.dataAttrPrefix = '';\n\n// Given a jQuery element that might represent a dragged FullCalendar event, returns an intermediate data structure\n// to be used for Event Object creation.\n// A defined `.eventProps`, even when empty, indicates that an event should be created.\nfunction getDraggedElMeta(el) {\n\tvar prefix = fc.dataAttrPrefix;\n\tvar eventProps; // properties for creating the event, not related to date/time\n\tvar startTime; // a Duration\n\tvar duration;\n\tvar stick;\n\n\tif (prefix) { prefix += '-'; }\n\teventProps = el.data(prefix + 'event') || null;\n\n\tif (eventProps) {\n\t\tif (typeof eventProps === 'object') {\n\t\t\teventProps = $.extend({}, eventProps); // make a copy\n\t\t}\n\t\telse { // something like 1 or true. still signal event creation\n\t\t\teventProps = {};\n\t\t}\n\n\t\t// pluck special-cased date/time properties\n\t\tstartTime = eventProps.start;\n\t\tif (startTime == null) { startTime = eventProps.time; } // accept 'time' as well\n\t\tduration = eventProps.duration;\n\t\tstick = eventProps.stick;\n\t\tdelete eventProps.start;\n\t\tdelete eventProps.time;\n\t\tdelete eventProps.duration;\n\t\tdelete eventProps.stick;\n\t}\n\n\t// fallback to standalone attribute values for each of the date/time properties\n\tif (startTime == null) { startTime = el.data(prefix + 'start'); }\n\tif (startTime == null) { startTime = el.data(prefix + 'time'); } // accept 'time' as well\n\tif (duration == null) { duration = el.data(prefix + 'duration'); }\n\tif (stick == null) { stick = el.data(prefix + 'stick'); }\n\n\t// massage into correct data types\n\tstartTime = startTime != null ? moment.duration(startTime) : null;\n\tduration = duration != null ? moment.duration(duration) : null;\n\tstick = Boolean(stick);\n\n\treturn { eventProps: eventProps, startTime: startTime, duration: duration, stick: stick };\n}\n\n\n;;\n\n/* A component that renders a grid of whole-days that runs horizontally. There can be multiple rows, one per week.\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar DayGrid = Grid.extend({\n\n\tnumbersVisible: false, // should render a row for day/week numbers? set by outside view. TODO: make internal\n\tbottomCoordPadding: 0, // hack for extending the hit area for the last row of the coordinate grid\n\tbreakOnWeeks: null, // should create a new row for each week? set by outside view\n\n\tcellDates: null, // flat chronological array of each cell's dates\n\tdayToCellOffsets: null, // maps days offsets from grid's start date, to cell offsets\n\n\trowEls: null, // set of fake row elements\n\tdayEls: null, // set of whole-day elements comprising the row's background\n\thelperEls: null, // set of cell skeleton elements for rendering the mock event \"helper\"\n\n\n\tconstructor: function() {\n\t\tGrid.apply(this, arguments);\n\n\t\tthis.cellDuration = moment.duration(1, 'day'); // for Grid system\n\t},\n\n\n\t// Renders the rows and columns into the component's `this.el`, which should already be assigned.\n\t// isRigid determins whether the individual rows should ignore the contents and be a constant height.\n\t// Relies on the view's colCnt and rowCnt. In the future, this component should probably be self-sufficient.\n\trenderDates: function(isRigid) {\n\t\tvar view = this.view;\n\t\tvar rowCnt = this.rowCnt;\n\t\tvar colCnt = this.colCnt;\n\t\tvar cellCnt = rowCnt * colCnt;\n\t\tvar html = '';\n\t\tvar row;\n\t\tvar i, cell;\n\n\t\tfor (row = 0; row < rowCnt; row++) {\n\t\t\thtml += this.dayRowHtml(row, isRigid);\n\t\t}\n\t\tthis.el.html(html);\n\n\t\tthis.rowEls = this.el.find('.fc-row');\n\t\tthis.dayEls = this.el.find('.fc-day');\n\n\t\t// trigger dayRender with each cell's element\n\t\tfor (i = 0; i < cellCnt; i++) {\n\t\t\tcell = this.getCell(i);\n\t\t\tview.trigger('dayRender', null, cell.start, this.dayEls.eq(i));\n\t\t}\n\t},\n\n\n\tunrenderDates: function() {\n\t\tthis.removeSegPopover();\n\t},\n\n\n\trenderBusinessHours: function() {\n\t\tvar events = this.view.calendar.getBusinessHoursEvents(true); // wholeDay=true\n\t\tvar segs = this.eventsToSegs(events);\n\n\t\tthis.renderFill('businessHours', segs, 'bgevent');\n\t},\n\n\n\t// Generates the HTML for a single row. `row` is the row number.\n\tdayRowHtml: function(row, isRigid) {\n\t\tvar view = this.view;\n\t\tvar classes = [ 'fc-row', 'fc-week', view.widgetContentClass ];\n\n\t\tif (isRigid) {\n\t\t\tclasses.push('fc-rigid');\n\t\t}\n\n\t\treturn '' +\n\t\t\t'<div class=\"' + classes.join(' ') + '\">' +\n\t\t\t\t'<div class=\"fc-bg\">' +\n\t\t\t\t\t'<table>' +\n\t\t\t\t\t\tthis.rowHtml('day', row) + // leverages RowRenderer. calls dayCellHtml()\n\t\t\t\t\t'</table>' +\n\t\t\t\t'</div>' +\n\t\t\t\t'<div class=\"fc-content-skeleton\">' +\n\t\t\t\t\t'<table>' +\n\t\t\t\t\t\t(this.numbersVisible ?\n\t\t\t\t\t\t\t'<thead>' +\n\t\t\t\t\t\t\t\tthis.rowHtml('number', row) + // leverages RowRenderer. View will define render method\n\t\t\t\t\t\t\t'</thead>' :\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t) +\n\t\t\t\t\t'</table>' +\n\t\t\t\t'</div>' +\n\t\t\t'</div>';\n\t},\n\n\n\t// Renders the HTML for a whole-day cell. Will eventually end up in the day-row's background.\n\t// We go through a 'day' row type instead of just doing a 'bg' row type so that the View can do custom rendering\n\t// specifically for whole-day rows, whereas a 'bg' might also be used for other purposes (TimeGrid bg for example).\n\tdayCellHtml: function(cell) {\n\t\treturn this.bgCellHtml(cell);\n\t},\n\n\n\t/* Options\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Computes a default column header formatting string if `colFormat` is not explicitly defined\n\tcomputeColHeadFormat: function() {\n\t\tif (this.rowCnt > 1) { // more than one week row. day numbers will be in each cell\n\t\t\treturn 'ddd'; // \"Sat\"\n\t\t}\n\t\telse if (this.colCnt > 1) { // multiple days, so full single date string WON'T be in title text\n\t\t\treturn this.view.opt('dayOfMonthFormat'); // \"Sat 12/10\"\n\t\t}\n\t\telse { // single day, so full single date string will probably be in title text\n\t\t\treturn 'dddd'; // \"Saturday\"\n\t\t}\n\t},\n\n\n\t// Computes a default event time formatting string if `timeFormat` is not explicitly defined\n\tcomputeEventTimeFormat: function() {\n\t\treturn this.view.opt('extraSmallTimeFormat'); // like \"6p\" or \"6:30p\"\n\t},\n\n\n\t// Computes a default `displayEventEnd` value if one is not expliclty defined\n\tcomputeDisplayEventEnd: function() {\n\t\treturn this.colCnt == 1; // we'll likely have space if there's only one day\n\t},\n\n\n\t/* Cell System\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\trangeUpdated: function() {\n\t\tvar cellDates;\n\t\tvar firstDay;\n\t\tvar rowCnt;\n\t\tvar colCnt;\n\n\t\tthis.updateCellDates(); // populates cellDates and dayToCellOffsets\n\t\tcellDates = this.cellDates;\n\n\t\tif (this.breakOnWeeks) {\n\t\t\t// count columns until the day-of-week repeats\n\t\t\tfirstDay = cellDates[0].day();\n\t\t\tfor (colCnt = 1; colCnt < cellDates.length; colCnt++) {\n\t\t\t\tif (cellDates[colCnt].day() == firstDay) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\trowCnt = Math.ceil(cellDates.length / colCnt);\n\t\t}\n\t\telse {\n\t\t\trowCnt = 1;\n\t\t\tcolCnt = cellDates.length;\n\t\t}\n\n\t\tthis.rowCnt = rowCnt;\n\t\tthis.colCnt = colCnt;\n\t},\n\n\n\t// Populates cellDates and dayToCellOffsets\n\tupdateCellDates: function() {\n\t\tvar view = this.view;\n\t\tvar date = this.start.clone();\n\t\tvar dates = [];\n\t\tvar offset = -1;\n\t\tvar offsets = [];\n\n\t\twhile (date.isBefore(this.end)) { // loop each day from start to end\n\t\t\tif (view.isHiddenDay(date)) {\n\t\t\t\toffsets.push(offset + 0.5); // mark that it's between offsets\n\t\t\t}\n\t\t\telse {\n\t\t\t\toffset++;\n\t\t\t\toffsets.push(offset);\n\t\t\t\tdates.push(date.clone());\n\t\t\t}\n\t\t\tdate.add(1, 'days');\n\t\t}\n\n\t\tthis.cellDates = dates;\n\t\tthis.dayToCellOffsets = offsets;\n\t},\n\n\n\t// Given a cell object, generates its start date. Returns a reference-free copy.\n\tcomputeCellDate: function(cell) {\n\t\tvar colCnt = this.colCnt;\n\t\tvar index = cell.row * colCnt + (this.isRTL ? colCnt - cell.col - 1 : cell.col);\n\n\t\treturn this.cellDates[index].clone();\n\t},\n\n\n\t// Retrieves the element representing the given row\n\tgetRowEl: function(row) {\n\t\treturn this.rowEls.eq(row);\n\t},\n\n\n\t// Retrieves the element representing the given column\n\tgetColEl: function(col) {\n\t\treturn this.dayEls.eq(col);\n\t},\n\n\n\t// Gets the whole-day element associated with the cell\n\tgetCellDayEl: function(cell) {\n\t\treturn this.dayEls.eq(cell.row * this.colCnt + cell.col);\n\t},\n\n\n\t// Overrides Grid's method for when row coordinates are computed\n\tcomputeRowCoords: function() {\n\t\tvar rowCoords = Grid.prototype.computeRowCoords.call(this); // call the super-method\n\n\t\t// hack for extending last row (used by AgendaView)\n\t\trowCoords[rowCoords.length - 1].bottom += this.bottomCoordPadding;\n\n\t\treturn rowCoords;\n\t},\n\n\n\t/* Dates\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Slices up a date range by row into an array of segments\n\trangeToSegs: function(range) {\n\t\tvar isRTL = this.isRTL;\n\t\tvar rowCnt = this.rowCnt;\n\t\tvar colCnt = this.colCnt;\n\t\tvar segs = [];\n\t\tvar first, last; // inclusive cell-offset range for given range\n\t\tvar row;\n\t\tvar rowFirst, rowLast; // inclusive cell-offset range for current row\n\t\tvar isStart, isEnd;\n\t\tvar segFirst, segLast; // inclusive cell-offset range for segment\n\t\tvar seg;\n\n\t\trange = this.view.computeDayRange(range); // make whole-day range, considering nextDayThreshold\n\t\tfirst = this.dateToCellOffset(range.start);\n\t\tlast = this.dateToCellOffset(range.end.subtract(1, 'days')); // offset of inclusive end date\n\n\t\tfor (row = 0; row < rowCnt; row++) {\n\t\t\trowFirst = row * colCnt;\n\t\t\trowLast = rowFirst + colCnt - 1;\n\n\t\t\t// intersect segment's offset range with the row's\n\t\t\tsegFirst = Math.max(rowFirst, first);\n\t\t\tsegLast = Math.min(rowLast, last);\n\n\t\t\t// deal with in-between indices\n\t\t\tsegFirst = Math.ceil(segFirst); // in-between starts round to next cell\n\t\t\tsegLast = Math.floor(segLast); // in-between ends round to prev cell\n\n\t\t\tif (segFirst <= segLast) { // was there any intersection with the current row?\n\n\t\t\t\t// must be matching integers to be the segment's start/end\n\t\t\t\tisStart = segFirst === first;\n\t\t\t\tisEnd = segLast === last;\n\n\t\t\t\t// translate offsets to be relative to start-of-row\n\t\t\t\tsegFirst -= rowFirst;\n\t\t\t\tsegLast -= rowFirst;\n\n\t\t\t\tseg = { row: row, isStart: isStart, isEnd: isEnd };\n\t\t\t\tif (isRTL) {\n\t\t\t\t\tseg.leftCol = colCnt - segLast - 1;\n\t\t\t\t\tseg.rightCol = colCnt - segFirst - 1;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tseg.leftCol = segFirst;\n\t\t\t\t\tseg.rightCol = segLast;\n\t\t\t\t}\n\t\t\t\tsegs.push(seg);\n\t\t\t}\n\t\t}\n\n\t\treturn segs;\n\t},\n\n\n\t// Given a date, returns its chronolocial cell-offset from the first cell of the grid.\n\t// If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n\t// If before the first offset, returns a negative number.\n\t// If after the last offset, returns an offset past the last cell offset.\n\t// Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n\tdateToCellOffset: function(date) {\n\t\tvar offsets = this.dayToCellOffsets;\n\t\tvar day = date.diff(this.start, 'days');\n\n\t\tif (day < 0) {\n\t\t\treturn offsets[0] - 1;\n\t\t}\n\t\telse if (day >= offsets.length) {\n\t\t\treturn offsets[offsets.length - 1] + 1;\n\t\t}\n\t\telse {\n\t\t\treturn offsets[day];\n\t\t}\n\t},\n\n\n\t/* Event Drag Visualization\n\t------------------------------------------------------------------------------------------------------------------*/\n\t// TODO: move to DayGrid.event, similar to what we did with Grid's drag methods\n\n\n\t// Renders a visual indication of an event or external element being dragged.\n\t// The dropLocation's end can be null. seg can be null. See Grid::renderDrag for more info.\n\trenderDrag: function(dropLocation, seg) {\n\n\t\t// always render a highlight underneath\n\t\tthis.renderHighlight(this.eventRangeToSegs(dropLocation));\n\n\t\t// if a segment from the same calendar but another component is being dragged, render a helper event\n\t\tif (seg && !seg.el.closest(this.el).length) {\n\n\t\t\tthis.renderRangeHelper(dropLocation, seg);\n\t\t\tthis.applyDragOpacity(this.helperEls);\n\n\t\t\treturn true; // a helper has been rendered\n\t\t}\n\t},\n\n\n\t// Unrenders any visual indication of a hovering event\n\tunrenderDrag: function() {\n\t\tthis.unrenderHighlight();\n\t\tthis.unrenderHelper();\n\t},\n\n\n\t/* Event Resize Visualization\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of an event being resized\n\trenderEventResize: function(range, seg) {\n\t\tthis.renderHighlight(this.eventRangeToSegs(range));\n\t\tthis.renderRangeHelper(range, seg);\n\t},\n\n\n\t// Unrenders a visual indication of an event being resized\n\tunrenderEventResize: function() {\n\t\tthis.unrenderHighlight();\n\t\tthis.unrenderHelper();\n\t},\n\n\n\t/* Event Helper\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a mock \"helper\" event. `sourceSeg` is the associated internal segment object. It can be null.\n\trenderHelper: function(event, sourceSeg) {\n\t\tvar helperNodes = [];\n\t\tvar segs = this.eventsToSegs([ event ]);\n\t\tvar rowStructs;\n\n\t\tsegs = this.renderFgSegEls(segs); // assigns each seg's el and returns a subset of segs that were rendered\n\t\trowStructs = this.renderSegRows(segs);\n\n\t\t// inject each new event skeleton into each associated row\n\t\tthis.rowEls.each(function(row, rowNode) {\n\t\t\tvar rowEl = $(rowNode); // the .fc-row\n\t\t\tvar skeletonEl = $('<div class=\"fc-helper-skeleton\"><table/></div>'); // will be absolutely positioned\n\t\t\tvar skeletonTop;\n\n\t\t\t// If there is an original segment, match the top position. Otherwise, put it at the row's top level\n\t\t\tif (sourceSeg && sourceSeg.row === row) {\n\t\t\t\tskeletonTop = sourceSeg.el.position().top;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tskeletonTop = rowEl.find('.fc-content-skeleton tbody').position().top;\n\t\t\t}\n\n\t\t\tskeletonEl.css('top', skeletonTop)\n\t\t\t\t.find('table')\n\t\t\t\t\t.append(rowStructs[row].tbodyEl);\n\n\t\t\trowEl.append(skeletonEl);\n\t\t\thelperNodes.push(skeletonEl[0]);\n\t\t});\n\n\t\tthis.helperEls = $(helperNodes); // array -> jQuery set\n\t},\n\n\n\t// Unrenders any visual indication of a mock helper event\n\tunrenderHelper: function() {\n\t\tif (this.helperEls) {\n\t\t\tthis.helperEls.remove();\n\t\t\tthis.helperEls = null;\n\t\t}\n\t},\n\n\n\t/* Fill System (highlight, background events, business hours)\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\tfillSegTag: 'td', // override the default tag name\n\n\n\t// Renders a set of rectangles over the given segments of days.\n\t// Only returns segments that successfully rendered.\n\trenderFill: function(type, segs, className) {\n\t\tvar nodes = [];\n\t\tvar i, seg;\n\t\tvar skeletonEl;\n\n\t\tsegs = this.renderFillSegEls(type, segs); // assignes `.el` to each seg. returns successfully rendered segs\n\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tseg = segs[i];\n\t\t\tskeletonEl = this.renderFillRow(type, seg, className);\n\t\t\tthis.rowEls.eq(seg.row).append(skeletonEl);\n\t\t\tnodes.push(skeletonEl[0]);\n\t\t}\n\n\t\tthis.elsByFill[type] = $(nodes);\n\n\t\treturn segs;\n\t},\n\n\n\t// Generates the HTML needed for one row of a fill. Requires the seg's el to be rendered.\n\trenderFillRow: function(type, seg, className) {\n\t\tvar colCnt = this.colCnt;\n\t\tvar startCol = seg.leftCol;\n\t\tvar endCol = seg.rightCol + 1;\n\t\tvar skeletonEl;\n\t\tvar trEl;\n\n\t\tclassName = className || type.toLowerCase();\n\n\t\tskeletonEl = $(\n\t\t\t'<div class=\"fc-' + className + '-skeleton\">' +\n\t\t\t\t'<table><tr/></table>' +\n\t\t\t'</div>'\n\t\t);\n\t\ttrEl = skeletonEl.find('tr');\n\n\t\tif (startCol > 0) {\n\t\t\ttrEl.append('<td colspan=\"' + startCol + '\"/>');\n\t\t}\n\n\t\ttrEl.append(\n\t\t\tseg.el.attr('colspan', endCol - startCol)\n\t\t);\n\n\t\tif (endCol < colCnt) {\n\t\t\ttrEl.append('<td colspan=\"' + (colCnt - endCol) + '\"/>');\n\t\t}\n\n\t\tthis.bookendCells(trEl, type);\n\n\t\treturn skeletonEl;\n\t}\n\n});\n\n;;\n\n/* Event-rendering methods for the DayGrid class\n----------------------------------------------------------------------------------------------------------------------*/\n\nDayGrid.mixin({\n\n\trowStructs: null, // an array of objects, each holding information about a row's foreground event-rendering\n\n\n\t// Unrenders all events currently rendered on the grid\n\tunrenderEvents: function() {\n\t\tthis.removeSegPopover(); // removes the \"more..\" events popover\n\t\tGrid.prototype.unrenderEvents.apply(this, arguments); // calls the super-method\n\t},\n\n\n\t// Retrieves all rendered segment objects currently rendered on the grid\n\tgetEventSegs: function() {\n\t\treturn Grid.prototype.getEventSegs.call(this) // get the segments from the super-method\n\t\t\t.concat(this.popoverSegs || []); // append the segments from the \"more...\" popover\n\t},\n\n\n\t// Renders the given background event segments onto the grid\n\trenderBgSegs: function(segs) {\n\n\t\t// don't render timed background events\n\t\tvar allDaySegs = $.grep(segs, function(seg) {\n\t\t\treturn seg.event.allDay;\n\t\t});\n\n\t\treturn Grid.prototype.renderBgSegs.call(this, allDaySegs); // call the super-method\n\t},\n\n\n\t// Renders the given foreground event segments onto the grid\n\trenderFgSegs: function(segs) {\n\t\tvar rowStructs;\n\n\t\t// render an `.el` on each seg\n\t\t// returns a subset of the segs. segs that were actually rendered\n\t\tsegs = this.renderFgSegEls(segs);\n\n\t\trowStructs = this.rowStructs = this.renderSegRows(segs);\n\n\t\t// append to each row's content skeleton\n\t\tthis.rowEls.each(function(i, rowNode) {\n\t\t\t$(rowNode).find('.fc-content-skeleton > table').append(\n\t\t\t\trowStructs[i].tbodyEl\n\t\t\t);\n\t\t});\n\n\t\treturn segs; // return only the segs that were actually rendered\n\t},\n\n\n\t// Unrenders all currently rendered foreground event segments\n\tunrenderFgSegs: function() {\n\t\tvar rowStructs = this.rowStructs || [];\n\t\tvar rowStruct;\n\n\t\twhile ((rowStruct = rowStructs.pop())) {\n\t\t\trowStruct.tbodyEl.remove();\n\t\t}\n\n\t\tthis.rowStructs = null;\n\t},\n\n\n\t// Uses the given events array to generate <tbody> elements that should be appended to each row's content skeleton.\n\t// Returns an array of rowStruct objects (see the bottom of `renderSegRow`).\n\t// PRECONDITION: each segment shoud already have a rendered and assigned `.el`\n\trenderSegRows: function(segs) {\n\t\tvar rowStructs = [];\n\t\tvar segRows;\n\t\tvar row;\n\n\t\tsegRows = this.groupSegRows(segs); // group into nested arrays\n\n\t\t// iterate each row of segment groupings\n\t\tfor (row = 0; row < segRows.length; row++) {\n\t\t\trowStructs.push(\n\t\t\t\tthis.renderSegRow(row, segRows[row])\n\t\t\t);\n\t\t}\n\n\t\treturn rowStructs;\n\t},\n\n\n\t// Builds the HTML to be used for the default element for an individual segment\n\tfgSegHtml: function(seg, disableResizing) {\n\t\tvar view = this.view;\n\t\tvar event = seg.event;\n\t\tvar isDraggable = view.isEventDraggable(event);\n\t\tvar isResizableFromStart = !disableResizing && event.allDay &&\n\t\t\tseg.isStart && view.isEventResizableFromStart(event);\n\t\tvar isResizableFromEnd = !disableResizing && event.allDay &&\n\t\t\tseg.isEnd && view.isEventResizableFromEnd(event);\n\t\tvar classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd);\n\t\tvar skinCss = cssToStr(this.getEventSkinCss(event));\n\t\tvar timeHtml = '';\n\t\tvar timeText;\n\t\tvar titleHtml;\n\n\t\tclasses.unshift('fc-day-grid-event', 'fc-h-event');\n\n\t\t// Only display a timed events time if it is the starting segment\n\t\tif (seg.isStart) {\n\t\t\ttimeText = this.getEventTimeText(event);\n\t\t\tif (timeText) {\n\t\t\t\ttimeHtml = '<span class=\"fc-time\">' + htmlEscape(timeText) + '</span>';\n\t\t\t}\n\t\t}\n\n\t\ttitleHtml =\n\t\t\t'<span class=\"fc-title\">' +\n\t\t\t\t(htmlEscape(event.title || '') || '&nbsp;') + // we always want one line of height\n\t\t\t'</span>';\n\t\t\n\t\treturn '<a class=\"' + classes.join(' ') + '\"' +\n\t\t\t\t(event.url ?\n\t\t\t\t\t' href=\"' + htmlEscape(event.url) + '\"' :\n\t\t\t\t\t''\n\t\t\t\t\t) +\n\t\t\t\t(skinCss ?\n\t\t\t\t\t' style=\"' + skinCss + '\"' :\n\t\t\t\t\t''\n\t\t\t\t\t) +\n\t\t\t'>' +\n\t\t\t\t'<div class=\"fc-content\">' +\n\t\t\t\t\t(this.isRTL ?\n\t\t\t\t\t\ttitleHtml + ' ' + timeHtml : // put a natural space in between\n\t\t\t\t\t\ttimeHtml + ' ' + titleHtml   //\n\t\t\t\t\t\t) +\n\t\t\t\t'</div>' +\n\t\t\t\t(isResizableFromStart ?\n\t\t\t\t\t'<div class=\"fc-resizer fc-start-resizer\" />' :\n\t\t\t\t\t''\n\t\t\t\t\t) +\n\t\t\t\t(isResizableFromEnd ?\n\t\t\t\t\t'<div class=\"fc-resizer fc-end-resizer\" />' :\n\t\t\t\t\t''\n\t\t\t\t\t) +\n\t\t\t'</a>';\n\t},\n\n\n\t// Given a row # and an array of segments all in the same row, render a <tbody> element, a skeleton that contains\n\t// the segments. Returns object with a bunch of internal data about how the render was calculated.\n\t// NOTE: modifies rowSegs\n\trenderSegRow: function(row, rowSegs) {\n\t\tvar colCnt = this.colCnt;\n\t\tvar segLevels = this.buildSegLevels(rowSegs); // group into sub-arrays of levels\n\t\tvar levelCnt = Math.max(1, segLevels.length); // ensure at least one level\n\t\tvar tbody = $('<tbody/>');\n\t\tvar segMatrix = []; // lookup for which segments are rendered into which level+col cells\n\t\tvar cellMatrix = []; // lookup for all <td> elements of the level+col matrix\n\t\tvar loneCellMatrix = []; // lookup for <td> elements that only take up a single column\n\t\tvar i, levelSegs;\n\t\tvar col;\n\t\tvar tr;\n\t\tvar j, seg;\n\t\tvar td;\n\n\t\t// populates empty cells from the current column (`col`) to `endCol`\n\t\tfunction emptyCellsUntil(endCol) {\n\t\t\twhile (col < endCol) {\n\t\t\t\t// try to grab a cell from the level above and extend its rowspan. otherwise, create a fresh cell\n\t\t\t\ttd = (loneCellMatrix[i - 1] || [])[col];\n\t\t\t\tif (td) {\n\t\t\t\t\ttd.attr(\n\t\t\t\t\t\t'rowspan',\n\t\t\t\t\t\tparseInt(td.attr('rowspan') || 1, 10) + 1\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttd = $('<td/>');\n\t\t\t\t\ttr.append(td);\n\t\t\t\t}\n\t\t\t\tcellMatrix[i][col] = td;\n\t\t\t\tloneCellMatrix[i][col] = td;\n\t\t\t\tcol++;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < levelCnt; i++) { // iterate through all levels\n\t\t\tlevelSegs = segLevels[i];\n\t\t\tcol = 0;\n\t\t\ttr = $('<tr/>');\n\n\t\t\tsegMatrix.push([]);\n\t\t\tcellMatrix.push([]);\n\t\t\tloneCellMatrix.push([]);\n\n\t\t\t// levelCnt might be 1 even though there are no actual levels. protect against this.\n\t\t\t// this single empty row is useful for styling.\n\t\t\tif (levelSegs) {\n\t\t\t\tfor (j = 0; j < levelSegs.length; j++) { // iterate through segments in level\n\t\t\t\t\tseg = levelSegs[j];\n\n\t\t\t\t\temptyCellsUntil(seg.leftCol);\n\n\t\t\t\t\t// create a container that occupies or more columns. append the event element.\n\t\t\t\t\ttd = $('<td class=\"fc-event-container\"/>').append(seg.el);\n\t\t\t\t\tif (seg.leftCol != seg.rightCol) {\n\t\t\t\t\t\ttd.attr('colspan', seg.rightCol - seg.leftCol + 1);\n\t\t\t\t\t}\n\t\t\t\t\telse { // a single-column segment\n\t\t\t\t\t\tloneCellMatrix[i][col] = td;\n\t\t\t\t\t}\n\n\t\t\t\t\twhile (col <= seg.rightCol) {\n\t\t\t\t\t\tcellMatrix[i][col] = td;\n\t\t\t\t\t\tsegMatrix[i][col] = seg;\n\t\t\t\t\t\tcol++;\n\t\t\t\t\t}\n\n\t\t\t\t\ttr.append(td);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\temptyCellsUntil(colCnt); // finish off the row\n\t\t\tthis.bookendCells(tr, 'eventSkeleton');\n\t\t\ttbody.append(tr);\n\t\t}\n\n\t\treturn { // a \"rowStruct\"\n\t\t\trow: row, // the row number\n\t\t\ttbodyEl: tbody,\n\t\t\tcellMatrix: cellMatrix,\n\t\t\tsegMatrix: segMatrix,\n\t\t\tsegLevels: segLevels,\n\t\t\tsegs: rowSegs\n\t\t};\n\t},\n\n\n\t// Stacks a flat array of segments, which are all assumed to be in the same row, into subarrays of vertical levels.\n\t// NOTE: modifies segs\n\tbuildSegLevels: function(segs) {\n\t\tvar levels = [];\n\t\tvar i, seg;\n\t\tvar j;\n\n\t\t// Give preference to elements with certain criteria, so they have\n\t\t// a chance to be closer to the top.\n\t\tthis.sortSegs(segs);\n\t\t\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tseg = segs[i];\n\n\t\t\t// loop through levels, starting with the topmost, until the segment doesn't collide with other segments\n\t\t\tfor (j = 0; j < levels.length; j++) {\n\t\t\t\tif (!isDaySegCollision(seg, levels[j])) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// `j` now holds the desired subrow index\n\t\t\tseg.level = j;\n\n\t\t\t// create new level array if needed and append segment\n\t\t\t(levels[j] || (levels[j] = [])).push(seg);\n\t\t}\n\n\t\t// order segments left-to-right. very important if calendar is RTL\n\t\tfor (j = 0; j < levels.length; j++) {\n\t\t\tlevels[j].sort(compareDaySegCols);\n\t\t}\n\n\t\treturn levels;\n\t},\n\n\n\t// Given a flat array of segments, return an array of sub-arrays, grouped by each segment's row\n\tgroupSegRows: function(segs) {\n\t\tvar segRows = [];\n\t\tvar i;\n\n\t\tfor (i = 0; i < this.rowCnt; i++) {\n\t\t\tsegRows.push([]);\n\t\t}\n\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tsegRows[segs[i].row].push(segs[i]);\n\t\t}\n\n\t\treturn segRows;\n\t}\n\n});\n\n\n// Computes whether two segments' columns collide. They are assumed to be in the same row.\nfunction isDaySegCollision(seg, otherSegs) {\n\tvar i, otherSeg;\n\n\tfor (i = 0; i < otherSegs.length; i++) {\n\t\totherSeg = otherSegs[i];\n\n\t\tif (\n\t\t\totherSeg.leftCol <= seg.rightCol &&\n\t\t\totherSeg.rightCol >= seg.leftCol\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\n\n// A cmp function for determining the leftmost event\nfunction compareDaySegCols(a, b) {\n\treturn a.leftCol - b.leftCol;\n}\n\n;;\n\n/* Methods relate to limiting the number events for a given day on a DayGrid\n----------------------------------------------------------------------------------------------------------------------*/\n// NOTE: all the segs being passed around in here are foreground segs\n\nDayGrid.mixin({\n\n\tsegPopover: null, // the Popover that holds events that can't fit in a cell. null when not visible\n\tpopoverSegs: null, // an array of segment objects that the segPopover holds. null when not visible\n\n\n\tremoveSegPopover: function() {\n\t\tif (this.segPopover) {\n\t\t\tthis.segPopover.hide(); // in handler, will call segPopover's removeElement\n\t\t}\n\t},\n\n\n\t// Limits the number of \"levels\" (vertically stacking layers of events) for each row of the grid.\n\t// `levelLimit` can be false (don't limit), a number, or true (should be computed).\n\tlimitRows: function(levelLimit) {\n\t\tvar rowStructs = this.rowStructs || [];\n\t\tvar row; // row #\n\t\tvar rowLevelLimit;\n\n\t\tfor (row = 0; row < rowStructs.length; row++) {\n\t\t\tthis.unlimitRow(row);\n\n\t\t\tif (!levelLimit) {\n\t\t\t\trowLevelLimit = false;\n\t\t\t}\n\t\t\telse if (typeof levelLimit === 'number') {\n\t\t\t\trowLevelLimit = levelLimit;\n\t\t\t}\n\t\t\telse {\n\t\t\t\trowLevelLimit = this.computeRowLevelLimit(row);\n\t\t\t}\n\n\t\t\tif (rowLevelLimit !== false) {\n\t\t\t\tthis.limitRow(row, rowLevelLimit);\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Computes the number of levels a row will accomodate without going outside its bounds.\n\t// Assumes the row is \"rigid\" (maintains a constant height regardless of what is inside).\n\t// `row` is the row number.\n\tcomputeRowLevelLimit: function(row) {\n\t\tvar rowEl = this.rowEls.eq(row); // the containing \"fake\" row div\n\t\tvar rowHeight = rowEl.height(); // TODO: cache somehow?\n\t\tvar trEls = this.rowStructs[row].tbodyEl.children();\n\t\tvar i, trEl;\n\t\tvar trHeight;\n\n\t\tfunction iterInnerHeights(i, childNode) {\n\t\t\ttrHeight = Math.max(trHeight, $(childNode).outerHeight());\n\t\t}\n\n\t\t// Reveal one level <tr> at a time and stop when we find one out of bounds\n\t\tfor (i = 0; i < trEls.length; i++) {\n\t\t\ttrEl = trEls.eq(i).removeClass('fc-limited'); // reset to original state (reveal)\n\n\t\t\t// with rowspans>1 and IE8, trEl.outerHeight() would return the height of the largest cell,\n\t\t\t// so instead, find the tallest inner content element.\n\t\t\ttrHeight = 0;\n\t\t\ttrEl.find('> td > :first-child').each(iterInnerHeights);\n\n\t\t\tif (trEl.position().top + trHeight > rowHeight) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn false; // should not limit at all\n\t},\n\n\n\t// Limits the given grid row to the maximum number of levels and injects \"more\" links if necessary.\n\t// `row` is the row number.\n\t// `levelLimit` is a number for the maximum (inclusive) number of levels allowed.\n\tlimitRow: function(row, levelLimit) {\n\t\tvar _this = this;\n\t\tvar rowStruct = this.rowStructs[row];\n\t\tvar moreNodes = []; // array of \"more\" <a> links and <td> DOM nodes\n\t\tvar col = 0; // col #, left-to-right (not chronologically)\n\t\tvar cell;\n\t\tvar levelSegs; // array of segment objects in the last allowable level, ordered left-to-right\n\t\tvar cellMatrix; // a matrix (by level, then column) of all <td> jQuery elements in the row\n\t\tvar limitedNodes; // array of temporarily hidden level <tr> and segment <td> DOM nodes\n\t\tvar i, seg;\n\t\tvar segsBelow; // array of segment objects below `seg` in the current `col`\n\t\tvar totalSegsBelow; // total number of segments below `seg` in any of the columns `seg` occupies\n\t\tvar colSegsBelow; // array of segment arrays, below seg, one for each column (offset from segs's first column)\n\t\tvar td, rowspan;\n\t\tvar segMoreNodes; // array of \"more\" <td> cells that will stand-in for the current seg's cell\n\t\tvar j;\n\t\tvar moreTd, moreWrap, moreLink;\n\n\t\t// Iterates through empty level cells and places \"more\" links inside if need be\n\t\tfunction emptyCellsUntil(endCol) { // goes from current `col` to `endCol`\n\t\t\twhile (col < endCol) {\n\t\t\t\tcell = _this.getCell(row, col);\n\t\t\t\tsegsBelow = _this.getCellSegs(cell, levelLimit);\n\t\t\t\tif (segsBelow.length) {\n\t\t\t\t\ttd = cellMatrix[levelLimit - 1][col];\n\t\t\t\t\tmoreLink = _this.renderMoreLink(cell, segsBelow);\n\t\t\t\t\tmoreWrap = $('<div/>').append(moreLink);\n\t\t\t\t\ttd.append(moreWrap);\n\t\t\t\t\tmoreNodes.push(moreWrap[0]);\n\t\t\t\t}\n\t\t\t\tcol++;\n\t\t\t}\n\t\t}\n\n\t\tif (levelLimit && levelLimit < rowStruct.segLevels.length) { // is it actually over the limit?\n\t\t\tlevelSegs = rowStruct.segLevels[levelLimit - 1];\n\t\t\tcellMatrix = rowStruct.cellMatrix;\n\n\t\t\tlimitedNodes = rowStruct.tbodyEl.children().slice(levelLimit) // get level <tr> elements past the limit\n\t\t\t\t.addClass('fc-limited').get(); // hide elements and get a simple DOM-nodes array\n\n\t\t\t// iterate though segments in the last allowable level\n\t\t\tfor (i = 0; i < levelSegs.length; i++) {\n\t\t\t\tseg = levelSegs[i];\n\t\t\t\temptyCellsUntil(seg.leftCol); // process empty cells before the segment\n\n\t\t\t\t// determine *all* segments below `seg` that occupy the same columns\n\t\t\t\tcolSegsBelow = [];\n\t\t\t\ttotalSegsBelow = 0;\n\t\t\t\twhile (col <= seg.rightCol) {\n\t\t\t\t\tcell = this.getCell(row, col);\n\t\t\t\t\tsegsBelow = this.getCellSegs(cell, levelLimit);\n\t\t\t\t\tcolSegsBelow.push(segsBelow);\n\t\t\t\t\ttotalSegsBelow += segsBelow.length;\n\t\t\t\t\tcol++;\n\t\t\t\t}\n\n\t\t\t\tif (totalSegsBelow) { // do we need to replace this segment with one or many \"more\" links?\n\t\t\t\t\ttd = cellMatrix[levelLimit - 1][seg.leftCol]; // the segment's parent cell\n\t\t\t\t\trowspan = td.attr('rowspan') || 1;\n\t\t\t\t\tsegMoreNodes = [];\n\n\t\t\t\t\t// make a replacement <td> for each column the segment occupies. will be one for each colspan\n\t\t\t\t\tfor (j = 0; j < colSegsBelow.length; j++) {\n\t\t\t\t\t\tmoreTd = $('<td class=\"fc-more-cell\"/>').attr('rowspan', rowspan);\n\t\t\t\t\t\tsegsBelow = colSegsBelow[j];\n\t\t\t\t\t\tcell = this.getCell(row, seg.leftCol + j);\n\t\t\t\t\t\tmoreLink = this.renderMoreLink(cell, [ seg ].concat(segsBelow)); // count seg as hidden too\n\t\t\t\t\t\tmoreWrap = $('<div/>').append(moreLink);\n\t\t\t\t\t\tmoreTd.append(moreWrap);\n\t\t\t\t\t\tsegMoreNodes.push(moreTd[0]);\n\t\t\t\t\t\tmoreNodes.push(moreTd[0]);\n\t\t\t\t\t}\n\n\t\t\t\t\ttd.addClass('fc-limited').after($(segMoreNodes)); // hide original <td> and inject replacements\n\t\t\t\t\tlimitedNodes.push(td[0]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\temptyCellsUntil(this.colCnt); // finish off the level\n\t\t\trowStruct.moreEls = $(moreNodes); // for easy undoing later\n\t\t\trowStruct.limitedEls = $(limitedNodes); // for easy undoing later\n\t\t}\n\t},\n\n\n\t// Reveals all levels and removes all \"more\"-related elements for a grid's row.\n\t// `row` is a row number.\n\tunlimitRow: function(row) {\n\t\tvar rowStruct = this.rowStructs[row];\n\n\t\tif (rowStruct.moreEls) {\n\t\t\trowStruct.moreEls.remove();\n\t\t\trowStruct.moreEls = null;\n\t\t}\n\n\t\tif (rowStruct.limitedEls) {\n\t\t\trowStruct.limitedEls.removeClass('fc-limited');\n\t\t\trowStruct.limitedEls = null;\n\t\t}\n\t},\n\n\n\t// Renders an <a> element that represents hidden event element for a cell.\n\t// Responsible for attaching click handler as well.\n\trenderMoreLink: function(cell, hiddenSegs) {\n\t\tvar _this = this;\n\t\tvar view = this.view;\n\n\t\treturn $('<a class=\"fc-more\"/>')\n\t\t\t.text(\n\t\t\t\tthis.getMoreLinkText(hiddenSegs.length)\n\t\t\t)\n\t\t\t.on('click', function(ev) {\n\t\t\t\tvar clickOption = view.opt('eventLimitClick');\n\t\t\t\tvar date = cell.start;\n\t\t\t\tvar moreEl = $(this);\n\t\t\t\tvar dayEl = _this.getCellDayEl(cell);\n\t\t\t\tvar allSegs = _this.getCellSegs(cell);\n\n\t\t\t\t// rescope the segments to be within the cell's date\n\t\t\t\tvar reslicedAllSegs = _this.resliceDaySegs(allSegs, date);\n\t\t\t\tvar reslicedHiddenSegs = _this.resliceDaySegs(hiddenSegs, date);\n\n\t\t\t\tif (typeof clickOption === 'function') {\n\t\t\t\t\t// the returned value can be an atomic option\n\t\t\t\t\tclickOption = view.trigger('eventLimitClick', null, {\n\t\t\t\t\t\tdate: date,\n\t\t\t\t\t\tdayEl: dayEl,\n\t\t\t\t\t\tmoreEl: moreEl,\n\t\t\t\t\t\tsegs: reslicedAllSegs,\n\t\t\t\t\t\thiddenSegs: reslicedHiddenSegs\n\t\t\t\t\t}, ev);\n\t\t\t\t}\n\n\t\t\t\tif (clickOption === 'popover') {\n\t\t\t\t\t_this.showSegPopover(cell, moreEl, reslicedAllSegs);\n\t\t\t\t}\n\t\t\t\telse if (typeof clickOption === 'string') { // a view name\n\t\t\t\t\tview.calendar.zoomTo(date, clickOption);\n\t\t\t\t}\n\t\t\t});\n\t},\n\n\n\t// Reveals the popover that displays all events within a cell\n\tshowSegPopover: function(cell, moreLink, segs) {\n\t\tvar _this = this;\n\t\tvar view = this.view;\n\t\tvar moreWrap = moreLink.parent(); // the <div> wrapper around the <a>\n\t\tvar topEl; // the element we want to match the top coordinate of\n\t\tvar options;\n\n\t\tif (this.rowCnt == 1) {\n\t\t\ttopEl = view.el; // will cause the popover to cover any sort of header\n\t\t}\n\t\telse {\n\t\t\ttopEl = this.rowEls.eq(cell.row); // will align with top of row\n\t\t}\n\n\t\toptions = {\n\t\t\tclassName: 'fc-more-popover',\n\t\t\tcontent: this.renderSegPopoverContent(cell, segs),\n\t\t\tparentEl: this.el,\n\t\t\ttop: topEl.offset().top,\n\t\t\tautoHide: true, // when the user clicks elsewhere, hide the popover\n\t\t\tviewportConstrain: view.opt('popoverViewportConstrain'),\n\t\t\thide: function() {\n\t\t\t\t// kill everything when the popover is hidden\n\t\t\t\t_this.segPopover.removeElement();\n\t\t\t\t_this.segPopover = null;\n\t\t\t\t_this.popoverSegs = null;\n\t\t\t}\n\t\t};\n\n\t\t// Determine horizontal coordinate.\n\t\t// We use the moreWrap instead of the <td> to avoid border confusion.\n\t\tif (this.isRTL) {\n\t\t\toptions.right = moreWrap.offset().left + moreWrap.outerWidth() + 1; // +1 to be over cell border\n\t\t}\n\t\telse {\n\t\t\toptions.left = moreWrap.offset().left - 1; // -1 to be over cell border\n\t\t}\n\n\t\tthis.segPopover = new Popover(options);\n\t\tthis.segPopover.show();\n\t},\n\n\n\t// Builds the inner DOM contents of the segment popover\n\trenderSegPopoverContent: function(cell, segs) {\n\t\tvar view = this.view;\n\t\tvar isTheme = view.opt('theme');\n\t\tvar title = cell.start.format(view.opt('dayPopoverFormat'));\n\t\tvar content = $(\n\t\t\t'<div class=\"fc-header ' + view.widgetHeaderClass + '\">' +\n\t\t\t\t'<span class=\"fc-close ' +\n\t\t\t\t\t(isTheme ? 'ui-icon ui-icon-closethick' : 'fc-icon fc-icon-x') +\n\t\t\t\t'\"></span>' +\n\t\t\t\t'<span class=\"fc-title\">' +\n\t\t\t\t\thtmlEscape(title) +\n\t\t\t\t'</span>' +\n\t\t\t\t'<div class=\"fc-clear\"/>' +\n\t\t\t'</div>' +\n\t\t\t'<div class=\"fc-body ' + view.widgetContentClass + '\">' +\n\t\t\t\t'<div class=\"fc-event-container\"></div>' +\n\t\t\t'</div>'\n\t\t);\n\t\tvar segContainer = content.find('.fc-event-container');\n\t\tvar i;\n\n\t\t// render each seg's `el` and only return the visible segs\n\t\tsegs = this.renderFgSegEls(segs, true); // disableResizing=true\n\t\tthis.popoverSegs = segs;\n\n\t\tfor (i = 0; i < segs.length; i++) {\n\n\t\t\t// because segments in the popover are not part of a grid coordinate system, provide a hint to any\n\t\t\t// grids that want to do drag-n-drop about which cell it came from\n\t\t\tsegs[i].cell = cell;\n\n\t\t\tsegContainer.append(segs[i].el);\n\t\t}\n\n\t\treturn content;\n\t},\n\n\n\t// Given the events within an array of segment objects, reslice them to be in a single day\n\tresliceDaySegs: function(segs, dayDate) {\n\n\t\t// build an array of the original events\n\t\tvar events = $.map(segs, function(seg) {\n\t\t\treturn seg.event;\n\t\t});\n\n\t\tvar dayStart = dayDate.clone().stripTime();\n\t\tvar dayEnd = dayStart.clone().add(1, 'days');\n\t\tvar dayRange = { start: dayStart, end: dayEnd };\n\n\t\t// slice the events with a custom slicing function\n\t\tsegs = this.eventsToSegs(\n\t\t\tevents,\n\t\t\tfunction(range) {\n\t\t\t\tvar seg = intersectionToSeg(range, dayRange); // undefind if no intersection\n\t\t\t\treturn seg ? [ seg ] : []; // must return an array of segments\n\t\t\t}\n\t\t);\n\n\t\t// force an order because eventsToSegs doesn't guarantee one\n\t\tthis.sortSegs(segs);\n\n\t\treturn segs;\n\t},\n\n\n\t// Generates the text that should be inside a \"more\" link, given the number of events it represents\n\tgetMoreLinkText: function(num) {\n\t\tvar opt = this.view.opt('eventLimitText');\n\n\t\tif (typeof opt === 'function') {\n\t\t\treturn opt(num);\n\t\t}\n\t\telse {\n\t\t\treturn '+' + num + ' ' + opt;\n\t\t}\n\t},\n\n\n\t// Returns segments within a given cell.\n\t// If `startLevel` is specified, returns only events including and below that level. Otherwise returns all segs.\n\tgetCellSegs: function(cell, startLevel) {\n\t\tvar segMatrix = this.rowStructs[cell.row].segMatrix;\n\t\tvar level = startLevel || 0;\n\t\tvar segs = [];\n\t\tvar seg;\n\n\t\twhile (level < segMatrix.length) {\n\t\t\tseg = segMatrix[level][cell.col];\n\t\t\tif (seg) {\n\t\t\t\tsegs.push(seg);\n\t\t\t}\n\t\t\tlevel++;\n\t\t}\n\n\t\treturn segs;\n\t}\n\n});\n\n;;\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar TimeGrid = Grid.extend({\n\n\tslotDuration: null, // duration of a \"slot\", a distinct time segment on given day, visualized by lines\n\tsnapDuration: null, // granularity of time for dragging and selecting\n\tminTime: null, // Duration object that denotes the first visible time of any given day\n\tmaxTime: null, // Duration object that denotes the exclusive visible end time of any given day\n\tcolDates: null, // whole-day dates for each column. left to right\n\tlabelFormat: null, // formatting string for times running along vertical axis\n\tlabelInterval: null, // duration of how often a label should be displayed for a slot\n\n\tdayEls: null, // cells elements in the day-row background\n\tslatEls: null, // elements running horizontally across all columns\n\n\tslatTops: null, // an array of top positions, relative to the container. last item holds bottom of last slot\n\n\thelperEl: null, // cell skeleton element for rendering the mock event \"helper\"\n\n\tbusinessHourSegs: null,\n\n\n\tconstructor: function() {\n\t\tGrid.apply(this, arguments); // call the super-constructor\n\t\tthis.processOptions();\n\t},\n\n\n\t// Renders the time grid into `this.el`, which should already be assigned.\n\t// Relies on the view's colCnt. In the future, this component should probably be self-sufficient.\n\trenderDates: function() {\n\t\tthis.el.html(this.renderHtml());\n\t\tthis.dayEls = this.el.find('.fc-day');\n\t\tthis.slatEls = this.el.find('.fc-slats tr');\n\t},\n\n\n\trenderBusinessHours: function() {\n\t\tvar events = this.view.calendar.getBusinessHoursEvents();\n\t\tthis.businessHourSegs = this.renderFill('businessHours', this.eventsToSegs(events), 'bgevent');\n\t},\n\n\n\t// Renders the basic HTML skeleton for the grid\n\trenderHtml: function() {\n\t\treturn '' +\n\t\t\t'<div class=\"fc-bg\">' +\n\t\t\t\t'<table>' +\n\t\t\t\t\tthis.rowHtml('slotBg') + // leverages RowRenderer, which will call slotBgCellHtml\n\t\t\t\t'</table>' +\n\t\t\t'</div>' +\n\t\t\t'<div class=\"fc-slats\">' +\n\t\t\t\t'<table>' +\n\t\t\t\t\tthis.slatRowHtml() +\n\t\t\t\t'</table>' +\n\t\t\t'</div>';\n\t},\n\n\n\t// Renders the HTML for a vertical background cell behind the slots.\n\t// This method is distinct from 'bg' because we wanted a new `rowType` so the View could customize the rendering.\n\tslotBgCellHtml: function(cell) {\n\t\treturn this.bgCellHtml(cell);\n\t},\n\n\n\t// Generates the HTML for the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n\tslatRowHtml: function() {\n\t\tvar view = this.view;\n\t\tvar isRTL = this.isRTL;\n\t\tvar html = '';\n\t\tvar slotTime = moment.duration(+this.minTime); // wish there was .clone() for durations\n\t\tvar slotDate; // will be on the view's first day, but we only care about its time\n\t\tvar isLabeled;\n\t\tvar axisHtml;\n\n\t\t// Calculate the time for each slot\n\t\twhile (slotTime < this.maxTime) {\n\t\t\tslotDate = this.start.clone().time(slotTime); // after .time() will be in UTC. but that's good, avoids DST issues\n\t\t\tisLabeled = isInt(divideDurationByDuration(slotTime, this.labelInterval));\n\n\t\t\taxisHtml =\n\t\t\t\t'<td class=\"fc-axis fc-time ' + view.widgetContentClass + '\" ' + view.axisStyleAttr() + '>' +\n\t\t\t\t\t(isLabeled ?\n\t\t\t\t\t\t'<span>' + // for matchCellWidths\n\t\t\t\t\t\t\thtmlEscape(slotDate.format(this.labelFormat)) +\n\t\t\t\t\t\t'</span>' :\n\t\t\t\t\t\t''\n\t\t\t\t\t\t) +\n\t\t\t\t'</td>';\n\n\t\t\thtml +=\n\t\t\t\t'<tr ' + (isLabeled ? '' : 'class=\"fc-minor\"') + '>' +\n\t\t\t\t\t(!isRTL ? axisHtml : '') +\n\t\t\t\t\t'<td class=\"' + view.widgetContentClass + '\"/>' +\n\t\t\t\t\t(isRTL ? axisHtml : '') +\n\t\t\t\t\"</tr>\";\n\n\t\t\tslotTime.add(this.slotDuration);\n\t\t}\n\n\t\treturn html;\n\t},\n\n\n\t/* Options\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Parses various options into properties of this object\n\tprocessOptions: function() {\n\t\tvar view = this.view;\n\t\tvar slotDuration = view.opt('slotDuration');\n\t\tvar snapDuration = view.opt('snapDuration');\n\t\tvar input;\n\n\t\tslotDuration = moment.duration(slotDuration);\n\t\tsnapDuration = snapDuration ? moment.duration(snapDuration) : slotDuration;\n\n\t\tthis.slotDuration = slotDuration;\n\t\tthis.snapDuration = snapDuration;\n\t\tthis.cellDuration = snapDuration; // for Grid system\n\n\t\tthis.minTime = moment.duration(view.opt('minTime'));\n\t\tthis.maxTime = moment.duration(view.opt('maxTime'));\n\n\t\t// might be an array value (for TimelineView).\n\t\t// if so, getting the most granular entry (the last one probably).\n\t\tinput = view.opt('slotLabelFormat');\n\t\tif ($.isArray(input)) {\n\t\t\tinput = input[input.length - 1];\n\t\t}\n\n\t\tthis.labelFormat =\n\t\t\tinput ||\n\t\t\tview.opt('axisFormat') || // deprecated\n\t\t\tview.opt('smallTimeFormat'); // the computed default\n\n\t\tinput = view.opt('slotLabelInterval');\n\t\tthis.labelInterval = input ?\n\t\t\tmoment.duration(input) :\n\t\t\tthis.computeLabelInterval(slotDuration);\n\t},\n\n\n\t// Computes an automatic value for slotLabelInterval\n\tcomputeLabelInterval: function(slotDuration) {\n\t\tvar i;\n\t\tvar labelInterval;\n\t\tvar slotsPerLabel;\n\n\t\t// find the smallest stock label interval that results in more than one slots-per-label\n\t\tfor (i = AGENDA_STOCK_SUB_DURATIONS.length - 1; i >= 0; i--) {\n\t\t\tlabelInterval = moment.duration(AGENDA_STOCK_SUB_DURATIONS[i]);\n\t\t\tslotsPerLabel = divideDurationByDuration(labelInterval, slotDuration);\n\t\t\tif (isInt(slotsPerLabel) && slotsPerLabel > 1) {\n\t\t\t\treturn labelInterval;\n\t\t\t}\n\t\t}\n\n\t\treturn moment.duration(slotDuration); // fall back. clone\n\t},\n\n\n\t// Computes a default column header formatting string if `colFormat` is not explicitly defined\n\tcomputeColHeadFormat: function() {\n\t\tif (this.colCnt > 1) { // multiple days, so full single date string WON'T be in title text\n\t\t\treturn this.view.opt('dayOfMonthFormat'); // \"Sat 12/10\"\n\t\t}\n\t\telse { // single day, so full single date string will probably be in title text\n\t\t\treturn 'dddd'; // \"Saturday\"\n\t\t}\n\t},\n\n\n\t// Computes a default event time formatting string if `timeFormat` is not explicitly defined\n\tcomputeEventTimeFormat: function() {\n\t\treturn this.view.opt('noMeridiemTimeFormat'); // like \"6:30\" (no AM/PM)\n\t},\n\n\n\t// Computes a default `displayEventEnd` value if one is not expliclty defined\n\tcomputeDisplayEventEnd: function() {\n\t\treturn true;\n\t},\n\n\n\t/* Cell System\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\trangeUpdated: function() {\n\t\tvar view = this.view;\n\t\tvar colDates = [];\n\t\tvar date;\n\n\t\tdate = this.start.clone();\n\t\twhile (date.isBefore(this.end)) {\n\t\t\tcolDates.push(date.clone());\n\t\t\tdate.add(1, 'day');\n\t\t\tdate = view.skipHiddenDays(date);\n\t\t}\n\n\t\tif (this.isRTL) {\n\t\t\tcolDates.reverse();\n\t\t}\n\n\t\tthis.colDates = colDates;\n\t\tthis.colCnt = colDates.length;\n\t\tthis.rowCnt = Math.ceil((this.maxTime - this.minTime) / this.snapDuration); // # of vertical snaps\n\t},\n\n\n\t// Given a cell object, generates its start date. Returns a reference-free copy.\n\tcomputeCellDate: function(cell) {\n\t\tvar date = this.colDates[cell.col];\n\t\tvar time = this.computeSnapTime(cell.row);\n\n\t\tdate = this.view.calendar.rezoneDate(date); // give it a 00:00 time\n\t\tdate.time(time);\n\n\t\treturn date;\n\t},\n\n\n\t// Retrieves the element representing the given column\n\tgetColEl: function(col) {\n\t\treturn this.dayEls.eq(col);\n\t},\n\n\n\t/* Dates\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Given a row number of the grid, representing a \"snap\", returns a time (Duration) from its start-of-day\n\tcomputeSnapTime: function(row) {\n\t\treturn moment.duration(this.minTime + this.snapDuration * row);\n\t},\n\n\n\t// Slices up a date range by column into an array of segments\n\trangeToSegs: function(range) {\n\t\tvar colCnt = this.colCnt;\n\t\tvar segs = [];\n\t\tvar seg;\n\t\tvar col;\n\t\tvar colDate;\n\t\tvar colRange;\n\n\t\t// normalize :(\n\t\trange = {\n\t\t\tstart: range.start.clone().stripZone(),\n\t\t\tend: range.end.clone().stripZone()\n\t\t};\n\n\t\tfor (col = 0; col < colCnt; col++) {\n\t\t\tcolDate = this.colDates[col]; // will be ambig time/timezone\n\t\t\tcolRange = {\n\t\t\t\tstart: colDate.clone().time(this.minTime),\n\t\t\t\tend: colDate.clone().time(this.maxTime)\n\t\t\t};\n\t\t\tseg = intersectionToSeg(range, colRange); // both will be ambig timezone\n\t\t\tif (seg) {\n\t\t\t\tseg.col = col;\n\t\t\t\tsegs.push(seg);\n\t\t\t}\n\t\t}\n\n\t\treturn segs;\n\t},\n\n\n\t/* Coordinates\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\tupdateSize: function(isResize) { // NOT a standard Grid method\n\t\tthis.computeSlatTops();\n\n\t\tif (isResize) {\n\t\t\tthis.updateSegVerticals();\n\t\t}\n\t},\n\n\n\t// Computes the top/bottom coordinates of each \"snap\" rows\n\tcomputeRowCoords: function() {\n\t\tvar originTop = this.el.offset().top;\n\t\tvar items = [];\n\t\tvar i;\n\t\tvar item;\n\n\t\tfor (i = 0; i < this.rowCnt; i++) {\n\t\t\titem = {\n\t\t\t\ttop: originTop + this.computeTimeTop(this.computeSnapTime(i))\n\t\t\t};\n\t\t\tif (i > 0) {\n\t\t\t\titems[i - 1].bottom = item.top;\n\t\t\t}\n\t\t\titems.push(item);\n\t\t}\n\t\titem.bottom = item.top + this.computeTimeTop(this.computeSnapTime(i));\n\n\t\treturn items;\n\t},\n\n\n\t// Computes the top coordinate, relative to the bounds of the grid, of the given date.\n\t// A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n\tcomputeDateTop: function(date, startOfDayDate) {\n\t\treturn this.computeTimeTop(\n\t\t\tmoment.duration(\n\t\t\t\tdate.clone().stripZone() - startOfDayDate.clone().stripTime()\n\t\t\t)\n\t\t);\n\t},\n\n\n\t// Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n\tcomputeTimeTop: function(time) {\n\t\tvar slatCoverage = (time - this.minTime) / this.slotDuration; // floating-point value of # of slots covered\n\t\tvar slatIndex;\n\t\tvar slatRemainder;\n\t\tvar slatTop;\n\t\tvar slatBottom;\n\n\t\t// constrain. because minTime/maxTime might be customized\n\t\tslatCoverage = Math.max(0, slatCoverage);\n\t\tslatCoverage = Math.min(this.slatEls.length, slatCoverage);\n\n\t\tslatIndex = Math.floor(slatCoverage); // an integer index of the furthest whole slot\n\t\tslatRemainder = slatCoverage - slatIndex;\n\t\tslatTop = this.slatTops[slatIndex]; // the top position of the furthest whole slot\n\n\t\tif (slatRemainder) { // time spans part-way into the slot\n\t\t\tslatBottom = this.slatTops[slatIndex + 1];\n\t\t\treturn slatTop + (slatBottom - slatTop) * slatRemainder; // part-way between slots\n\t\t}\n\t\telse {\n\t\t\treturn slatTop;\n\t\t}\n\t},\n\n\n\t// Queries each `slatEl` for its position relative to the grid's container and stores it in `slatTops`.\n\t// Includes the the bottom of the last slat as the last item in the array.\n\tcomputeSlatTops: function() {\n\t\tvar tops = [];\n\t\tvar top;\n\n\t\tthis.slatEls.each(function(i, node) {\n\t\t\ttop = $(node).position().top;\n\t\t\ttops.push(top);\n\t\t});\n\n\t\ttops.push(top + this.slatEls.last().outerHeight()); // bottom of the last slat\n\n\t\tthis.slatTops = tops;\n\t},\n\n\n\t/* Event Drag Visualization\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of an event being dragged over the specified date(s).\n\t// dropLocation's end might be null, as well as `seg`. See Grid::renderDrag for more info.\n\t// A returned value of `true` signals that a mock \"helper\" event has been rendered.\n\trenderDrag: function(dropLocation, seg) {\n\n\t\tif (seg) { // if there is event information for this drag, render a helper event\n\t\t\tthis.renderRangeHelper(dropLocation, seg);\n\t\t\tthis.applyDragOpacity(this.helperEl);\n\n\t\t\treturn true; // signal that a helper has been rendered\n\t\t}\n\t\telse {\n\t\t\t// otherwise, just render a highlight\n\t\t\tthis.renderHighlight(this.eventRangeToSegs(dropLocation));\n\t\t}\n\t},\n\n\n\t// Unrenders any visual indication of an event being dragged\n\tunrenderDrag: function() {\n\t\tthis.unrenderHelper();\n\t\tthis.unrenderHighlight();\n\t},\n\n\n\t/* Event Resize Visualization\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of an event being resized\n\trenderEventResize: function(range, seg) {\n\t\tthis.renderRangeHelper(range, seg);\n\t},\n\n\n\t// Unrenders any visual indication of an event being resized\n\tunrenderEventResize: function() {\n\t\tthis.unrenderHelper();\n\t},\n\n\n\t/* Event Helper\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a mock \"helper\" event. `sourceSeg` is the original segment object and might be null (an external drag)\n\trenderHelper: function(event, sourceSeg) {\n\t\tvar segs = this.eventsToSegs([ event ]);\n\t\tvar tableEl;\n\t\tvar i, seg;\n\t\tvar sourceEl;\n\n\t\tsegs = this.renderFgSegEls(segs); // assigns each seg's el and returns a subset of segs that were rendered\n\t\ttableEl = this.renderSegTable(segs);\n\n\t\t// Try to make the segment that is in the same row as sourceSeg look the same\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tseg = segs[i];\n\t\t\tif (sourceSeg && sourceSeg.col === seg.col) {\n\t\t\t\tsourceEl = sourceSeg.el;\n\t\t\t\tseg.el.css({\n\t\t\t\t\tleft: sourceEl.css('left'),\n\t\t\t\t\tright: sourceEl.css('right'),\n\t\t\t\t\t'margin-left': sourceEl.css('margin-left'),\n\t\t\t\t\t'margin-right': sourceEl.css('margin-right')\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tthis.helperEl = $('<div class=\"fc-helper-skeleton\"/>')\n\t\t\t.append(tableEl)\n\t\t\t\t.appendTo(this.el);\n\t},\n\n\n\t// Unrenders any mock helper event\n\tunrenderHelper: function() {\n\t\tif (this.helperEl) {\n\t\t\tthis.helperEl.remove();\n\t\t\tthis.helperEl = null;\n\t\t}\n\t},\n\n\n\t/* Selection\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of a selection. Overrides the default, which was to simply render a highlight.\n\trenderSelection: function(range) {\n\t\tif (this.view.opt('selectHelper')) { // this setting signals that a mock helper event should be rendered\n\t\t\tthis.renderRangeHelper(range);\n\t\t}\n\t\telse {\n\t\t\tthis.renderHighlight(this.selectionRangeToSegs(range));\n\t\t}\n\t},\n\n\n\t// Unrenders any visual indication of a selection\n\tunrenderSelection: function() {\n\t\tthis.unrenderHelper();\n\t\tthis.unrenderHighlight();\n\t},\n\n\n\t/* Fill System (highlight, background events, business hours)\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a set of rectangles over the given time segments.\n\t// Only returns segments that successfully rendered.\n\trenderFill: function(type, segs, className) {\n\t\tvar segCols;\n\t\tvar skeletonEl;\n\t\tvar trEl;\n\t\tvar col, colSegs;\n\t\tvar tdEl;\n\t\tvar containerEl;\n\t\tvar dayDate;\n\t\tvar i, seg;\n\n\t\tif (segs.length) {\n\n\t\t\tsegs = this.renderFillSegEls(type, segs); // assignes `.el` to each seg. returns successfully rendered segs\n\t\t\tsegCols = this.groupSegCols(segs); // group into sub-arrays, and assigns 'col' to each seg\n\n\t\t\tclassName = className || type.toLowerCase();\n\t\t\tskeletonEl = $(\n\t\t\t\t'<div class=\"fc-' + className + '-skeleton\">' +\n\t\t\t\t\t'<table><tr/></table>' +\n\t\t\t\t'</div>'\n\t\t\t);\n\t\t\ttrEl = skeletonEl.find('tr');\n\n\t\t\tfor (col = 0; col < segCols.length; col++) {\n\t\t\t\tcolSegs = segCols[col];\n\t\t\t\ttdEl = $('<td/>').appendTo(trEl);\n\n\t\t\t\tif (colSegs.length) {\n\t\t\t\t\tcontainerEl = $('<div class=\"fc-' + className + '-container\"/>').appendTo(tdEl);\n\t\t\t\t\tdayDate = this.colDates[col];\n\n\t\t\t\t\tfor (i = 0; i < colSegs.length; i++) {\n\t\t\t\t\t\tseg = colSegs[i];\n\t\t\t\t\t\tcontainerEl.append(\n\t\t\t\t\t\t\tseg.el.css({\n\t\t\t\t\t\t\t\ttop: this.computeDateTop(seg.start, dayDate),\n\t\t\t\t\t\t\t\tbottom: -this.computeDateTop(seg.end, dayDate) // the y position of the bottom edge\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.bookendCells(trEl, type);\n\n\t\t\tthis.el.append(skeletonEl);\n\t\t\tthis.elsByFill[type] = skeletonEl;\n\t\t}\n\n\t\treturn segs;\n\t}\n\n});\n\n;;\n\n/* Event-rendering methods for the TimeGrid class\n----------------------------------------------------------------------------------------------------------------------*/\n\nTimeGrid.mixin({\n\n\teventSkeletonEl: null, // has cells with event-containers, which contain absolutely positioned event elements\n\n\n\t// Renders the given foreground event segments onto the grid\n\trenderFgSegs: function(segs) {\n\t\tsegs = this.renderFgSegEls(segs); // returns a subset of the segs. segs that were actually rendered\n\n\t\tthis.el.append(\n\t\t\tthis.eventSkeletonEl = $('<div class=\"fc-content-skeleton\"/>')\n\t\t\t\t.append(this.renderSegTable(segs))\n\t\t);\n\n\t\treturn segs; // return only the segs that were actually rendered\n\t},\n\n\n\t// Unrenders all currently rendered foreground event segments\n\tunrenderFgSegs: function(segs) {\n\t\tif (this.eventSkeletonEl) {\n\t\t\tthis.eventSkeletonEl.remove();\n\t\t\tthis.eventSkeletonEl = null;\n\t\t}\n\t},\n\n\n\t// Renders and returns the <table> portion of the event-skeleton.\n\t// Returns an object with properties 'tbodyEl' and 'segs'.\n\trenderSegTable: function(segs) {\n\t\tvar tableEl = $('<table><tr/></table>');\n\t\tvar trEl = tableEl.find('tr');\n\t\tvar segCols;\n\t\tvar i, seg;\n\t\tvar col, colSegs;\n\t\tvar containerEl;\n\n\t\tsegCols = this.groupSegCols(segs); // group into sub-arrays, and assigns 'col' to each seg\n\n\t\tthis.computeSegVerticals(segs); // compute and assign top/bottom\n\n\t\tfor (col = 0; col < segCols.length; col++) { // iterate each column grouping\n\t\t\tcolSegs = segCols[col];\n\t\t\tthis.placeSlotSegs(colSegs); // compute horizontal coordinates, z-index's, and reorder the array\n\n\t\t\tcontainerEl = $('<div class=\"fc-event-container\"/>');\n\n\t\t\t// assign positioning CSS and insert into container\n\t\t\tfor (i = 0; i < colSegs.length; i++) {\n\t\t\t\tseg = colSegs[i];\n\t\t\t\tseg.el.css(this.generateSegPositionCss(seg));\n\n\t\t\t\t// if the height is short, add a className for alternate styling\n\t\t\t\tif (seg.bottom - seg.top < 30) {\n\t\t\t\t\tseg.el.addClass('fc-short');\n\t\t\t\t}\n\n\t\t\t\tcontainerEl.append(seg.el);\n\t\t\t}\n\n\t\t\ttrEl.append($('<td/>').append(containerEl));\n\t\t}\n\n\t\tthis.bookendCells(trEl, 'eventSkeleton');\n\n\t\treturn tableEl;\n\t},\n\n\n\t// Given an array of segments that are all in the same column, sets the backwardCoord and forwardCoord on each.\n\t// NOTE: Also reorders the given array by date!\n\tplaceSlotSegs: function(segs) {\n\t\tvar levels;\n\t\tvar level0;\n\t\tvar i;\n\n\t\tthis.sortSegs(segs); // order by date\n\t\tlevels = buildSlotSegLevels(segs);\n\t\tcomputeForwardSlotSegs(levels);\n\n\t\tif ((level0 = levels[0])) {\n\n\t\t\tfor (i = 0; i < level0.length; i++) {\n\t\t\t\tcomputeSlotSegPressures(level0[i]);\n\t\t\t}\n\n\t\t\tfor (i = 0; i < level0.length; i++) {\n\t\t\t\tthis.computeSlotSegCoords(level0[i], 0, 0);\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Calculate seg.forwardCoord and seg.backwardCoord for the segment, where both values range\n\t// from 0 to 1. If the calendar is left-to-right, the seg.backwardCoord maps to \"left\" and\n\t// seg.forwardCoord maps to \"right\" (via percentage). Vice-versa if the calendar is right-to-left.\n\t//\n\t// The segment might be part of a \"series\", which means consecutive segments with the same pressure\n\t// who's width is unknown until an edge has been hit. `seriesBackwardPressure` is the number of\n\t// segments behind this one in the current series, and `seriesBackwardCoord` is the starting\n\t// coordinate of the first segment in the series.\n\tcomputeSlotSegCoords: function(seg, seriesBackwardPressure, seriesBackwardCoord) {\n\t\tvar forwardSegs = seg.forwardSegs;\n\t\tvar i;\n\n\t\tif (seg.forwardCoord === undefined) { // not already computed\n\n\t\t\tif (!forwardSegs.length) {\n\n\t\t\t\t// if there are no forward segments, this segment should butt up against the edge\n\t\t\t\tseg.forwardCoord = 1;\n\t\t\t}\n\t\t\telse {\n\n\t\t\t\t// sort highest pressure first\n\t\t\t\tthis.sortForwardSlotSegs(forwardSegs);\n\n\t\t\t\t// this segment's forwardCoord will be calculated from the backwardCoord of the\n\t\t\t\t// highest-pressure forward segment.\n\t\t\t\tthis.computeSlotSegCoords(forwardSegs[0], seriesBackwardPressure + 1, seriesBackwardCoord);\n\t\t\t\tseg.forwardCoord = forwardSegs[0].backwardCoord;\n\t\t\t}\n\n\t\t\t// calculate the backwardCoord from the forwardCoord. consider the series\n\t\t\tseg.backwardCoord = seg.forwardCoord -\n\t\t\t\t(seg.forwardCoord - seriesBackwardCoord) / // available width for series\n\t\t\t\t(seriesBackwardPressure + 1); // # of segments in the series\n\n\t\t\t// use this segment's coordinates to computed the coordinates of the less-pressurized\n\t\t\t// forward segments\n\t\t\tfor (i=0; i<forwardSegs.length; i++) {\n\t\t\t\tthis.computeSlotSegCoords(forwardSegs[i], 0, seg.forwardCoord);\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Refreshes the CSS top/bottom coordinates for each segment element. Probably after a window resize/zoom.\n\t// Repositions business hours segs too, so not just for events. Maybe shouldn't be here.\n\tupdateSegVerticals: function() {\n\t\tvar allSegs = (this.segs || []).concat(this.businessHourSegs || []);\n\t\tvar i;\n\n\t\tthis.computeSegVerticals(allSegs);\n\n\t\tfor (i = 0; i < allSegs.length; i++) {\n\t\t\tallSegs[i].el.css(\n\t\t\t\tthis.generateSegVerticalCss(allSegs[i])\n\t\t\t);\n\t\t}\n\t},\n\n\n\t// For each segment in an array, computes and assigns its top and bottom properties\n\tcomputeSegVerticals: function(segs) {\n\t\tvar i, seg;\n\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tseg = segs[i];\n\t\t\tseg.top = this.computeDateTop(seg.start, seg.start);\n\t\t\tseg.bottom = this.computeDateTop(seg.end, seg.start);\n\t\t}\n\t},\n\n\n\t// Renders the HTML for a single event segment's default rendering\n\tfgSegHtml: function(seg, disableResizing) {\n\t\tvar view = this.view;\n\t\tvar event = seg.event;\n\t\tvar isDraggable = view.isEventDraggable(event);\n\t\tvar isResizableFromStart = !disableResizing && seg.isStart && view.isEventResizableFromStart(event);\n\t\tvar isResizableFromEnd = !disableResizing && seg.isEnd && view.isEventResizableFromEnd(event);\n\t\tvar classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd);\n\t\tvar skinCss = cssToStr(this.getEventSkinCss(event));\n\t\tvar timeText;\n\t\tvar fullTimeText; // more verbose time text. for the print stylesheet\n\t\tvar startTimeText; // just the start time text\n\n\t\tclasses.unshift('fc-time-grid-event', 'fc-v-event');\n\n\t\tif (view.isMultiDayEvent(event)) { // if the event appears to span more than one day...\n\t\t\t// Don't display time text on segments that run entirely through a day.\n\t\t\t// That would appear as midnight-midnight and would look dumb.\n\t\t\t// Otherwise, display the time text for the *segment's* times (like 6pm-midnight or midnight-10am)\n\t\t\tif (seg.isStart || seg.isEnd) {\n\t\t\t\ttimeText = this.getEventTimeText(seg);\n\t\t\t\tfullTimeText = this.getEventTimeText(seg, 'LT');\n\t\t\t\tstartTimeText = this.getEventTimeText(seg, null, false); // displayEnd=false\n\t\t\t}\n\t\t} else {\n\t\t\t// Display the normal time text for the *event's* times\n\t\t\ttimeText = this.getEventTimeText(event);\n\t\t\tfullTimeText = this.getEventTimeText(event, 'LT');\n\t\t\tstartTimeText = this.getEventTimeText(event, null, false); // displayEnd=false\n\t\t}\n\n\t\treturn '<a class=\"' + classes.join(' ') + '\"' +\n\t\t\t(event.url ?\n\t\t\t\t' href=\"' + htmlEscape(event.url) + '\"' :\n\t\t\t\t''\n\t\t\t\t) +\n\t\t\t(skinCss ?\n\t\t\t\t' style=\"' + skinCss + '\"' :\n\t\t\t\t''\n\t\t\t\t) +\n\t\t\t'>' +\n\t\t\t\t'<div class=\"fc-content\">' +\n\t\t\t\t\t(timeText ?\n\t\t\t\t\t\t'<div class=\"fc-time\"' +\n\t\t\t\t\t\t' data-start=\"' + htmlEscape(startTimeText) + '\"' +\n\t\t\t\t\t\t' data-full=\"' + htmlEscape(fullTimeText) + '\"' +\n\t\t\t\t\t\t'>' +\n\t\t\t\t\t\t\t'<span>' + htmlEscape(timeText) + '</span>' +\n\t\t\t\t\t\t'</div>' :\n\t\t\t\t\t\t''\n\t\t\t\t\t\t) +\n\t\t\t\t\t(event.title ?\n\t\t\t\t\t\t'<div class=\"fc-title\">' +\n\t\t\t\t\t\t\thtmlEscape(event.title) +\n\t\t\t\t\t\t'</div>' :\n\t\t\t\t\t\t''\n\t\t\t\t\t\t) +\n\t\t\t\t'</div>' +\n\t\t\t\t'<div class=\"fc-bg\"/>' +\n\t\t\t\t/* TODO: write CSS for this\n\t\t\t\t(isResizableFromStart ?\n\t\t\t\t\t'<div class=\"fc-resizer fc-start-resizer\" />' :\n\t\t\t\t\t''\n\t\t\t\t\t) +\n\t\t\t\t*/\n\t\t\t\t(isResizableFromEnd ?\n\t\t\t\t\t'<div class=\"fc-resizer fc-end-resizer\" />' :\n\t\t\t\t\t''\n\t\t\t\t\t) +\n\t\t\t'</a>';\n\t},\n\n\n\t// Generates an object with CSS properties/values that should be applied to an event segment element.\n\t// Contains important positioning-related properties that should be applied to any event element, customized or not.\n\tgenerateSegPositionCss: function(seg) {\n\t\tvar shouldOverlap = this.view.opt('slotEventOverlap');\n\t\tvar backwardCoord = seg.backwardCoord; // the left side if LTR. the right side if RTL. floating-point\n\t\tvar forwardCoord = seg.forwardCoord; // the right side if LTR. the left side if RTL. floating-point\n\t\tvar props = this.generateSegVerticalCss(seg); // get top/bottom first\n\t\tvar left; // amount of space from left edge, a fraction of the total width\n\t\tvar right; // amount of space from right edge, a fraction of the total width\n\n\t\tif (shouldOverlap) {\n\t\t\t// double the width, but don't go beyond the maximum forward coordinate (1.0)\n\t\t\tforwardCoord = Math.min(1, backwardCoord + (forwardCoord - backwardCoord) * 2);\n\t\t}\n\n\t\tif (this.isRTL) {\n\t\t\tleft = 1 - forwardCoord;\n\t\t\tright = backwardCoord;\n\t\t}\n\t\telse {\n\t\t\tleft = backwardCoord;\n\t\t\tright = 1 - forwardCoord;\n\t\t}\n\n\t\tprops.zIndex = seg.level + 1; // convert from 0-base to 1-based\n\t\tprops.left = left * 100 + '%';\n\t\tprops.right = right * 100 + '%';\n\n\t\tif (shouldOverlap && seg.forwardPressure) {\n\t\t\t// add padding to the edge so that forward stacked events don't cover the resizer's icon\n\t\t\tprops[this.isRTL ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n\t\t}\n\n\t\treturn props;\n\t},\n\n\n\t// Generates an object with CSS properties for the top/bottom coordinates of a segment element\n\tgenerateSegVerticalCss: function(seg) {\n\t\treturn {\n\t\t\ttop: seg.top,\n\t\t\tbottom: -seg.bottom // flipped because needs to be space beyond bottom edge of event container\n\t\t};\n\t},\n\n\n\t// Given a flat array of segments, return an array of sub-arrays, grouped by each segment's col\n\tgroupSegCols: function(segs) {\n\t\tvar segCols = [];\n\t\tvar i;\n\n\t\tfor (i = 0; i < this.colCnt; i++) {\n\t\t\tsegCols.push([]);\n\t\t}\n\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tsegCols[segs[i].col].push(segs[i]);\n\t\t}\n\n\t\treturn segCols;\n\t},\n\n\n\tsortForwardSlotSegs: function(forwardSegs) {\n\t\tforwardSegs.sort(proxy(this, 'compareForwardSlotSegs'));\n\t},\n\n\n\t// A cmp function for determining which forward segment to rely on more when computing coordinates.\n\tcompareForwardSlotSegs: function(seg1, seg2) {\n\t\t// put higher-pressure first\n\t\treturn seg2.forwardPressure - seg1.forwardPressure ||\n\t\t\t// put segments that are closer to initial edge first (and favor ones with no coords yet)\n\t\t\t(seg1.backwardCoord || 0) - (seg2.backwardCoord || 0) ||\n\t\t\t// do normal sorting...\n\t\t\tthis.compareSegs(seg1, seg2);\n\t}\n\n});\n\n\n// Builds an array of segments \"levels\". The first level will be the leftmost tier of segments if the calendar is\n// left-to-right, or the rightmost if the calendar is right-to-left. Assumes the segments are already ordered by date.\nfunction buildSlotSegLevels(segs) {\n\tvar levels = [];\n\tvar i, seg;\n\tvar j;\n\n\tfor (i=0; i<segs.length; i++) {\n\t\tseg = segs[i];\n\n\t\t// go through all the levels and stop on the first level where there are no collisions\n\t\tfor (j=0; j<levels.length; j++) {\n\t\t\tif (!computeSlotSegCollisions(seg, levels[j]).length) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tseg.level = j;\n\n\t\t(levels[j] || (levels[j] = [])).push(seg);\n\t}\n\n\treturn levels;\n}\n\n\n// For every segment, figure out the other segments that are in subsequent\n// levels that also occupy the same vertical space. Accumulate in seg.forwardSegs\nfunction computeForwardSlotSegs(levels) {\n\tvar i, level;\n\tvar j, seg;\n\tvar k;\n\n\tfor (i=0; i<levels.length; i++) {\n\t\tlevel = levels[i];\n\n\t\tfor (j=0; j<level.length; j++) {\n\t\t\tseg = level[j];\n\n\t\t\tseg.forwardSegs = [];\n\t\t\tfor (k=i+1; k<levels.length; k++) {\n\t\t\t\tcomputeSlotSegCollisions(seg, levels[k], seg.forwardSegs);\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n// Figure out which path forward (via seg.forwardSegs) results in the longest path until\n// the furthest edge is reached. The number of segments in this path will be seg.forwardPressure\nfunction computeSlotSegPressures(seg) {\n\tvar forwardSegs = seg.forwardSegs;\n\tvar forwardPressure = 0;\n\tvar i, forwardSeg;\n\n\tif (seg.forwardPressure === undefined) { // not already computed\n\n\t\tfor (i=0; i<forwardSegs.length; i++) {\n\t\t\tforwardSeg = forwardSegs[i];\n\n\t\t\t// figure out the child's maximum forward path\n\t\t\tcomputeSlotSegPressures(forwardSeg);\n\n\t\t\t// either use the existing maximum, or use the child's forward pressure\n\t\t\t// plus one (for the forwardSeg itself)\n\t\t\tforwardPressure = Math.max(\n\t\t\t\tforwardPressure,\n\t\t\t\t1 + forwardSeg.forwardPressure\n\t\t\t);\n\t\t}\n\n\t\tseg.forwardPressure = forwardPressure;\n\t}\n}\n\n\n// Find all the segments in `otherSegs` that vertically collide with `seg`.\n// Append into an optionally-supplied `results` array and return.\nfunction computeSlotSegCollisions(seg, otherSegs, results) {\n\tresults = results || [];\n\n\tfor (var i=0; i<otherSegs.length; i++) {\n\t\tif (isSlotSegCollision(seg, otherSegs[i])) {\n\t\t\tresults.push(otherSegs[i]);\n\t\t}\n\t}\n\n\treturn results;\n}\n\n\n// Do these segments occupy the same vertical space?\nfunction isSlotSegCollision(seg1, seg2) {\n\treturn seg1.bottom > seg2.top && seg1.top < seg2.bottom;\n}\n\n;;\n\n/* An abstract class from which other views inherit from\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar View = fc.View = Class.extend({\n\n\ttype: null, // subclass' view name (string)\n\tname: null, // deprecated. use `type` instead\n\ttitle: null, // the text that will be displayed in the header's title\n\n\tcalendar: null, // owner Calendar object\n\toptions: null, // hash containing all options. already merged with view-specific-options\n\tcoordMap: null, // a CoordMap object for converting pixel regions to dates\n\tel: null, // the view's containing element. set by Calendar\n\n\tdisplaying: null, // a promise representing the state of rendering. null if no render requested\n\tisSkeletonRendered: false,\n\tisEventsRendered: false,\n\n\t// range the view is actually displaying (moments)\n\tstart: null,\n\tend: null, // exclusive\n\n\t// range the view is formally responsible for (moments)\n\t// may be different from start/end. for example, a month view might have 1st-31st, excluding padded dates\n\tintervalStart: null,\n\tintervalEnd: null, // exclusive\n\tintervalDuration: null,\n\tintervalUnit: null, // name of largest unit being displayed, like \"month\" or \"week\"\n\n\tisRTL: false,\n\tisSelected: false, // boolean whether a range of time is user-selected or not\n\n\teventOrderSpecs: null, // criteria for ordering events when they have same date/time\n\n\t// subclasses can optionally use a scroll container\n\tscrollerEl: null, // the element that will most likely scroll when content is too tall\n\tscrollTop: null, // cached vertical scroll value\n\n\t// classNames styled by jqui themes\n\twidgetHeaderClass: null,\n\twidgetContentClass: null,\n\thighlightStateClass: null,\n\n\t// for date utils, computed from options\n\tnextDayThreshold: null,\n\tisHiddenDayHash: null,\n\n\t// document handlers, bound to `this` object\n\tdocumentMousedownProxy: null, // TODO: doesn't work with touch\n\n\n\tconstructor: function(calendar, type, options, intervalDuration) {\n\n\t\tthis.calendar = calendar;\n\t\tthis.type = this.name = type; // .name is deprecated\n\t\tthis.options = options;\n\t\tthis.intervalDuration = intervalDuration || moment.duration(1, 'day');\n\n\t\tthis.nextDayThreshold = moment.duration(this.opt('nextDayThreshold'));\n\t\tthis.initThemingProps();\n\t\tthis.initHiddenDays();\n\t\tthis.isRTL = this.opt('isRTL');\n\n\t\tthis.eventOrderSpecs = parseFieldSpecs(this.opt('eventOrder'));\n\n\t\tthis.documentMousedownProxy = proxy(this, 'documentMousedown');\n\n\t\tthis.initialize();\n\t},\n\n\n\t// A good place for subclasses to initialize member variables\n\tinitialize: function() {\n\t\t// subclasses can implement\n\t},\n\n\n\t// Retrieves an option with the given name\n\topt: function(name) {\n\t\treturn this.options[name];\n\t},\n\n\n\t// Triggers handlers that are view-related. Modifies args before passing to calendar.\n\ttrigger: function(name, thisObj) { // arguments beyond thisObj are passed along\n\t\tvar calendar = this.calendar;\n\n\t\treturn calendar.trigger.apply(\n\t\t\tcalendar,\n\t\t\t[name, thisObj || this].concat(\n\t\t\t\tArray.prototype.slice.call(arguments, 2), // arguments beyond thisObj\n\t\t\t\t[ this ] // always make the last argument a reference to the view. TODO: deprecate\n\t\t\t)\n\t\t);\n\t},\n\n\n\t/* Dates\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Updates all internal dates to center around the given current date\n\tsetDate: function(date) {\n\t\tthis.setRange(this.computeRange(date));\n\t},\n\n\n\t// Updates all internal dates for displaying the given range.\n\t// Expects all values to be normalized (like what computeRange does).\n\tsetRange: function(range) {\n\t\t$.extend(this, range);\n\t\tthis.updateTitle();\n\t},\n\n\n\t// Given a single current date, produce information about what range to display.\n\t// Subclasses can override. Must return all properties.\n\tcomputeRange: function(date) {\n\t\tvar intervalUnit = computeIntervalUnit(this.intervalDuration);\n\t\tvar intervalStart = date.clone().startOf(intervalUnit);\n\t\tvar intervalEnd = intervalStart.clone().add(this.intervalDuration);\n\t\tvar start, end;\n\n\t\t// normalize the range's time-ambiguity\n\t\tif (/year|month|week|day/.test(intervalUnit)) { // whole-days?\n\t\t\tintervalStart.stripTime();\n\t\t\tintervalEnd.stripTime();\n\t\t}\n\t\telse { // needs to have a time?\n\t\t\tif (!intervalStart.hasTime()) {\n\t\t\t\tintervalStart = this.calendar.rezoneDate(intervalStart); // convert to current timezone, with 00:00\n\t\t\t}\n\t\t\tif (!intervalEnd.hasTime()) {\n\t\t\t\tintervalEnd = this.calendar.rezoneDate(intervalEnd); // convert to current timezone, with 00:00\n\t\t\t}\n\t\t}\n\n\t\tstart = intervalStart.clone();\n\t\tstart = this.skipHiddenDays(start);\n\t\tend = intervalEnd.clone();\n\t\tend = this.skipHiddenDays(end, -1, true); // exclusively move backwards\n\n\t\treturn {\n\t\t\tintervalUnit: intervalUnit,\n\t\t\tintervalStart: intervalStart,\n\t\t\tintervalEnd: intervalEnd,\n\t\t\tstart: start,\n\t\t\tend: end\n\t\t};\n\t},\n\n\n\t// Computes the new date when the user hits the prev button, given the current date\n\tcomputePrevDate: function(date) {\n\t\treturn this.massageCurrentDate(\n\t\t\tdate.clone().startOf(this.intervalUnit).subtract(this.intervalDuration), -1\n\t\t);\n\t},\n\n\n\t// Computes the new date when the user hits the next button, given the current date\n\tcomputeNextDate: function(date) {\n\t\treturn this.massageCurrentDate(\n\t\t\tdate.clone().startOf(this.intervalUnit).add(this.intervalDuration)\n\t\t);\n\t},\n\n\n\t// Given an arbitrarily calculated current date of the calendar, returns a date that is ensured to be completely\n\t// visible. `direction` is optional and indicates which direction the current date was being\n\t// incremented or decremented (1 or -1).\n\tmassageCurrentDate: function(date, direction) {\n\t\tif (this.intervalDuration.as('days') <= 1) { // if the view displays a single day or smaller\n\t\t\tif (this.isHiddenDay(date)) {\n\t\t\t\tdate = this.skipHiddenDays(date, direction);\n\t\t\t\tdate.startOf('day');\n\t\t\t}\n\t\t}\n\n\t\treturn date;\n\t},\n\n\n\t/* Title and Date Formatting\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Sets the view's title property to the most updated computed value\n\tupdateTitle: function() {\n\t\tthis.title = this.computeTitle();\n\t},\n\n\n\t// Computes what the title at the top of the calendar should be for this view\n\tcomputeTitle: function() {\n\t\treturn this.formatRange(\n\t\t\t{ start: this.intervalStart, end: this.intervalEnd },\n\t\t\tthis.opt('titleFormat') || this.computeTitleFormat(),\n\t\t\tthis.opt('titleRangeSeparator')\n\t\t);\n\t},\n\n\n\t// Generates the format string that should be used to generate the title for the current date range.\n\t// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\n\tcomputeTitleFormat: function() {\n\t\tif (this.intervalUnit == 'year') {\n\t\t\treturn 'YYYY';\n\t\t}\n\t\telse if (this.intervalUnit == 'month') {\n\t\t\treturn this.opt('monthYearFormat'); // like \"September 2014\"\n\t\t}\n\t\telse if (this.intervalDuration.as('days') > 1) {\n\t\t\treturn 'll'; // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n\t\t}\n\t\telse {\n\t\t\treturn 'LL'; // one day. longer, like \"September 9 2014\"\n\t\t}\n\t},\n\n\n\t// Utility for formatting a range. Accepts a range object, formatting string, and optional separator.\n\t// Displays all-day ranges naturally, with an inclusive end. Takes the current isRTL into account.\n\tformatRange: function(range, formatStr, separator) {\n\t\tvar end = range.end;\n\n\t\tif (!end.hasTime()) { // all-day?\n\t\t\tend = end.clone().subtract(1); // convert to inclusive. last ms of previous day\n\t\t}\n\n\t\treturn formatRange(range.start, end, formatStr, separator, this.opt('isRTL'));\n\t},\n\n\n\t/* Rendering\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Sets the container element that the view should render inside of.\n\t// Does other DOM-related initializations.\n\tsetElement: function(el) {\n\t\tthis.el = el;\n\t\tthis.bindGlobalHandlers();\n\t},\n\n\n\t// Removes the view's container element from the DOM, clearing any content beforehand.\n\t// Undoes any other DOM-related attachments.\n\tremoveElement: function() {\n\t\tthis.clear(); // clears all content\n\n\t\t// clean up the skeleton\n\t\tif (this.isSkeletonRendered) {\n\t\t\tthis.unrenderSkeleton();\n\t\t\tthis.isSkeletonRendered = false;\n\t\t}\n\n\t\tthis.unbindGlobalHandlers();\n\n\t\tthis.el.remove();\n\n\t\t// NOTE: don't null-out this.el in case the View was destroyed within an API callback.\n\t\t// We don't null-out the View's other jQuery element references upon destroy,\n\t\t//  so we shouldn't kill this.el either.\n\t},\n\n\n\t// Does everything necessary to display the view centered around the given date.\n\t// Does every type of rendering EXCEPT rendering events.\n\t// Is asychronous and returns a promise.\n\tdisplay: function(date) {\n\t\tvar _this = this;\n\t\tvar scrollState = null;\n\n\t\tif (this.displaying) {\n\t\t\tscrollState = this.queryScroll();\n\t\t}\n\n\t\treturn this.clear().then(function() { // clear the content first (async)\n\t\t\treturn (\n\t\t\t\t_this.displaying =\n\t\t\t\t\t$.when(_this.displayView(date)) // displayView might return a promise\n\t\t\t\t\t\t.then(function() {\n\t\t\t\t\t\t\t_this.forceScroll(_this.computeInitialScroll(scrollState));\n\t\t\t\t\t\t\t_this.triggerRender();\n\t\t\t\t\t\t})\n\t\t\t);\n\t\t});\n\t},\n\n\n\t// Does everything necessary to clear the content of the view.\n\t// Clears dates and events. Does not clear the skeleton.\n\t// Is asychronous and returns a promise.\n\tclear: function() {\n\t\tvar _this = this;\n\t\tvar displaying = this.displaying;\n\n\t\tif (displaying) { // previously displayed, or in the process of being displayed?\n\t\t\treturn displaying.then(function() { // wait for the display to finish\n\t\t\t\t_this.displaying = null;\n\t\t\t\t_this.clearEvents();\n\t\t\t\treturn _this.clearView(); // might return a promise. chain it\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\treturn $.when(); // an immediately-resolved promise\n\t\t}\n\t},\n\n\n\t// Displays the view's non-event content, such as date-related content or anything required by events.\n\t// Renders the view's non-content skeleton if necessary.\n\t// Can be asynchronous and return a promise.\n\tdisplayView: function(date) {\n\t\tif (!this.isSkeletonRendered) {\n\t\t\tthis.renderSkeleton();\n\t\t\tthis.isSkeletonRendered = true;\n\t\t}\n\t\tthis.setDate(date);\n\t\tif (this.render) {\n\t\t\tthis.render(); // TODO: deprecate\n\t\t}\n\t\tthis.renderDates();\n\t\tthis.updateSize();\n\t\tthis.renderBusinessHours(); // might need coordinates, so should go after updateSize()\n\t},\n\n\n\t// Unrenders the view content that was rendered in displayView.\n\t// Can be asynchronous and return a promise.\n\tclearView: function() {\n\t\tthis.unselect();\n\t\tthis.triggerUnrender();\n\t\tthis.unrenderBusinessHours();\n\t\tthis.unrenderDates();\n\t\tif (this.destroy) {\n\t\t\tthis.destroy(); // TODO: deprecate\n\t\t}\n\t},\n\n\n\t// Renders the basic structure of the view before any content is rendered\n\trenderSkeleton: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Unrenders the basic structure of the view\n\tunrenderSkeleton: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Renders the view's date-related content (like cells that represent days/times).\n\t// Assumes setRange has already been called and the skeleton has already been rendered.\n\trenderDates: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Unrenders the view's date-related content\n\tunrenderDates: function() {\n\t\t// subclasses should override\n\t},\n\n\n\t// Renders business-hours onto the view. Assumes updateSize has already been called.\n\trenderBusinessHours: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Unrenders previously-rendered business-hours\n\tunrenderBusinessHours: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Signals that the view's content has been rendered\n\ttriggerRender: function() {\n\t\tthis.trigger('viewRender', this, this, this.el);\n\t},\n\n\n\t// Signals that the view's content is about to be unrendered\n\ttriggerUnrender: function() {\n\t\tthis.trigger('viewDestroy', this, this, this.el);\n\t},\n\n\n\t// Binds DOM handlers to elements that reside outside the view container, such as the document\n\tbindGlobalHandlers: function() {\n\t\t$(document).on('mousedown', this.documentMousedownProxy);\n\t},\n\n\n\t// Unbinds DOM handlers from elements that reside outside the view container\n\tunbindGlobalHandlers: function() {\n\t\t$(document).off('mousedown', this.documentMousedownProxy);\n\t},\n\n\n\t// Initializes internal variables related to theming\n\tinitThemingProps: function() {\n\t\tvar tm = this.opt('theme') ? 'ui' : 'fc';\n\n\t\tthis.widgetHeaderClass = tm + '-widget-header';\n\t\tthis.widgetContentClass = tm + '-widget-content';\n\t\tthis.highlightStateClass = tm + '-state-highlight';\n\t},\n\n\n\t/* Dimensions\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Refreshes anything dependant upon sizing of the container element of the grid\n\tupdateSize: function(isResize) {\n\t\tvar scrollState;\n\n\t\tif (isResize) {\n\t\t\tscrollState = this.queryScroll();\n\t\t}\n\n\t\tthis.updateHeight(isResize);\n\t\tthis.updateWidth(isResize);\n\n\t\tif (isResize) {\n\t\t\tthis.setScroll(scrollState);\n\t\t}\n\t},\n\n\n\t// Refreshes the horizontal dimensions of the calendar\n\tupdateWidth: function(isResize) {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Refreshes the vertical dimensions of the calendar\n\tupdateHeight: function(isResize) {\n\t\tvar calendar = this.calendar; // we poll the calendar for height information\n\n\t\tthis.setHeight(\n\t\t\tcalendar.getSuggestedViewHeight(),\n\t\t\tcalendar.isHeightAuto()\n\t\t);\n\t},\n\n\n\t// Updates the vertical dimensions of the calendar to the specified height.\n\t// if `isAuto` is set to true, height becomes merely a suggestion and the view should use its \"natural\" height.\n\tsetHeight: function(height, isAuto) {\n\t\t// subclasses should implement\n\t},\n\n\n\t/* Scroller\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Given the total height of the view, return the number of pixels that should be used for the scroller.\n\t// Utility for subclasses.\n\tcomputeScrollerHeight: function(totalHeight) {\n\t\tvar scrollerEl = this.scrollerEl;\n\t\tvar both;\n\t\tvar otherHeight; // cumulative height of everything that is not the scrollerEl in the view (header+borders)\n\n\t\tboth = this.el.add(scrollerEl);\n\n\t\t// fuckin IE8/9/10/11 sometimes returns 0 for dimensions. this weird hack was the only thing that worked\n\t\tboth.css({\n\t\t\tposition: 'relative', // cause a reflow, which will force fresh dimension recalculation\n\t\t\tleft: -1 // ensure reflow in case the el was already relative. negative is less likely to cause new scroll\n\t\t});\n\t\totherHeight = this.el.outerHeight() - scrollerEl.height(); // grab the dimensions\n\t\tboth.css({ position: '', left: '' }); // undo hack\n\n\t\treturn totalHeight - otherHeight;\n\t},\n\n\n\t// Computes the initial pre-configured scroll state prior to allowing the user to change it.\n\t// Given the scroll state from the previous rendering. If first time rendering, given null.\n\tcomputeInitialScroll: function(previousScrollState) {\n\t\treturn 0;\n\t},\n\n\n\t// Retrieves the view's current natural scroll state. Can return an arbitrary format.\n\tqueryScroll: function() {\n\t\tif (this.scrollerEl) {\n\t\t\treturn this.scrollerEl.scrollTop(); // operates on scrollerEl by default\n\t\t}\n\t},\n\n\n\t// Sets the view's scroll state. Will accept the same format computeInitialScroll and queryScroll produce.\n\tsetScroll: function(scrollState) {\n\t\tif (this.scrollerEl) {\n\t\t\treturn this.scrollerEl.scrollTop(scrollState); // operates on scrollerEl by default\n\t\t}\n\t},\n\n\n\t// Sets the scroll state, making sure to overcome any predefined scroll value the browser has in mind\n\tforceScroll: function(scrollState) {\n\t\tvar _this = this;\n\n\t\tthis.setScroll(scrollState);\n\t\tsetTimeout(function() {\n\t\t\t_this.setScroll(scrollState);\n\t\t}, 0);\n\t},\n\n\n\t/* Event Elements / Segments\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Does everything necessary to display the given events onto the current view\n\tdisplayEvents: function(events) {\n\t\tvar scrollState = this.queryScroll();\n\n\t\tthis.clearEvents();\n\t\tthis.renderEvents(events);\n\t\tthis.isEventsRendered = true;\n\t\tthis.setScroll(scrollState);\n\t\tthis.triggerEventRender();\n\t},\n\n\n\t// Does everything necessary to clear the view's currently-rendered events\n\tclearEvents: function() {\n\t\tif (this.isEventsRendered) {\n\t\t\tthis.triggerEventUnrender();\n\t\t\tif (this.destroyEvents) {\n\t\t\t\tthis.destroyEvents(); // TODO: deprecate\n\t\t\t}\n\t\t\tthis.unrenderEvents();\n\t\t\tthis.isEventsRendered = false;\n\t\t}\n\t},\n\n\n\t// Renders the events onto the view.\n\trenderEvents: function(events) {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Removes event elements from the view.\n\tunrenderEvents: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Signals that all events have been rendered\n\ttriggerEventRender: function() {\n\t\tthis.renderedEventSegEach(function(seg) {\n\t\t\tthis.trigger('eventAfterRender', seg.event, seg.event, seg.el);\n\t\t});\n\t\tthis.trigger('eventAfterAllRender');\n\t},\n\n\n\t// Signals that all event elements are about to be removed\n\ttriggerEventUnrender: function() {\n\t\tthis.renderedEventSegEach(function(seg) {\n\t\t\tthis.trigger('eventDestroy', seg.event, seg.event, seg.el);\n\t\t});\n\t},\n\n\n\t// Given an event and the default element used for rendering, returns the element that should actually be used.\n\t// Basically runs events and elements through the eventRender hook.\n\tresolveEventEl: function(event, el) {\n\t\tvar custom = this.trigger('eventRender', event, event, el);\n\n\t\tif (custom === false) { // means don't render at all\n\t\t\tel = null;\n\t\t}\n\t\telse if (custom && custom !== true) {\n\t\t\tel = $(custom);\n\t\t}\n\n\t\treturn el;\n\t},\n\n\n\t// Hides all rendered event segments linked to the given event\n\tshowEvent: function(event) {\n\t\tthis.renderedEventSegEach(function(seg) {\n\t\t\tseg.el.css('visibility', '');\n\t\t}, event);\n\t},\n\n\n\t// Shows all rendered event segments linked to the given event\n\thideEvent: function(event) {\n\t\tthis.renderedEventSegEach(function(seg) {\n\t\t\tseg.el.css('visibility', 'hidden');\n\t\t}, event);\n\t},\n\n\n\t// Iterates through event segments that have been rendered (have an el). Goes through all by default.\n\t// If the optional `event` argument is specified, only iterates through segments linked to that event.\n\t// The `this` value of the callback function will be the view.\n\trenderedEventSegEach: function(func, event) {\n\t\tvar segs = this.getEventSegs();\n\t\tvar i;\n\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tif (!event || segs[i].event._id === event._id) {\n\t\t\t\tif (segs[i].el) {\n\t\t\t\t\tfunc.call(this, segs[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Retrieves all the rendered segment objects for the view\n\tgetEventSegs: function() {\n\t\t// subclasses must implement\n\t\treturn [];\n\t},\n\n\n\t/* Event Drag-n-Drop\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Computes if the given event is allowed to be dragged by the user\n\tisEventDraggable: function(event) {\n\t\tvar source = event.source || {};\n\n\t\treturn firstDefined(\n\t\t\tevent.startEditable,\n\t\t\tsource.startEditable,\n\t\t\tthis.opt('eventStartEditable'),\n\t\t\tevent.editable,\n\t\t\tsource.editable,\n\t\t\tthis.opt('editable')\n\t\t);\n\t},\n\n\n\t// Must be called when an event in the view is dropped onto new location.\n\t// `dropLocation` is an object that contains the new start/end/allDay values for the event.\n\treportEventDrop: function(event, dropLocation, largeUnit, el, ev) {\n\t\tvar calendar = this.calendar;\n\t\tvar mutateResult = calendar.mutateEvent(event, dropLocation, largeUnit);\n\t\tvar undoFunc = function() {\n\t\t\tmutateResult.undo();\n\t\t\tcalendar.reportEventChange();\n\t\t};\n\n\t\tthis.triggerEventDrop(event, mutateResult.dateDelta, undoFunc, el, ev);\n\t\tcalendar.reportEventChange(); // will rerender events\n\t},\n\n\n\t// Triggers event-drop handlers that have subscribed via the API\n\ttriggerEventDrop: function(event, dateDelta, undoFunc, el, ev) {\n\t\tthis.trigger('eventDrop', el[0], event, dateDelta, undoFunc, ev, {}); // {} = jqui dummy\n\t},\n\n\n\t/* External Element Drag-n-Drop\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Must be called when an external element, via jQuery UI, has been dropped onto the calendar.\n\t// `meta` is the parsed data that has been embedded into the dragging event.\n\t// `dropLocation` is an object that contains the new start/end/allDay values for the event.\n\treportExternalDrop: function(meta, dropLocation, el, ev, ui) {\n\t\tvar eventProps = meta.eventProps;\n\t\tvar eventInput;\n\t\tvar event;\n\n\t\t// Try to build an event object and render it. TODO: decouple the two\n\t\tif (eventProps) {\n\t\t\teventInput = $.extend({}, eventProps, dropLocation);\n\t\t\tevent = this.calendar.renderEvent(eventInput, meta.stick)[0]; // renderEvent returns an array\n\t\t}\n\n\t\tthis.triggerExternalDrop(event, dropLocation, el, ev, ui);\n\t},\n\n\n\t// Triggers external-drop handlers that have subscribed via the API\n\ttriggerExternalDrop: function(event, dropLocation, el, ev, ui) {\n\n\t\t// trigger 'drop' regardless of whether element represents an event\n\t\tthis.trigger('drop', el[0], dropLocation.start, ev, ui);\n\n\t\tif (event) {\n\t\t\tthis.trigger('eventReceive', null, event); // signal an external event landed\n\t\t}\n\t},\n\n\n\t/* Drag-n-Drop Rendering (for both events and external elements)\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of a event or external-element drag over the given drop zone.\n\t// If an external-element, seg will be `null`\n\trenderDrag: function(dropLocation, seg) {\n\t\t// subclasses must implement\n\t},\n\n\n\t// Unrenders a visual indication of an event or external-element being dragged.\n\tunrenderDrag: function() {\n\t\t// subclasses must implement\n\t},\n\n\n\t/* Event Resizing\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Computes if the given event is allowed to be resized from its starting edge\n\tisEventResizableFromStart: function(event) {\n\t\treturn this.opt('eventResizableFromStart') && this.isEventResizable(event);\n\t},\n\n\n\t// Computes if the given event is allowed to be resized from its ending edge\n\tisEventResizableFromEnd: function(event) {\n\t\treturn this.isEventResizable(event);\n\t},\n\n\n\t// Computes if the given event is allowed to be resized by the user at all\n\tisEventResizable: function(event) {\n\t\tvar source = event.source || {};\n\n\t\treturn firstDefined(\n\t\t\tevent.durationEditable,\n\t\t\tsource.durationEditable,\n\t\t\tthis.opt('eventDurationEditable'),\n\t\t\tevent.editable,\n\t\t\tsource.editable,\n\t\t\tthis.opt('editable')\n\t\t);\n\t},\n\n\n\t// Must be called when an event in the view has been resized to a new length\n\treportEventResize: function(event, resizeLocation, largeUnit, el, ev) {\n\t\tvar calendar = this.calendar;\n\t\tvar mutateResult = calendar.mutateEvent(event, resizeLocation, largeUnit);\n\t\tvar undoFunc = function() {\n\t\t\tmutateResult.undo();\n\t\t\tcalendar.reportEventChange();\n\t\t};\n\n\t\tthis.triggerEventResize(event, mutateResult.durationDelta, undoFunc, el, ev);\n\t\tcalendar.reportEventChange(); // will rerender events\n\t},\n\n\n\t// Triggers event-resize handlers that have subscribed via the API\n\ttriggerEventResize: function(event, durationDelta, undoFunc, el, ev) {\n\t\tthis.trigger('eventResize', el[0], event, durationDelta, undoFunc, ev, {}); // {} = jqui dummy\n\t},\n\n\n\t/* Selection\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Selects a date range on the view. `start` and `end` are both Moments.\n\t// `ev` is the native mouse event that begin the interaction.\n\tselect: function(range, ev) {\n\t\tthis.unselect(ev);\n\t\tthis.renderSelection(range);\n\t\tthis.reportSelection(range, ev);\n\t},\n\n\n\t// Renders a visual indication of the selection\n\trenderSelection: function(range) {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Called when a new selection is made. Updates internal state and triggers handlers.\n\treportSelection: function(range, ev) {\n\t\tthis.isSelected = true;\n\t\tthis.triggerSelect(range, ev);\n\t},\n\n\n\t// Triggers handlers to 'select'\n\ttriggerSelect: function(range, ev) {\n\t\tthis.trigger('select', null, range.start, range.end, ev);\n\t},\n\n\n\t// Undoes a selection. updates in the internal state and triggers handlers.\n\t// `ev` is the native mouse event that began the interaction.\n\tunselect: function(ev) {\n\t\tif (this.isSelected) {\n\t\t\tthis.isSelected = false;\n\t\t\tif (this.destroySelection) {\n\t\t\t\tthis.destroySelection(); // TODO: deprecate\n\t\t\t}\n\t\t\tthis.unrenderSelection();\n\t\t\tthis.trigger('unselect', null, ev);\n\t\t}\n\t},\n\n\n\t// Unrenders a visual indication of selection\n\tunrenderSelection: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Handler for unselecting when the user clicks something and the 'unselectAuto' setting is on\n\tdocumentMousedown: function(ev) {\n\t\tvar ignore;\n\n\t\t// is there a selection, and has the user made a proper left click?\n\t\tif (this.isSelected && this.opt('unselectAuto') && isPrimaryMouseButton(ev)) {\n\n\t\t\t// only unselect if the clicked element is not identical to or inside of an 'unselectCancel' element\n\t\t\tignore = this.opt('unselectCancel');\n\t\t\tif (!ignore || !$(ev.target).closest(ignore).length) {\n\t\t\t\tthis.unselect(ev);\n\t\t\t}\n\t\t}\n\t},\n\n\n\t/* Day Click\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Triggers handlers to 'dayClick'\n\ttriggerDayClick: function(cell, dayEl, ev) {\n\t\tthis.trigger('dayClick', dayEl, cell.start, ev);\n\t},\n\n\n\t/* Date Utils\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Initializes internal variables related to calculating hidden days-of-week\n\tinitHiddenDays: function() {\n\t\tvar hiddenDays = this.opt('hiddenDays') || []; // array of day-of-week indices that are hidden\n\t\tvar isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n\t\tvar dayCnt = 0;\n\t\tvar i;\n\n\t\tif (this.opt('weekends') === false) {\n\t\t\thiddenDays.push(0, 6); // 0=sunday, 6=saturday\n\t\t}\n\n\t\tfor (i = 0; i < 7; i++) {\n\t\t\tif (\n\t\t\t\t!(isHiddenDayHash[i] = $.inArray(i, hiddenDays) !== -1)\n\t\t\t) {\n\t\t\t\tdayCnt++;\n\t\t\t}\n\t\t}\n\n\t\tif (!dayCnt) {\n\t\t\tthrow 'invalid hiddenDays'; // all days were hidden? bad.\n\t\t}\n\n\t\tthis.isHiddenDayHash = isHiddenDayHash;\n\t},\n\n\n\t// Is the current day hidden?\n\t// `day` is a day-of-week index (0-6), or a Moment\n\tisHiddenDay: function(day) {\n\t\tif (moment.isMoment(day)) {\n\t\t\tday = day.day();\n\t\t}\n\t\treturn this.isHiddenDayHash[day];\n\t},\n\n\n\t// Incrementing the current day until it is no longer a hidden day, returning a copy.\n\t// If the initial value of `date` is not a hidden day, don't do anything.\n\t// Pass `isExclusive` as `true` if you are dealing with an end date.\n\t// `inc` defaults to `1` (increment one day forward each time)\n\tskipHiddenDays: function(date, inc, isExclusive) {\n\t\tvar out = date.clone();\n\t\tinc = inc || 1;\n\t\twhile (\n\t\t\tthis.isHiddenDayHash[(out.day() + (isExclusive ? inc : 0) + 7) % 7]\n\t\t) {\n\t\t\tout.add(inc, 'days');\n\t\t}\n\t\treturn out;\n\t},\n\n\n\t// Returns the date range of the full days the given range visually appears to occupy.\n\t// Returns a new range object.\n\tcomputeDayRange: function(range) {\n\t\tvar startDay = range.start.clone().stripTime(); // the beginning of the day the range starts\n\t\tvar end = range.end;\n\t\tvar endDay = null;\n\t\tvar endTimeMS;\n\n\t\tif (end) {\n\t\t\tendDay = end.clone().stripTime(); // the beginning of the day the range exclusively ends\n\t\t\tendTimeMS = +end.time(); // # of milliseconds into `endDay`\n\n\t\t\t// If the end time is actually inclusively part of the next day and is equal to or\n\t\t\t// beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n\t\t\t// Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n\t\t\tif (endTimeMS && endTimeMS >= this.nextDayThreshold) {\n\t\t\t\tendDay.add(1, 'days');\n\t\t\t}\n\t\t}\n\n\t\t// If no end was specified, or if it is within `startDay` but not past nextDayThreshold,\n\t\t// assign the default duration of one day.\n\t\tif (!end || endDay <= startDay) {\n\t\t\tendDay = startDay.clone().add(1, 'days');\n\t\t}\n\n\t\treturn { start: startDay, end: endDay };\n\t},\n\n\n\t// Does the given event visually appear to occupy more than one day?\n\tisMultiDayEvent: function(event) {\n\t\tvar range = this.computeDayRange(event); // event is range-ish\n\n\t\treturn range.end.diff(range.start, 'days') > 1;\n\t}\n\n});\n\n;;\n\nvar Calendar = fc.Calendar = Class.extend({\n\n\tdirDefaults: null, // option defaults related to LTR or RTL\n\tlangDefaults: null, // option defaults related to current locale\n\toverrides: null, // option overrides given to the fullCalendar constructor\n\toptions: null, // all defaults combined with overrides\n\tviewSpecCache: null, // cache of view definitions\n\tview: null, // current View object\n\theader: null,\n\tloadingLevel: 0, // number of simultaneous loading tasks\n\n\n\t// a lot of this class' OOP logic is scoped within this constructor function,\n\t// but in the future, write individual methods on the prototype.\n\tconstructor: Calendar_constructor,\n\n\n\t// Subclasses can override this for initialization logic after the constructor has been called\n\tinitialize: function() {\n\t},\n\n\n\t// Initializes `this.options` and other important options-related objects\n\tinitOptions: function(overrides) {\n\t\tvar lang, langDefaults;\n\t\tvar isRTL, dirDefaults;\n\n\t\t// converts legacy options into non-legacy ones.\n\t\t// in the future, when this is removed, don't use `overrides` reference. make a copy.\n\t\toverrides = massageOverrides(overrides);\n\n\t\tlang = overrides.lang;\n\t\tlangDefaults = langOptionHash[lang];\n\t\tif (!langDefaults) {\n\t\t\tlang = Calendar.defaults.lang;\n\t\t\tlangDefaults = langOptionHash[lang] || {};\n\t\t}\n\n\t\tisRTL = firstDefined(\n\t\t\toverrides.isRTL,\n\t\t\tlangDefaults.isRTL,\n\t\t\tCalendar.defaults.isRTL\n\t\t);\n\t\tdirDefaults = isRTL ? Calendar.rtlDefaults : {};\n\n\t\tthis.dirDefaults = dirDefaults;\n\t\tthis.langDefaults = langDefaults;\n\t\tthis.overrides = overrides;\n\t\tthis.options = mergeOptions([ // merge defaults and overrides. lowest to highest precedence\n\t\t\tCalendar.defaults, // global defaults\n\t\t\tdirDefaults,\n\t\t\tlangDefaults,\n\t\t\toverrides\n\t\t]);\n\t\tpopulateInstanceComputableOptions(this.options);\n\n\t\tthis.viewSpecCache = {}; // somewhat unrelated\n\t},\n\n\n\t// Gets information about how to create a view. Will use a cache.\n\tgetViewSpec: function(viewType) {\n\t\tvar cache = this.viewSpecCache;\n\n\t\treturn cache[viewType] || (cache[viewType] = this.buildViewSpec(viewType));\n\t},\n\n\n\t// Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n\t// Preference is given to views that have corresponding buttons.\n\tgetUnitViewSpec: function(unit) {\n\t\tvar viewTypes;\n\t\tvar i;\n\t\tvar spec;\n\n\t\tif ($.inArray(unit, intervalUnits) != -1) {\n\n\t\t\t// put views that have buttons first. there will be duplicates, but oh well\n\t\t\tviewTypes = this.header.getViewsWithButtons();\n\t\t\t$.each(fc.views, function(viewType) { // all views\n\t\t\t\tviewTypes.push(viewType);\n\t\t\t});\n\n\t\t\tfor (i = 0; i < viewTypes.length; i++) {\n\t\t\t\tspec = this.getViewSpec(viewTypes[i]);\n\t\t\t\tif (spec) {\n\t\t\t\t\tif (spec.singleUnit == unit) {\n\t\t\t\t\t\treturn spec;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Builds an object with information on how to create a given view\n\tbuildViewSpec: function(requestedViewType) {\n\t\tvar viewOverrides = this.overrides.views || {};\n\t\tvar specChain = []; // for the view. lowest to highest priority\n\t\tvar defaultsChain = []; // for the view. lowest to highest priority\n\t\tvar overridesChain = []; // for the view. lowest to highest priority\n\t\tvar viewType = requestedViewType;\n\t\tvar spec; // for the view\n\t\tvar overrides; // for the view\n\t\tvar duration;\n\t\tvar unit;\n\n\t\t// iterate from the specific view definition to a more general one until we hit an actual View class\n\t\twhile (viewType) {\n\t\t\tspec = fcViews[viewType];\n\t\t\toverrides = viewOverrides[viewType];\n\t\t\tviewType = null; // clear. might repopulate for another iteration\n\n\t\t\tif (typeof spec === 'function') { // TODO: deprecate\n\t\t\t\tspec = { 'class': spec };\n\t\t\t}\n\n\t\t\tif (spec) {\n\t\t\t\tspecChain.unshift(spec);\n\t\t\t\tdefaultsChain.unshift(spec.defaults || {});\n\t\t\t\tduration = duration || spec.duration;\n\t\t\t\tviewType = viewType || spec.type;\n\t\t\t}\n\n\t\t\tif (overrides) {\n\t\t\t\toverridesChain.unshift(overrides); // view-specific option hashes have options at zero-level\n\t\t\t\tduration = duration || overrides.duration;\n\t\t\t\tviewType = viewType || overrides.type;\n\t\t\t}\n\t\t}\n\n\t\tspec = mergeProps(specChain);\n\t\tspec.type = requestedViewType;\n\t\tif (!spec['class']) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (duration) {\n\t\t\tduration = moment.duration(duration);\n\t\t\tif (duration.valueOf()) { // valid?\n\t\t\t\tspec.duration = duration;\n\t\t\t\tunit = computeIntervalUnit(duration);\n\n\t\t\t\t// view is a single-unit duration, like \"week\" or \"day\"\n\t\t\t\t// incorporate options for this. lowest priority\n\t\t\t\tif (duration.as(unit) === 1) {\n\t\t\t\t\tspec.singleUnit = unit;\n\t\t\t\t\toverridesChain.unshift(viewOverrides[unit] || {});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tspec.defaults = mergeOptions(defaultsChain);\n\t\tspec.overrides = mergeOptions(overridesChain);\n\n\t\tthis.buildViewSpecOptions(spec);\n\t\tthis.buildViewSpecButtonText(spec, requestedViewType);\n\n\t\treturn spec;\n\t},\n\n\n\t// Builds and assigns a view spec's options object from its already-assigned defaults and overrides\n\tbuildViewSpecOptions: function(spec) {\n\t\tspec.options = mergeOptions([ // lowest to highest priority\n\t\t\tCalendar.defaults, // global defaults\n\t\t\tspec.defaults, // view's defaults (from ViewSubclass.defaults)\n\t\t\tthis.dirDefaults,\n\t\t\tthis.langDefaults, // locale and dir take precedence over view's defaults!\n\t\t\tthis.overrides, // calendar's overrides (options given to constructor)\n\t\t\tspec.overrides // view's overrides (view-specific options)\n\t\t]);\n\t\tpopulateInstanceComputableOptions(spec.options);\n\t},\n\n\n\t// Computes and assigns a view spec's buttonText-related options\n\tbuildViewSpecButtonText: function(spec, requestedViewType) {\n\n\t\t// given an options object with a possible `buttonText` hash, lookup the buttonText for the\n\t\t// requested view, falling back to a generic unit entry like \"week\" or \"day\"\n\t\tfunction queryButtonText(options) {\n\t\t\tvar buttonText = options.buttonText || {};\n\t\t\treturn buttonText[requestedViewType] ||\n\t\t\t\t(spec.singleUnit ? buttonText[spec.singleUnit] : null);\n\t\t}\n\n\t\t// highest to lowest priority\n\t\tspec.buttonTextOverride =\n\t\t\tqueryButtonText(this.overrides) || // constructor-specified buttonText lookup hash takes precedence\n\t\t\tspec.overrides.buttonText; // `buttonText` for view-specific options is a string\n\n\t\t// highest to lowest priority. mirrors buildViewSpecOptions\n\t\tspec.buttonTextDefault =\n\t\t\tqueryButtonText(this.langDefaults) ||\n\t\t\tqueryButtonText(this.dirDefaults) ||\n\t\t\tspec.defaults.buttonText || // a single string. from ViewSubclass.defaults\n\t\t\tqueryButtonText(Calendar.defaults) ||\n\t\t\t(spec.duration ? this.humanizeDuration(spec.duration) : null) || // like \"3 days\"\n\t\t\trequestedViewType; // fall back to given view name\n\t},\n\n\n\t// Given a view name for a custom view or a standard view, creates a ready-to-go View object\n\tinstantiateView: function(viewType) {\n\t\tvar spec = this.getViewSpec(viewType);\n\n\t\treturn new spec['class'](this, viewType, spec.options, spec.duration);\n\t},\n\n\n\t// Returns a boolean about whether the view is okay to instantiate at some point\n\tisValidViewType: function(viewType) {\n\t\treturn Boolean(this.getViewSpec(viewType));\n\t},\n\n\n\t// Should be called when any type of async data fetching begins\n\tpushLoading: function() {\n\t\tif (!(this.loadingLevel++)) {\n\t\t\tthis.trigger('loading', null, true, this.view);\n\t\t}\n\t},\n\n\n\t// Should be called when any type of async data fetching completes\n\tpopLoading: function() {\n\t\tif (!(--this.loadingLevel)) {\n\t\t\tthis.trigger('loading', null, false, this.view);\n\t\t}\n\t},\n\n\n\t// Given arguments to the select method in the API, returns a range\n\tbuildSelectRange: function(start, end) {\n\n\t\tstart = this.moment(start);\n\t\tif (end) {\n\t\t\tend = this.moment(end);\n\t\t}\n\t\telse if (start.hasTime()) {\n\t\t\tend = start.clone().add(this.defaultTimedEventDuration);\n\t\t}\n\t\telse {\n\t\t\tend = start.clone().add(this.defaultAllDayEventDuration);\n\t\t}\n\n\t\treturn { start: start, end: end };\n\t}\n\n});\n\n\nCalendar.mixin(Emitter);\n\n\nfunction Calendar_constructor(element, overrides) {\n\tvar t = this;\n\n\n\tt.initOptions(overrides || {});\n\tvar options = this.options;\n\n\t\n\t// Exports\n\t// -----------------------------------------------------------------------------------\n\n\tt.render = render;\n\tt.destroy = destroy;\n\tt.refetchEvents = refetchEvents;\n\tt.reportEvents = reportEvents;\n\tt.reportEventChange = reportEventChange;\n\tt.rerenderEvents = renderEvents; // `renderEvents` serves as a rerender. an API method\n\tt.changeView = renderView; // `renderView` will switch to another view\n\tt.select = select;\n\tt.unselect = unselect;\n\tt.prev = prev;\n\tt.next = next;\n\tt.prevYear = prevYear;\n\tt.nextYear = nextYear;\n\tt.today = today;\n\tt.gotoDate = gotoDate;\n\tt.incrementDate = incrementDate;\n\tt.zoomTo = zoomTo;\n\tt.getDate = getDate;\n\tt.getCalendar = getCalendar;\n\tt.getView = getView;\n\tt.option = option;\n\tt.trigger = trigger;\n\n\n\n\t// Language-data Internals\n\t// -----------------------------------------------------------------------------------\n\t// Apply overrides to the current language's data\n\n\n\tvar localeData = createObject( // make a cheap copy\n\t\tgetMomentLocaleData(options.lang) // will fall back to en\n\t);\n\n\tif (options.monthNames) {\n\t\tlocaleData._months = options.monthNames;\n\t}\n\tif (options.monthNamesShort) {\n\t\tlocaleData._monthsShort = options.monthNamesShort;\n\t}\n\tif (options.dayNames) {\n\t\tlocaleData._weekdays = options.dayNames;\n\t}\n\tif (options.dayNamesShort) {\n\t\tlocaleData._weekdaysShort = options.dayNamesShort;\n\t}\n\tif (options.firstDay != null) {\n\t\tvar _week = createObject(localeData._week); // _week: { dow: # }\n\t\t_week.dow = options.firstDay;\n\t\tlocaleData._week = _week;\n\t}\n\n\t// assign a normalized value, to be used by our .week() moment extension\n\tlocaleData._fullCalendar_weekCalc = (function(weekCalc) {\n\t\tif (typeof weekCalc === 'function') {\n\t\t\treturn weekCalc;\n\t\t}\n\t\telse if (weekCalc === 'local') {\n\t\t\treturn weekCalc;\n\t\t}\n\t\telse if (weekCalc === 'iso' || weekCalc === 'ISO') {\n\t\t\treturn 'ISO';\n\t\t}\n\t})(options.weekNumberCalculation);\n\n\n\n\t// Calendar-specific Date Utilities\n\t// -----------------------------------------------------------------------------------\n\n\n\tt.defaultAllDayEventDuration = moment.duration(options.defaultAllDayEventDuration);\n\tt.defaultTimedEventDuration = moment.duration(options.defaultTimedEventDuration);\n\n\n\t// Builds a moment using the settings of the current calendar: timezone and language.\n\t// Accepts anything the vanilla moment() constructor accepts.\n\tt.moment = function() {\n\t\tvar mom;\n\n\t\tif (options.timezone === 'local') {\n\t\t\tmom = fc.moment.apply(null, arguments);\n\n\t\t\t// Force the moment to be local, because fc.moment doesn't guarantee it.\n\t\t\tif (mom.hasTime()) { // don't give ambiguously-timed moments a local zone\n\t\t\t\tmom.local();\n\t\t\t}\n\t\t}\n\t\telse if (options.timezone === 'UTC') {\n\t\t\tmom = fc.moment.utc.apply(null, arguments); // process as UTC\n\t\t}\n\t\telse {\n\t\t\tmom = fc.moment.parseZone.apply(null, arguments); // let the input decide the zone\n\t\t}\n\n\t\tif ('_locale' in mom) { // moment 2.8 and above\n\t\t\tmom._locale = localeData;\n\t\t}\n\t\telse { // pre-moment-2.8\n\t\t\tmom._lang = localeData;\n\t\t}\n\n\t\treturn mom;\n\t};\n\n\n\t// Returns a boolean about whether or not the calendar knows how to calculate\n\t// the timezone offset of arbitrary dates in the current timezone.\n\tt.getIsAmbigTimezone = function() {\n\t\treturn options.timezone !== 'local' && options.timezone !== 'UTC';\n\t};\n\n\n\t// Returns a copy of the given date in the current timezone of it is ambiguously zoned.\n\t// This will also give the date an unambiguous time.\n\tt.rezoneDate = function(date) {\n\t\treturn t.moment(date.toArray());\n\t};\n\n\n\t// Returns a moment for the current date, as defined by the client's computer,\n\t// or overridden by the `now` option.\n\tt.getNow = function() {\n\t\tvar now = options.now;\n\t\tif (typeof now === 'function') {\n\t\t\tnow = now();\n\t\t}\n\t\treturn t.moment(now);\n\t};\n\n\n\t// Get an event's normalized end date. If not present, calculate it from the defaults.\n\tt.getEventEnd = function(event) {\n\t\tif (event.end) {\n\t\t\treturn event.end.clone();\n\t\t}\n\t\telse {\n\t\t\treturn t.getDefaultEventEnd(event.allDay, event.start);\n\t\t}\n\t};\n\n\n\t// Given an event's allDay status and start date, return swhat its fallback end date should be.\n\tt.getDefaultEventEnd = function(allDay, start) { // TODO: rename to computeDefaultEventEnd\n\t\tvar end = start.clone();\n\n\t\tif (allDay) {\n\t\t\tend.stripTime().add(t.defaultAllDayEventDuration);\n\t\t}\n\t\telse {\n\t\t\tend.add(t.defaultTimedEventDuration);\n\t\t}\n\n\t\tif (t.getIsAmbigTimezone()) {\n\t\t\tend.stripZone(); // we don't know what the tzo should be\n\t\t}\n\n\t\treturn end;\n\t};\n\n\n\t// Produces a human-readable string for the given duration.\n\t// Side-effect: changes the locale of the given duration.\n\tt.humanizeDuration = function(duration) {\n\t\treturn (duration.locale || duration.lang).call(duration, options.lang) // works moment-pre-2.8\n\t\t\t.humanize();\n\t};\n\n\n\t\n\t// Imports\n\t// -----------------------------------------------------------------------------------\n\n\n\tEventManager.call(t, options);\n\tvar isFetchNeeded = t.isFetchNeeded;\n\tvar fetchEvents = t.fetchEvents;\n\n\n\n\t// Locals\n\t// -----------------------------------------------------------------------------------\n\n\n\tvar _element = element[0];\n\tvar header;\n\tvar headerElement;\n\tvar content;\n\tvar tm; // for making theme classes\n\tvar currentView; // NOTE: keep this in sync with this.view\n\tvar viewsByType = {}; // holds all instantiated view instances, current or not\n\tvar suggestedViewHeight;\n\tvar windowResizeProxy; // wraps the windowResize function\n\tvar ignoreWindowResize = 0;\n\tvar date;\n\tvar events = [];\n\t\n\t\n\t\n\t// Main Rendering\n\t// -----------------------------------------------------------------------------------\n\n\n\tif (options.defaultDate != null) {\n\t\tdate = t.moment(options.defaultDate);\n\t}\n\telse {\n\t\tdate = t.getNow();\n\t}\n\t\n\t\n\tfunction render() {\n\t\tif (!content) {\n\t\t\tinitialRender();\n\t\t}\n\t\telse if (elementVisible()) {\n\t\t\t// mainly for the public API\n\t\t\tcalcSize();\n\t\t\trenderView();\n\t\t}\n\t}\n\t\n\t\n\tfunction initialRender() {\n\t\ttm = options.theme ? 'ui' : 'fc';\n\t\telement.addClass('fc');\n\n\t\tif (options.isRTL) {\n\t\t\telement.addClass('fc-rtl');\n\t\t}\n\t\telse {\n\t\t\telement.addClass('fc-ltr');\n\t\t}\n\n\t\tif (options.theme) {\n\t\t\telement.addClass('ui-widget');\n\t\t}\n\t\telse {\n\t\t\telement.addClass('fc-unthemed');\n\t\t}\n\n\t\tcontent = $(\"<div class='fc-view-container'/>\").prependTo(element);\n\n\t\theader = t.header = new Header(t, options);\n\t\theaderElement = header.render();\n\t\tif (headerElement) {\n\t\t\telement.prepend(headerElement);\n\t\t}\n\n\t\trenderView(options.defaultView);\n\n\t\tif (options.handleWindowResize) {\n\t\t\twindowResizeProxy = debounce(windowResize, options.windowResizeDelay); // prevents rapid calls\n\t\t\t$(window).resize(windowResizeProxy);\n\t\t}\n\t}\n\t\n\t\n\tfunction destroy() {\n\n\t\tif (currentView) {\n\t\t\tcurrentView.removeElement();\n\n\t\t\t// NOTE: don't null-out currentView/t.view in case API methods are called after destroy.\n\t\t\t// It is still the \"current\" view, just not rendered.\n\t\t}\n\n\t\theader.removeElement();\n\t\tcontent.remove();\n\t\telement.removeClass('fc fc-ltr fc-rtl fc-unthemed ui-widget');\n\n\t\tif (windowResizeProxy) {\n\t\t\t$(window).unbind('resize', windowResizeProxy);\n\t\t}\n\t}\n\t\n\t\n\tfunction elementVisible() {\n\t\treturn element.is(':visible');\n\t}\n\t\n\t\n\n\t// View Rendering\n\t// -----------------------------------------------------------------------------------\n\n\n\t// Renders a view because of a date change, view-type change, or for the first time.\n\t// If not given a viewType, keep the current view but render different dates.\n\tfunction renderView(viewType) {\n\t\tignoreWindowResize++;\n\n\t\t// if viewType is changing, remove the old view's rendering\n\t\tif (currentView && viewType && currentView.type !== viewType) {\n\t\t\theader.deactivateButton(currentView.type);\n\t\t\tfreezeContentHeight(); // prevent a scroll jump when view element is removed\n\t\t\tcurrentView.removeElement();\n\t\t\tcurrentView = t.view = null;\n\t\t}\n\n\t\t// if viewType changed, or the view was never created, create a fresh view\n\t\tif (!currentView && viewType) {\n\t\t\tcurrentView = t.view =\n\t\t\t\tviewsByType[viewType] ||\n\t\t\t\t(viewsByType[viewType] = t.instantiateView(viewType));\n\n\t\t\tcurrentView.setElement(\n\t\t\t\t$(\"<div class='fc-view fc-\" + viewType + \"-view' />\").appendTo(content)\n\t\t\t);\n\t\t\theader.activateButton(viewType);\n\t\t}\n\n\t\tif (currentView) {\n\n\t\t\t// in case the view should render a period of time that is completely hidden\n\t\t\tdate = currentView.massageCurrentDate(date);\n\n\t\t\t// render or rerender the view\n\t\t\tif (\n\t\t\t\t!currentView.displaying ||\n\t\t\t\t!date.isWithin(currentView.intervalStart, currentView.intervalEnd) // implicit date window change\n\t\t\t) {\n\t\t\t\tif (elementVisible()) {\n\n\t\t\t\t\tfreezeContentHeight();\n\t\t\t\t\tcurrentView.display(date);\n\t\t\t\t\tunfreezeContentHeight(); // immediately unfreeze regardless of whether display is async\n\n\t\t\t\t\t// need to do this after View::render, so dates are calculated\n\t\t\t\t\tupdateHeaderTitle();\n\t\t\t\t\tupdateTodayButton();\n\n\t\t\t\t\tgetAndRenderEvents();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tunfreezeContentHeight(); // undo any lone freezeContentHeight calls\n\t\tignoreWindowResize--;\n\t}\n\n\t\n\n\t// Resizing\n\t// -----------------------------------------------------------------------------------\n\n\n\tt.getSuggestedViewHeight = function() {\n\t\tif (suggestedViewHeight === undefined) {\n\t\t\tcalcSize();\n\t\t}\n\t\treturn suggestedViewHeight;\n\t};\n\n\n\tt.isHeightAuto = function() {\n\t\treturn options.contentHeight === 'auto' || options.height === 'auto';\n\t};\n\t\n\t\n\tfunction updateSize(shouldRecalc) {\n\t\tif (elementVisible()) {\n\n\t\t\tif (shouldRecalc) {\n\t\t\t\t_calcSize();\n\t\t\t}\n\n\t\t\tignoreWindowResize++;\n\t\t\tcurrentView.updateSize(true); // isResize=true. will poll getSuggestedViewHeight() and isHeightAuto()\n\t\t\tignoreWindowResize--;\n\n\t\t\treturn true; // signal success\n\t\t}\n\t}\n\n\n\tfunction calcSize() {\n\t\tif (elementVisible()) {\n\t\t\t_calcSize();\n\t\t}\n\t}\n\t\n\t\n\tfunction _calcSize() { // assumes elementVisible\n\t\tif (typeof options.contentHeight === 'number') { // exists and not 'auto'\n\t\t\tsuggestedViewHeight = options.contentHeight;\n\t\t}\n\t\telse if (typeof options.height === 'number') { // exists and not 'auto'\n\t\t\tsuggestedViewHeight = options.height - (headerElement ? headerElement.outerHeight(true) : 0);\n\t\t}\n\t\telse {\n\t\t\tsuggestedViewHeight = Math.round(content.width() / Math.max(options.aspectRatio, .5));\n\t\t}\n\t}\n\t\n\t\n\tfunction windowResize(ev) {\n\t\tif (\n\t\t\t!ignoreWindowResize &&\n\t\t\tev.target === window && // so we don't process jqui \"resize\" events that have bubbled up\n\t\t\tcurrentView.start // view has already been rendered\n\t\t) {\n\t\t\tif (updateSize(true)) {\n\t\t\t\tcurrentView.trigger('windowResize', _element);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t\n\t/* Event Fetching/Rendering\n\t-----------------------------------------------------------------------------*/\n\t// TODO: going forward, most of this stuff should be directly handled by the view\n\n\n\tfunction refetchEvents() { // can be called as an API method\n\t\tdestroyEvents(); // so that events are cleared before user starts waiting for AJAX\n\t\tfetchAndRenderEvents();\n\t}\n\n\n\tfunction renderEvents() { // destroys old events if previously rendered\n\t\tif (elementVisible()) {\n\t\t\tfreezeContentHeight();\n\t\t\tcurrentView.displayEvents(events);\n\t\t\tunfreezeContentHeight();\n\t\t}\n\t}\n\n\n\tfunction destroyEvents() {\n\t\tfreezeContentHeight();\n\t\tcurrentView.clearEvents();\n\t\tunfreezeContentHeight();\n\t}\n\t\n\n\tfunction getAndRenderEvents() {\n\t\tif (!options.lazyFetching || isFetchNeeded(currentView.start, currentView.end)) {\n\t\t\tfetchAndRenderEvents();\n\t\t}\n\t\telse {\n\t\t\trenderEvents();\n\t\t}\n\t}\n\n\n\tfunction fetchAndRenderEvents() {\n\t\tfetchEvents(currentView.start, currentView.end);\n\t\t\t// ... will call reportEvents\n\t\t\t// ... which will call renderEvents\n\t}\n\n\t\n\t// called when event data arrives\n\tfunction reportEvents(_events) {\n\t\tevents = _events;\n\t\trenderEvents();\n\t}\n\n\n\t// called when a single event's data has been changed\n\tfunction reportEventChange() {\n\t\trenderEvents();\n\t}\n\n\n\n\t/* Header Updating\n\t-----------------------------------------------------------------------------*/\n\n\n\tfunction updateHeaderTitle() {\n\t\theader.updateTitle(currentView.title);\n\t}\n\n\n\tfunction updateTodayButton() {\n\t\tvar now = t.getNow();\n\t\tif (now.isWithin(currentView.intervalStart, currentView.intervalEnd)) {\n\t\t\theader.disableButton('today');\n\t\t}\n\t\telse {\n\t\t\theader.enableButton('today');\n\t\t}\n\t}\n\t\n\n\n\t/* Selection\n\t-----------------------------------------------------------------------------*/\n\t\n\n\tfunction select(start, end) {\n\t\tcurrentView.select(\n\t\t\tt.buildSelectRange.apply(t, arguments)\n\t\t);\n\t}\n\t\n\n\tfunction unselect() { // safe to be called before renderView\n\t\tif (currentView) {\n\t\t\tcurrentView.unselect();\n\t\t}\n\t}\n\t\n\t\n\t\n\t/* Date\n\t-----------------------------------------------------------------------------*/\n\t\n\t\n\tfunction prev() {\n\t\tdate = currentView.computePrevDate(date);\n\t\trenderView();\n\t}\n\t\n\t\n\tfunction next() {\n\t\tdate = currentView.computeNextDate(date);\n\t\trenderView();\n\t}\n\t\n\t\n\tfunction prevYear() {\n\t\tdate.add(-1, 'years');\n\t\trenderView();\n\t}\n\t\n\t\n\tfunction nextYear() {\n\t\tdate.add(1, 'years');\n\t\trenderView();\n\t}\n\t\n\t\n\tfunction today() {\n\t\tdate = t.getNow();\n\t\trenderView();\n\t}\n\t\n\t\n\tfunction gotoDate(dateInput) {\n\t\tdate = t.moment(dateInput);\n\t\trenderView();\n\t}\n\t\n\t\n\tfunction incrementDate(delta) {\n\t\tdate.add(moment.duration(delta));\n\t\trenderView();\n\t}\n\n\n\t// Forces navigation to a view for the given date.\n\t// `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n\tfunction zoomTo(newDate, viewType) {\n\t\tvar spec;\n\n\t\tviewType = viewType || 'day'; // day is default zoom\n\t\tspec = t.getViewSpec(viewType) || t.getUnitViewSpec(viewType);\n\n\t\tdate = newDate;\n\t\trenderView(spec ? spec.type : null);\n\t}\n\t\n\t\n\tfunction getDate() {\n\t\treturn date.clone();\n\t}\n\n\n\n\t/* Height \"Freezing\"\n\t-----------------------------------------------------------------------------*/\n\t// TODO: move this into the view\n\n\n\tfunction freezeContentHeight() {\n\t\tcontent.css({\n\t\t\twidth: '100%',\n\t\t\theight: content.height(),\n\t\t\toverflow: 'hidden'\n\t\t});\n\t}\n\n\n\tfunction unfreezeContentHeight() {\n\t\tcontent.css({\n\t\t\twidth: '',\n\t\t\theight: '',\n\t\t\toverflow: ''\n\t\t});\n\t}\n\t\n\t\n\t\n\t/* Misc\n\t-----------------------------------------------------------------------------*/\n\t\n\n\tfunction getCalendar() {\n\t\treturn t;\n\t}\n\n\t\n\tfunction getView() {\n\t\treturn currentView;\n\t}\n\t\n\t\n\tfunction option(name, value) {\n\t\tif (value === undefined) {\n\t\t\treturn options[name];\n\t\t}\n\t\tif (name == 'height' || name == 'contentHeight' || name == 'aspectRatio') {\n\t\t\toptions[name] = value;\n\t\t\tupdateSize(true); // true = allow recalculation of height\n\t\t}\n\t}\n\t\n\t\n\tfunction trigger(name, thisObj) { // overrides the Emitter's trigger method :(\n\t\tvar args = Array.prototype.slice.call(arguments, 2);\n\n\t\tthisObj = thisObj || _element;\n\t\tthis.triggerWith(name, thisObj, args); // Emitter's method\n\n\t\tif (options[name]) {\n\t\t\treturn options[name].apply(thisObj, args);\n\t\t}\n\t}\n\n\tt.initialize();\n}\n\n;;\n\nCalendar.defaults = {\n\n\ttitleRangeSeparator: ' \\u2014 ', // emphasized dash\n\tmonthYearFormat: 'MMMM YYYY', // required for en. other languages rely on datepicker computable option\n\n\tdefaultTimedEventDuration: '02:00:00',\n\tdefaultAllDayEventDuration: { days: 1 },\n\tforceEventDuration: false,\n\tnextDayThreshold: '09:00:00', // 9am\n\n\t// display\n\tdefaultView: 'month',\n\taspectRatio: 1.35,\n\theader: {\n\t\tleft: 'title',\n\t\tcenter: '',\n\t\tright: 'today prev,next'\n\t},\n\tweekends: true,\n\tweekNumbers: false,\n\n\tweekNumberTitle: 'W',\n\tweekNumberCalculation: 'local',\n\t\n\t//editable: false,\n\n\tscrollTime: '06:00:00',\n\t\n\t// event ajax\n\tlazyFetching: true,\n\tstartParam: 'start',\n\tendParam: 'end',\n\ttimezoneParam: 'timezone',\n\n\ttimezone: false,\n\n\t//allDayDefault: undefined,\n\n\t// locale\n\tisRTL: false,\n\tbuttonText: {\n\t\tprev: \"prev\",\n\t\tnext: \"next\",\n\t\tprevYear: \"prev year\",\n\t\tnextYear: \"next year\",\n\t\tyear: 'year', // TODO: locale files need to specify this\n\t\ttoday: 'today',\n\t\tmonth: 'month',\n\t\tweek: 'week',\n\t\tday: 'day'\n\t},\n\n\tbuttonIcons: {\n\t\tprev: 'left-single-arrow',\n\t\tnext: 'right-single-arrow',\n\t\tprevYear: 'left-double-arrow',\n\t\tnextYear: 'right-double-arrow'\n\t},\n\t\n\t// jquery-ui theming\n\ttheme: false,\n\tthemeButtonIcons: {\n\t\tprev: 'circle-triangle-w',\n\t\tnext: 'circle-triangle-e',\n\t\tprevYear: 'seek-prev',\n\t\tnextYear: 'seek-next'\n\t},\n\n\t//eventResizableFromStart: false,\n\tdragOpacity: .75,\n\tdragRevertDuration: 500,\n\tdragScroll: true,\n\t\n\t//selectable: false,\n\tunselectAuto: true,\n\t\n\tdropAccept: '*',\n\n\teventOrder: 'title',\n\n\teventLimit: false,\n\teventLimitText: 'more',\n\teventLimitClick: 'popover',\n\tdayPopoverFormat: 'LL',\n\t\n\thandleWindowResize: true,\n\twindowResizeDelay: 200 // milliseconds before an updateSize happens\n\t\n};\n\n\nCalendar.englishDefaults = { // used by lang.js\n\tdayPopoverFormat: 'dddd, MMMM D'\n};\n\n\nCalendar.rtlDefaults = { // right-to-left defaults\n\theader: { // TODO: smarter solution (first/center/last ?)\n\t\tleft: 'next,prev today',\n\t\tcenter: '',\n\t\tright: 'title'\n\t},\n\tbuttonIcons: {\n\t\tprev: 'right-single-arrow',\n\t\tnext: 'left-single-arrow',\n\t\tprevYear: 'right-double-arrow',\n\t\tnextYear: 'left-double-arrow'\n\t},\n\tthemeButtonIcons: {\n\t\tprev: 'circle-triangle-e',\n\t\tnext: 'circle-triangle-w',\n\t\tnextYear: 'seek-prev',\n\t\tprevYear: 'seek-next'\n\t}\n};\n\n;;\n\nvar langOptionHash = fc.langs = {}; // initialize and expose\n\n\n// TODO: document the structure and ordering of a FullCalendar lang file\n// TODO: rename everything \"lang\" to \"locale\", like what the moment project did\n\n\n// Initialize jQuery UI datepicker translations while using some of the translations\n// Will set this as the default language for datepicker.\nfc.datepickerLang = function(langCode, dpLangCode, dpOptions) {\n\n\t// get the FullCalendar internal option hash for this language. create if necessary\n\tvar fcOptions = langOptionHash[langCode] || (langOptionHash[langCode] = {});\n\n\t// transfer some simple options from datepicker to fc\n\tfcOptions.isRTL = dpOptions.isRTL;\n\tfcOptions.weekNumberTitle = dpOptions.weekHeader;\n\n\t// compute some more complex options from datepicker\n\t$.each(dpComputableOptions, function(name, func) {\n\t\tfcOptions[name] = func(dpOptions);\n\t});\n\n\t// is jQuery UI Datepicker is on the page?\n\tif ($.datepicker) {\n\n\t\t// Register the language data.\n\t\t// FullCalendar and MomentJS use language codes like \"pt-br\" but Datepicker\n\t\t// does it like \"pt-BR\" or if it doesn't have the language, maybe just \"pt\".\n\t\t// Make an alias so the language can be referenced either way.\n\t\t$.datepicker.regional[dpLangCode] =\n\t\t\t$.datepicker.regional[langCode] = // alias\n\t\t\t\tdpOptions;\n\n\t\t// Alias 'en' to the default language data. Do this every time.\n\t\t$.datepicker.regional.en = $.datepicker.regional[''];\n\n\t\t// Set as Datepicker's global defaults.\n\t\t$.datepicker.setDefaults(dpOptions);\n\t}\n};\n\n\n// Sets FullCalendar-specific translations. Will set the language as the global default.\nfc.lang = function(langCode, newFcOptions) {\n\tvar fcOptions;\n\tvar momOptions;\n\n\t// get the FullCalendar internal option hash for this language. create if necessary\n\tfcOptions = langOptionHash[langCode] || (langOptionHash[langCode] = {});\n\n\t// provided new options for this language? merge them in\n\tif (newFcOptions) {\n\t\tfcOptions = langOptionHash[langCode] = mergeOptions([ fcOptions, newFcOptions ]);\n\t}\n\n\t// compute language options that weren't defined.\n\t// always do this. newFcOptions can be undefined when initializing from i18n file,\n\t// so no way to tell if this is an initialization or a default-setting.\n\tmomOptions = getMomentLocaleData(langCode); // will fall back to en\n\t$.each(momComputableOptions, function(name, func) {\n\t\tif (fcOptions[name] == null) {\n\t\t\tfcOptions[name] = func(momOptions, fcOptions);\n\t\t}\n\t});\n\n\t// set it as the default language for FullCalendar\n\tCalendar.defaults.lang = langCode;\n};\n\n\n// NOTE: can't guarantee any of these computations will run because not every language has datepicker\n// configs, so make sure there are English fallbacks for these in the defaults file.\nvar dpComputableOptions = {\n\n\tbuttonText: function(dpOptions) {\n\t\treturn {\n\t\t\t// the translations sometimes wrongly contain HTML entities\n\t\t\tprev: stripHtmlEntities(dpOptions.prevText),\n\t\t\tnext: stripHtmlEntities(dpOptions.nextText),\n\t\t\ttoday: stripHtmlEntities(dpOptions.currentText)\n\t\t};\n\t},\n\n\t// Produces format strings like \"MMMM YYYY\" -> \"September 2014\"\n\tmonthYearFormat: function(dpOptions) {\n\t\treturn dpOptions.showMonthAfterYear ?\n\t\t\t'YYYY[' + dpOptions.yearSuffix + '] MMMM' :\n\t\t\t'MMMM YYYY[' + dpOptions.yearSuffix + ']';\n\t}\n\n};\n\nvar momComputableOptions = {\n\n\t// Produces format strings like \"ddd M/D\" -> \"Fri 9/15\"\n\tdayOfMonthFormat: function(momOptions, fcOptions) {\n\t\tvar format = momOptions.longDateFormat('l'); // for the format like \"M/D/YYYY\"\n\n\t\t// strip the year off the edge, as well as other misc non-whitespace chars\n\t\tformat = format.replace(/^Y+[^\\w\\s]*|[^\\w\\s]*Y+$/g, '');\n\n\t\tif (fcOptions.isRTL) {\n\t\t\tformat += ' ddd'; // for RTL, add day-of-week to end\n\t\t}\n\t\telse {\n\t\t\tformat = 'ddd ' + format; // for LTR, add day-of-week to beginning\n\t\t}\n\t\treturn format;\n\t},\n\n\t// Produces format strings like \"h:mma\" -> \"6:00pm\"\n\tmediumTimeFormat: function(momOptions) { // can't be called `timeFormat` because collides with option\n\t\treturn momOptions.longDateFormat('LT')\n\t\t\t.replace(/\\s*a$/i, 'a'); // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\n\t},\n\n\t// Produces format strings like \"h(:mm)a\" -> \"6pm\" / \"6:30pm\"\n\tsmallTimeFormat: function(momOptions) {\n\t\treturn momOptions.longDateFormat('LT')\n\t\t\t.replace(':mm', '(:mm)')\n\t\t\t.replace(/(\\Wmm)$/, '($1)') // like above, but for foreign langs\n\t\t\t.replace(/\\s*a$/i, 'a'); // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\n\t},\n\n\t// Produces format strings like \"h(:mm)t\" -> \"6p\" / \"6:30p\"\n\textraSmallTimeFormat: function(momOptions) {\n\t\treturn momOptions.longDateFormat('LT')\n\t\t\t.replace(':mm', '(:mm)')\n\t\t\t.replace(/(\\Wmm)$/, '($1)') // like above, but for foreign langs\n\t\t\t.replace(/\\s*a$/i, 't'); // convert to AM/PM/am/pm to lowercase one-letter. remove any spaces beforehand\n\t},\n\n\t// Produces format strings like \"ha\" / \"H\" -> \"6pm\" / \"18\"\n\thourFormat: function(momOptions) {\n\t\treturn momOptions.longDateFormat('LT')\n\t\t\t.replace(':mm', '')\n\t\t\t.replace(/(\\Wmm)$/, '') // like above, but for foreign langs\n\t\t\t.replace(/\\s*a$/i, 'a'); // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\n\t},\n\n\t// Produces format strings like \"h:mm\" -> \"6:30\" (with no AM/PM)\n\tnoMeridiemTimeFormat: function(momOptions) {\n\t\treturn momOptions.longDateFormat('LT')\n\t\t\t.replace(/\\s*a$/i, ''); // remove trailing AM/PM\n\t}\n\n};\n\n\n// options that should be computed off live calendar options (considers override options)\nvar instanceComputableOptions = { // TODO: best place for this? related to lang?\n\n\t// Produces format strings for results like \"Mo 16\"\n\tsmallDayDateFormat: function(options) {\n\t\treturn options.isRTL ?\n\t\t\t'D dd' :\n\t\t\t'dd D';\n\t},\n\n\t// Produces format strings for results like \"Wk 5\"\n\tweekFormat: function(options) {\n\t\treturn options.isRTL ?\n\t\t\t'w[ ' + options.weekNumberTitle + ']' :\n\t\t\t'[' + options.weekNumberTitle + ' ]w';\n\t},\n\n\t// Produces format strings for results like \"Wk5\"\n\tsmallWeekFormat: function(options) {\n\t\treturn options.isRTL ?\n\t\t\t'w[' + options.weekNumberTitle + ']' :\n\t\t\t'[' + options.weekNumberTitle + ']w';\n\t}\n\n};\n\nfunction populateInstanceComputableOptions(options) {\n\t$.each(instanceComputableOptions, function(name, func) {\n\t\tif (options[name] == null) {\n\t\t\toptions[name] = func(options);\n\t\t}\n\t});\n}\n\n\n// Returns moment's internal locale data. If doesn't exist, returns English.\n// Works with moment-pre-2.8\nfunction getMomentLocaleData(langCode) {\n\tvar func = moment.localeData || moment.langData;\n\treturn func.call(moment, langCode) ||\n\t\tfunc.call(moment, 'en'); // the newer localData could return null, so fall back to en\n}\n\n\n// Initialize English by forcing computation of moment-derived options.\n// Also, sets it as the default.\nfc.lang('en', Calendar.englishDefaults);\n\n;;\n\n/* Top toolbar area with buttons and title\n----------------------------------------------------------------------------------------------------------------------*/\n// TODO: rename all header-related things to \"toolbar\"\n\nfunction Header(calendar, options) {\n\tvar t = this;\n\t\n\t// exports\n\tt.render = render;\n\tt.removeElement = removeElement;\n\tt.updateTitle = updateTitle;\n\tt.activateButton = activateButton;\n\tt.deactivateButton = deactivateButton;\n\tt.disableButton = disableButton;\n\tt.enableButton = enableButton;\n\tt.getViewsWithButtons = getViewsWithButtons;\n\t\n\t// locals\n\tvar el = $();\n\tvar viewsWithButtons = [];\n\tvar tm;\n\n\n\tfunction render() {\n\t\tvar sections = options.header;\n\n\t\ttm = options.theme ? 'ui' : 'fc';\n\n\t\tif (sections) {\n\t\t\tel = $(\"<div class='fc-toolbar'/>\")\n\t\t\t\t.append(renderSection('left'))\n\t\t\t\t.append(renderSection('right'))\n\t\t\t\t.append(renderSection('center'))\n\t\t\t\t.append('<div class=\"fc-clear\"/>');\n\n\t\t\treturn el;\n\t\t}\n\t}\n\t\n\t\n\tfunction removeElement() {\n\t\tel.remove();\n\t\tel = $();\n\t}\n\t\n\t\n\tfunction renderSection(position) {\n\t\tvar sectionEl = $('<div class=\"fc-' + position + '\"/>');\n\t\tvar buttonStr = options.header[position];\n\n\t\tif (buttonStr) {\n\t\t\t$.each(buttonStr.split(' '), function(i) {\n\t\t\t\tvar groupChildren = $();\n\t\t\t\tvar isOnlyButtons = true;\n\t\t\t\tvar groupEl;\n\n\t\t\t\t$.each(this.split(','), function(j, buttonName) {\n\t\t\t\t\tvar customButtonProps;\n\t\t\t\t\tvar viewSpec;\n\t\t\t\t\tvar buttonClick;\n\t\t\t\t\tvar overrideText; // text explicitly set by calendar's constructor options. overcomes icons\n\t\t\t\t\tvar defaultText;\n\t\t\t\t\tvar themeIcon;\n\t\t\t\t\tvar normalIcon;\n\t\t\t\t\tvar innerHtml;\n\t\t\t\t\tvar classes;\n\t\t\t\t\tvar button; // the element\n\n\t\t\t\t\tif (buttonName == 'title') {\n\t\t\t\t\t\tgroupChildren = groupChildren.add($('<h2>&nbsp;</h2>')); // we always want it to take up height\n\t\t\t\t\t\tisOnlyButtons = false;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif ((customButtonProps = (calendar.options.customButtons || {})[buttonName])) {\n\t\t\t\t\t\t\tbuttonClick = function(ev) {\n\t\t\t\t\t\t\t\tif (customButtonProps.click) {\n\t\t\t\t\t\t\t\t\tcustomButtonProps.click.call(button[0], ev);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\toverrideText = ''; // icons will override text\n\t\t\t\t\t\t\tdefaultText = customButtonProps.text;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ((viewSpec = calendar.getViewSpec(buttonName))) {\n\t\t\t\t\t\t\tbuttonClick = function() {\n\t\t\t\t\t\t\t\tcalendar.changeView(buttonName);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tviewsWithButtons.push(buttonName);\n\t\t\t\t\t\t\toverrideText = viewSpec.buttonTextOverride;\n\t\t\t\t\t\t\tdefaultText = viewSpec.buttonTextDefault;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (calendar[buttonName]) { // a calendar method\n\t\t\t\t\t\t\tbuttonClick = function() {\n\t\t\t\t\t\t\t\tcalendar[buttonName]();\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\toverrideText = (calendar.overrides.buttonText || {})[buttonName];\n\t\t\t\t\t\t\tdefaultText = options.buttonText[buttonName]; // everything else is considered default\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (buttonClick) {\n\n\t\t\t\t\t\t\tthemeIcon =\n\t\t\t\t\t\t\t\tcustomButtonProps ?\n\t\t\t\t\t\t\t\t\tcustomButtonProps.themeIcon :\n\t\t\t\t\t\t\t\t\toptions.themeButtonIcons[buttonName];\n\n\t\t\t\t\t\t\tnormalIcon =\n\t\t\t\t\t\t\t\tcustomButtonProps ?\n\t\t\t\t\t\t\t\t\tcustomButtonProps.icon :\n\t\t\t\t\t\t\t\t\toptions.buttonIcons[buttonName];\n\n\t\t\t\t\t\t\tif (overrideText) {\n\t\t\t\t\t\t\t\tinnerHtml = htmlEscape(overrideText);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (themeIcon && options.theme) {\n\t\t\t\t\t\t\t\tinnerHtml = \"<span class='ui-icon ui-icon-\" + themeIcon + \"'></span>\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (normalIcon && !options.theme) {\n\t\t\t\t\t\t\t\tinnerHtml = \"<span class='fc-icon fc-icon-\" + normalIcon + \"'></span>\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tinnerHtml = htmlEscape(defaultText);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tclasses = [\n\t\t\t\t\t\t\t\t'fc-' + buttonName + '-button',\n\t\t\t\t\t\t\t\ttm + '-button',\n\t\t\t\t\t\t\t\ttm + '-state-default'\n\t\t\t\t\t\t\t];\n\n\t\t\t\t\t\t\tbutton = $( // type=\"button\" so that it doesn't submit a form\n\t\t\t\t\t\t\t\t'<button type=\"button\" class=\"' + classes.join(' ') + '\">' +\n\t\t\t\t\t\t\t\t\tinnerHtml +\n\t\t\t\t\t\t\t\t'</button>'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.click(function(ev) {\n\t\t\t\t\t\t\t\t\t// don't process clicks for disabled buttons\n\t\t\t\t\t\t\t\t\tif (!button.hasClass(tm + '-state-disabled')) {\n\n\t\t\t\t\t\t\t\t\t\tbuttonClick(ev);\n\n\t\t\t\t\t\t\t\t\t\t// after the click action, if the button becomes the \"active\" tab, or disabled,\n\t\t\t\t\t\t\t\t\t\t// it should never have a hover class, so remove it now.\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\tbutton.hasClass(tm + '-state-active') ||\n\t\t\t\t\t\t\t\t\t\t\tbutton.hasClass(tm + '-state-disabled')\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tbutton.removeClass(tm + '-state-hover');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.mousedown(function() {\n\t\t\t\t\t\t\t\t\t// the *down* effect (mouse pressed in).\n\t\t\t\t\t\t\t\t\t// only on buttons that are not the \"active\" tab, or disabled\n\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\t\t.not('.' + tm + '-state-active')\n\t\t\t\t\t\t\t\t\t\t.not('.' + tm + '-state-disabled')\n\t\t\t\t\t\t\t\t\t\t.addClass(tm + '-state-down');\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.mouseup(function() {\n\t\t\t\t\t\t\t\t\t// undo the *down* effect\n\t\t\t\t\t\t\t\t\tbutton.removeClass(tm + '-state-down');\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.hover(\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\t// the *hover* effect.\n\t\t\t\t\t\t\t\t\t\t// only on buttons that are not the \"active\" tab, or disabled\n\t\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\t\t\t.not('.' + tm + '-state-active')\n\t\t\t\t\t\t\t\t\t\t\t.not('.' + tm + '-state-disabled')\n\t\t\t\t\t\t\t\t\t\t\t.addClass(tm + '-state-hover');\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\t// undo the *hover* effect\n\t\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\t\t\t.removeClass(tm + '-state-hover')\n\t\t\t\t\t\t\t\t\t\t\t.removeClass(tm + '-state-down'); // if mouseleave happens before mouseup\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tgroupChildren = groupChildren.add(button);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (isOnlyButtons) {\n\t\t\t\t\tgroupChildren\n\t\t\t\t\t\t.first().addClass(tm + '-corner-left').end()\n\t\t\t\t\t\t.last().addClass(tm + '-corner-right').end();\n\t\t\t\t}\n\n\t\t\t\tif (groupChildren.length > 1) {\n\t\t\t\t\tgroupEl = $('<div/>');\n\t\t\t\t\tif (isOnlyButtons) {\n\t\t\t\t\t\tgroupEl.addClass('fc-button-group');\n\t\t\t\t\t}\n\t\t\t\t\tgroupEl.append(groupChildren);\n\t\t\t\t\tsectionEl.append(groupEl);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsectionEl.append(groupChildren); // 1 or 0 children\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn sectionEl;\n\t}\n\t\n\t\n\tfunction updateTitle(text) {\n\t\tel.find('h2').text(text);\n\t}\n\t\n\t\n\tfunction activateButton(buttonName) {\n\t\tel.find('.fc-' + buttonName + '-button')\n\t\t\t.addClass(tm + '-state-active');\n\t}\n\t\n\t\n\tfunction deactivateButton(buttonName) {\n\t\tel.find('.fc-' + buttonName + '-button')\n\t\t\t.removeClass(tm + '-state-active');\n\t}\n\t\n\t\n\tfunction disableButton(buttonName) {\n\t\tel.find('.fc-' + buttonName + '-button')\n\t\t\t.attr('disabled', 'disabled')\n\t\t\t.addClass(tm + '-state-disabled');\n\t}\n\t\n\t\n\tfunction enableButton(buttonName) {\n\t\tel.find('.fc-' + buttonName + '-button')\n\t\t\t.removeAttr('disabled')\n\t\t\t.removeClass(tm + '-state-disabled');\n\t}\n\n\n\tfunction getViewsWithButtons() {\n\t\treturn viewsWithButtons;\n\t}\n\n}\n\n;;\n\nfc.sourceNormalizers = [];\nfc.sourceFetchers = [];\n\nvar ajaxDefaults = {\n\tdataType: 'json',\n\tcache: false\n};\n\nvar eventGUID = 1;\n\n\nfunction EventManager(options) { // assumed to be a calendar\n\tvar t = this;\n\t\n\t\n\t// exports\n\tt.isFetchNeeded = isFetchNeeded;\n\tt.fetchEvents = fetchEvents;\n\tt.addEventSource = addEventSource;\n\tt.removeEventSource = removeEventSource;\n\tt.updateEvent = updateEvent;\n\tt.renderEvent = renderEvent;\n\tt.removeEvents = removeEvents;\n\tt.clientEvents = clientEvents;\n\tt.mutateEvent = mutateEvent;\n\tt.normalizeEventRange = normalizeEventRange;\n\tt.normalizeEventRangeTimes = normalizeEventRangeTimes;\n\tt.ensureVisibleEventRange = ensureVisibleEventRange;\n\t\n\t\n\t// imports\n\tvar reportEvents = t.reportEvents;\n\t\n\t\n\t// locals\n\tvar stickySource = { events: [] };\n\tvar sources = [ stickySource ];\n\tvar rangeStart, rangeEnd;\n\tvar currentFetchID = 0;\n\tvar pendingSourceCnt = 0;\n\tvar cache = []; // holds events that have already been expanded\n\n\n\t$.each(\n\t\t(options.events ? [ options.events ] : []).concat(options.eventSources || []),\n\t\tfunction(i, sourceInput) {\n\t\t\tvar source = buildEventSource(sourceInput);\n\t\t\tif (source) {\n\t\t\t\tsources.push(source);\n\t\t\t}\n\t\t}\n\t);\n\t\n\t\n\t\n\t/* Fetching\n\t-----------------------------------------------------------------------------*/\n\t\n\t\n\tfunction isFetchNeeded(start, end) {\n\t\treturn !rangeStart || // nothing has been fetched yet?\n\t\t\t// or, a part of the new range is outside of the old range? (after normalizing)\n\t\t\tstart.clone().stripZone() < rangeStart.clone().stripZone() ||\n\t\t\tend.clone().stripZone() > rangeEnd.clone().stripZone();\n\t}\n\t\n\t\n\tfunction fetchEvents(start, end) {\n\t\trangeStart = start;\n\t\trangeEnd = end;\n\t\tcache = [];\n\t\tvar fetchID = ++currentFetchID;\n\t\tvar len = sources.length;\n\t\tpendingSourceCnt = len;\n\t\tfor (var i=0; i<len; i++) {\n\t\t\tfetchEventSource(sources[i], fetchID);\n\t\t}\n\t}\n\t\n\t\n\tfunction fetchEventSource(source, fetchID) {\n\t\t_fetchEventSource(source, function(eventInputs) {\n\t\t\tvar isArraySource = $.isArray(source.events);\n\t\t\tvar i, eventInput;\n\t\t\tvar abstractEvent;\n\n\t\t\tif (fetchID == currentFetchID) {\n\n\t\t\t\tif (eventInputs) {\n\t\t\t\t\tfor (i = 0; i < eventInputs.length; i++) {\n\t\t\t\t\t\teventInput = eventInputs[i];\n\n\t\t\t\t\t\tif (isArraySource) { // array sources have already been convert to Event Objects\n\t\t\t\t\t\t\tabstractEvent = eventInput;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tabstractEvent = buildEventFromInput(eventInput, source);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (abstractEvent) { // not false (an invalid event)\n\t\t\t\t\t\t\tcache.push.apply(\n\t\t\t\t\t\t\t\tcache,\n\t\t\t\t\t\t\t\texpandEvent(abstractEvent) // add individual expanded events to the cache\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tpendingSourceCnt--;\n\t\t\t\tif (!pendingSourceCnt) {\n\t\t\t\t\treportEvents(cache);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\t\n\t\n\tfunction _fetchEventSource(source, callback) {\n\t\tvar i;\n\t\tvar fetchers = fc.sourceFetchers;\n\t\tvar res;\n\n\t\tfor (i=0; i<fetchers.length; i++) {\n\t\t\tres = fetchers[i].call(\n\t\t\t\tt, // this, the Calendar object\n\t\t\t\tsource,\n\t\t\t\trangeStart.clone(),\n\t\t\t\trangeEnd.clone(),\n\t\t\t\toptions.timezone,\n\t\t\t\tcallback\n\t\t\t);\n\n\t\t\tif (res === true) {\n\t\t\t\t// the fetcher is in charge. made its own async request\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if (typeof res == 'object') {\n\t\t\t\t// the fetcher returned a new source. process it\n\t\t\t\t_fetchEventSource(res, callback);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tvar events = source.events;\n\t\tif (events) {\n\t\t\tif ($.isFunction(events)) {\n\t\t\t\tt.pushLoading();\n\t\t\t\tevents.call(\n\t\t\t\t\tt, // this, the Calendar object\n\t\t\t\t\trangeStart.clone(),\n\t\t\t\t\trangeEnd.clone(),\n\t\t\t\t\toptions.timezone,\n\t\t\t\t\tfunction(events) {\n\t\t\t\t\t\tcallback(events);\n\t\t\t\t\t\tt.popLoading();\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t\telse if ($.isArray(events)) {\n\t\t\t\tcallback(events);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}else{\n\t\t\tvar url = source.url;\n\t\t\tif (url) {\n\t\t\t\tvar success = source.success;\n\t\t\t\tvar error = source.error;\n\t\t\t\tvar complete = source.complete;\n\n\t\t\t\t// retrieve any outbound GET/POST $.ajax data from the options\n\t\t\t\tvar customData;\n\t\t\t\tif ($.isFunction(source.data)) {\n\t\t\t\t\t// supplied as a function that returns a key/value object\n\t\t\t\t\tcustomData = source.data();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// supplied as a straight key/value object\n\t\t\t\t\tcustomData = source.data;\n\t\t\t\t}\n\n\t\t\t\t// use a copy of the custom data so we can modify the parameters\n\t\t\t\t// and not affect the passed-in object.\n\t\t\t\tvar data = $.extend({}, customData || {});\n\n\t\t\t\tvar startParam = firstDefined(source.startParam, options.startParam);\n\t\t\t\tvar endParam = firstDefined(source.endParam, options.endParam);\n\t\t\t\tvar timezoneParam = firstDefined(source.timezoneParam, options.timezoneParam);\n\n\t\t\t\tif (startParam) {\n\t\t\t\t\tdata[startParam] = rangeStart.format();\n\t\t\t\t}\n\t\t\t\tif (endParam) {\n\t\t\t\t\tdata[endParam] = rangeEnd.format();\n\t\t\t\t}\n\t\t\t\tif (options.timezone && options.timezone != 'local') {\n\t\t\t\t\tdata[timezoneParam] = options.timezone;\n\t\t\t\t}\n\n\t\t\t\tt.pushLoading();\n\t\t\t\t$.ajax($.extend({}, ajaxDefaults, source, {\n\t\t\t\t\tdata: data,\n\t\t\t\t\tsuccess: function(events) {\n\t\t\t\t\t\tevents = events || [];\n\t\t\t\t\t\tvar res = applyAll(success, this, arguments);\n\t\t\t\t\t\tif ($.isArray(res)) {\n\t\t\t\t\t\t\tevents = res;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcallback(events);\n\t\t\t\t\t},\n\t\t\t\t\terror: function() {\n\t\t\t\t\t\tapplyAll(error, this, arguments);\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\tapplyAll(complete, this, arguments);\n\t\t\t\t\t\tt.popLoading();\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}else{\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t\n\t/* Sources\n\t-----------------------------------------------------------------------------*/\n\t\n\n\tfunction addEventSource(sourceInput) {\n\t\tvar source = buildEventSource(sourceInput);\n\t\tif (source) {\n\t\t\tsources.push(source);\n\t\t\tpendingSourceCnt++;\n\t\t\tfetchEventSource(source, currentFetchID); // will eventually call reportEvents\n\t\t}\n\t}\n\n\n\tfunction buildEventSource(sourceInput) { // will return undefined if invalid source\n\t\tvar normalizers = fc.sourceNormalizers;\n\t\tvar source;\n\t\tvar i;\n\n\t\tif ($.isFunction(sourceInput) || $.isArray(sourceInput)) {\n\t\t\tsource = { events: sourceInput };\n\t\t}\n\t\telse if (typeof sourceInput === 'string') {\n\t\t\tsource = { url: sourceInput };\n\t\t}\n\t\telse if (typeof sourceInput === 'object') {\n\t\t\tsource = $.extend({}, sourceInput); // shallow copy\n\t\t}\n\n\t\tif (source) {\n\n\t\t\t// TODO: repeat code, same code for event classNames\n\t\t\tif (source.className) {\n\t\t\t\tif (typeof source.className === 'string') {\n\t\t\t\t\tsource.className = source.className.split(/\\s+/);\n\t\t\t\t}\n\t\t\t\t// otherwise, assumed to be an array\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsource.className = [];\n\t\t\t}\n\n\t\t\t// for array sources, we convert to standard Event Objects up front\n\t\t\tif ($.isArray(source.events)) {\n\t\t\t\tsource.origArray = source.events; // for removeEventSource\n\t\t\t\tsource.events = $.map(source.events, function(eventInput) {\n\t\t\t\t\treturn buildEventFromInput(eventInput, source);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (i=0; i<normalizers.length; i++) {\n\t\t\t\tnormalizers[i].call(t, source);\n\t\t\t}\n\n\t\t\treturn source;\n\t\t}\n\t}\n\n\n\tfunction removeEventSource(source) {\n\t\tsources = $.grep(sources, function(src) {\n\t\t\treturn !isSourcesEqual(src, source);\n\t\t});\n\t\t// remove all client events from that source\n\t\tcache = $.grep(cache, function(e) {\n\t\t\treturn !isSourcesEqual(e.source, source);\n\t\t});\n\t\treportEvents(cache);\n\t}\n\n\n\tfunction isSourcesEqual(source1, source2) {\n\t\treturn source1 && source2 && getSourcePrimitive(source1) == getSourcePrimitive(source2);\n\t}\n\n\n\tfunction getSourcePrimitive(source) {\n\t\treturn (\n\t\t\t(typeof source === 'object') ? // a normalized event source?\n\t\t\t\t(source.origArray || source.googleCalendarId || source.url || source.events) : // get the primitive\n\t\t\t\tnull\n\t\t) ||\n\t\tsource; // the given argument *is* the primitive\n\t}\n\t\n\t\n\t\n\t/* Manipulation\n\t-----------------------------------------------------------------------------*/\n\n\n\t// Only ever called from the externally-facing API\n\tfunction updateEvent(event) {\n\n\t\t// massage start/end values, even if date string values\n\t\tevent.start = t.moment(event.start);\n\t\tif (event.end) {\n\t\t\tevent.end = t.moment(event.end);\n\t\t}\n\t\telse {\n\t\t\tevent.end = null;\n\t\t}\n\n\t\tmutateEvent(event, getMiscEventProps(event)); // will handle start/end/allDay normalization\n\t\treportEvents(cache); // reports event modifications (so we can redraw)\n\t}\n\n\n\t// Returns a hash of misc event properties that should be copied over to related events.\n\tfunction getMiscEventProps(event) {\n\t\tvar props = {};\n\n\t\t$.each(event, function(name, val) {\n\t\t\tif (isMiscEventPropName(name)) {\n\t\t\t\tif (val !== undefined && isAtomic(val)) { // a defined non-object\n\t\t\t\t\tprops[name] = val;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn props;\n\t}\n\n\t// non-date-related, non-id-related, non-secret\n\tfunction isMiscEventPropName(name) {\n\t\treturn !/^_|^(id|allDay|start|end)$/.test(name);\n\t}\n\n\t\n\t// returns the expanded events that were created\n\tfunction renderEvent(eventInput, stick) {\n\t\tvar abstractEvent = buildEventFromInput(eventInput);\n\t\tvar events;\n\t\tvar i, event;\n\n\t\tif (abstractEvent) { // not false (a valid input)\n\t\t\tevents = expandEvent(abstractEvent);\n\n\t\t\tfor (i = 0; i < events.length; i++) {\n\t\t\t\tevent = events[i];\n\n\t\t\t\tif (!event.source) {\n\t\t\t\t\tif (stick) {\n\t\t\t\t\t\tstickySource.events.push(event);\n\t\t\t\t\t\tevent.source = stickySource;\n\t\t\t\t\t}\n\t\t\t\t\tcache.push(event);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treportEvents(cache);\n\n\t\t\treturn events;\n\t\t}\n\n\t\treturn [];\n\t}\n\t\n\t\n\tfunction removeEvents(filter) {\n\t\tvar eventID;\n\t\tvar i;\n\n\t\tif (filter == null) { // null or undefined. remove all events\n\t\t\tfilter = function() { return true; }; // will always match\n\t\t}\n\t\telse if (!$.isFunction(filter)) { // an event ID\n\t\t\teventID = filter + '';\n\t\t\tfilter = function(event) {\n\t\t\t\treturn event._id == eventID;\n\t\t\t};\n\t\t}\n\n\t\t// Purge event(s) from our local cache\n\t\tcache = $.grep(cache, filter, true); // inverse=true\n\n\t\t// Remove events from array sources.\n\t\t// This works because they have been converted to official Event Objects up front.\n\t\t// (and as a result, event._id has been calculated).\n\t\tfor (i=0; i<sources.length; i++) {\n\t\t\tif ($.isArray(sources[i].events)) {\n\t\t\t\tsources[i].events = $.grep(sources[i].events, filter, true);\n\t\t\t}\n\t\t}\n\n\t\treportEvents(cache);\n\t}\n\t\n\t\n\tfunction clientEvents(filter) {\n\t\tif ($.isFunction(filter)) {\n\t\t\treturn $.grep(cache, filter);\n\t\t}\n\t\telse if (filter != null) { // not null, not undefined. an event ID\n\t\t\tfilter += '';\n\t\t\treturn $.grep(cache, function(e) {\n\t\t\t\treturn e._id == filter;\n\t\t\t});\n\t\t}\n\t\treturn cache; // else, return all\n\t}\n\t\n\t\n\t\n\t/* Event Normalization\n\t-----------------------------------------------------------------------------*/\n\n\n\t// Given a raw object with key/value properties, returns an \"abstract\" Event object.\n\t// An \"abstract\" event is an event that, if recurring, will not have been expanded yet.\n\t// Will return `false` when input is invalid.\n\t// `source` is optional\n\tfunction buildEventFromInput(input, source) {\n\t\tvar out = {};\n\t\tvar start, end;\n\t\tvar allDay;\n\n\t\tif (options.eventDataTransform) {\n\t\t\tinput = options.eventDataTransform(input);\n\t\t}\n\t\tif (source && source.eventDataTransform) {\n\t\t\tinput = source.eventDataTransform(input);\n\t\t}\n\n\t\t// Copy all properties over to the resulting object.\n\t\t// The special-case properties will be copied over afterwards.\n\t\t$.extend(out, input);\n\n\t\tif (source) {\n\t\t\tout.source = source;\n\t\t}\n\n\t\tout._id = input._id || (input.id === undefined ? '_fc' + eventGUID++ : input.id + '');\n\n\t\tif (input.className) {\n\t\t\tif (typeof input.className == 'string') {\n\t\t\t\tout.className = input.className.split(/\\s+/);\n\t\t\t}\n\t\t\telse { // assumed to be an array\n\t\t\t\tout.className = input.className;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tout.className = [];\n\t\t}\n\n\t\tstart = input.start || input.date; // \"date\" is an alias for \"start\"\n\t\tend = input.end;\n\n\t\t// parse as a time (Duration) if applicable\n\t\tif (isTimeString(start)) {\n\t\t\tstart = moment.duration(start);\n\t\t}\n\t\tif (isTimeString(end)) {\n\t\t\tend = moment.duration(end);\n\t\t}\n\n\t\tif (input.dow || moment.isDuration(start) || moment.isDuration(end)) {\n\n\t\t\t// the event is \"abstract\" (recurring) so don't calculate exact start/end dates just yet\n\t\t\tout.start = start ? moment.duration(start) : null; // will be a Duration or null\n\t\t\tout.end = end ? moment.duration(end) : null; // will be a Duration or null\n\t\t\tout._recurring = true; // our internal marker\n\t\t}\n\t\telse {\n\n\t\t\tif (start) {\n\t\t\t\tstart = t.moment(start);\n\t\t\t\tif (!start.isValid()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (end) {\n\t\t\t\tend = t.moment(end);\n\t\t\t\tif (!end.isValid()) {\n\t\t\t\t\tend = null; // let defaults take over\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tallDay = input.allDay;\n\t\t\tif (allDay === undefined) { // still undefined? fallback to default\n\t\t\t\tallDay = firstDefined(\n\t\t\t\t\tsource ? source.allDayDefault : undefined,\n\t\t\t\t\toptions.allDayDefault\n\t\t\t\t);\n\t\t\t\t// still undefined? normalizeEventRange will calculate it\n\t\t\t}\n\n\t\t\tassignDatesToEvent(start, end, allDay, out);\n\t\t}\n\n\t\treturn out;\n\t}\n\n\n\t// Normalizes and assigns the given dates to the given partially-formed event object.\n\t// NOTE: mutates the given start/end moments. does not make a copy.\n\tfunction assignDatesToEvent(start, end, allDay, event) {\n\t\tevent.start = start;\n\t\tevent.end = end;\n\t\tevent.allDay = allDay;\n\t\tnormalizeEventRange(event);\n\t\tbackupEventDates(event);\n\t}\n\n\n\t// Ensures proper values for allDay/start/end. Accepts an Event object, or a plain object with event-ish properties.\n\t// NOTE: Will modify the given object.\n\tfunction normalizeEventRange(props) {\n\n\t\tnormalizeEventRangeTimes(props);\n\n\t\tif (props.end && !props.end.isAfter(props.start)) {\n\t\t\tprops.end = null;\n\t\t}\n\n\t\tif (!props.end) {\n\t\t\tif (options.forceEventDuration) {\n\t\t\t\tprops.end = t.getDefaultEventEnd(props.allDay, props.start);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tprops.end = null;\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// Ensures the allDay property exists and the timeliness of the start/end dates are consistent\n\tfunction normalizeEventRangeTimes(range) {\n\t\tif (range.allDay == null) {\n\t\t\trange.allDay = !(range.start.hasTime() || (range.end && range.end.hasTime()));\n\t\t}\n\n\t\tif (range.allDay) {\n\t\t\trange.start.stripTime();\n\t\t\tif (range.end) {\n\t\t\t\t// TODO: consider nextDayThreshold here? If so, will require a lot of testing and adjustment\n\t\t\t\trange.end.stripTime();\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (!range.start.hasTime()) {\n\t\t\t\trange.start = t.rezoneDate(range.start); // will assign a 00:00 time\n\t\t\t}\n\t\t\tif (range.end && !range.end.hasTime()) {\n\t\t\t\trange.end = t.rezoneDate(range.end); // will assign a 00:00 time\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// If `range` is a proper range with a start and end, returns the original object.\n\t// If missing an end, computes a new range with an end, computing it as if it were an event.\n\t// TODO: make this a part of the event -> eventRange system\n\tfunction ensureVisibleEventRange(range) {\n\t\tvar allDay;\n\n\t\tif (!range.end) {\n\n\t\t\tallDay = range.allDay; // range might be more event-ish than we think\n\t\t\tif (allDay == null) {\n\t\t\t\tallDay = !range.start.hasTime();\n\t\t\t}\n\n\t\t\trange = $.extend({}, range); // make a copy, copying over other misc properties\n\t\t\trange.end = t.getDefaultEventEnd(allDay, range.start);\n\t\t}\n\t\treturn range;\n\t}\n\n\n\t// If the given event is a recurring event, break it down into an array of individual instances.\n\t// If not a recurring event, return an array with the single original event.\n\t// If given a falsy input (probably because of a failed buildEventFromInput call), returns an empty array.\n\t// HACK: can override the recurring window by providing custom rangeStart/rangeEnd (for businessHours).\n\tfunction expandEvent(abstractEvent, _rangeStart, _rangeEnd) {\n\t\tvar events = [];\n\t\tvar dowHash;\n\t\tvar dow;\n\t\tvar i;\n\t\tvar date;\n\t\tvar startTime, endTime;\n\t\tvar start, end;\n\t\tvar event;\n\n\t\t_rangeStart = _rangeStart || rangeStart;\n\t\t_rangeEnd = _rangeEnd || rangeEnd;\n\n\t\tif (abstractEvent) {\n\t\t\tif (abstractEvent._recurring) {\n\n\t\t\t\t// make a boolean hash as to whether the event occurs on each day-of-week\n\t\t\t\tif ((dow = abstractEvent.dow)) {\n\t\t\t\t\tdowHash = {};\n\t\t\t\t\tfor (i = 0; i < dow.length; i++) {\n\t\t\t\t\t\tdowHash[dow[i]] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// iterate through every day in the current range\n\t\t\t\tdate = _rangeStart.clone().stripTime(); // holds the date of the current day\n\t\t\t\twhile (date.isBefore(_rangeEnd)) {\n\n\t\t\t\t\tif (!dowHash || dowHash[date.day()]) { // if everyday, or this particular day-of-week\n\n\t\t\t\t\t\tstartTime = abstractEvent.start; // the stored start and end properties are times (Durations)\n\t\t\t\t\t\tendTime = abstractEvent.end; // \"\n\t\t\t\t\t\tstart = date.clone();\n\t\t\t\t\t\tend = null;\n\n\t\t\t\t\t\tif (startTime) {\n\t\t\t\t\t\t\tstart = start.time(startTime);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (endTime) {\n\t\t\t\t\t\t\tend = date.clone().time(endTime);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tevent = $.extend({}, abstractEvent); // make a copy of the original\n\t\t\t\t\t\tassignDatesToEvent(\n\t\t\t\t\t\t\tstart, end,\n\t\t\t\t\t\t\t!startTime && !endTime, // allDay?\n\t\t\t\t\t\t\tevent\n\t\t\t\t\t\t);\n\t\t\t\t\t\tevents.push(event);\n\t\t\t\t\t}\n\n\t\t\t\t\tdate.add(1, 'days');\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tevents.push(abstractEvent); // return the original event. will be a one-item array\n\t\t\t}\n\t\t}\n\n\t\treturn events;\n\t}\n\n\n\n\t/* Event Modification Math\n\t-----------------------------------------------------------------------------------------*/\n\n\n\t// Modifies an event and all related events by applying the given properties.\n\t// Special date-diffing logic is used for manipulation of dates.\n\t// If `props` does not contain start/end dates, the updated values are assumed to be the event's current start/end.\n\t// All date comparisons are done against the event's pristine _start and _end dates.\n\t// Returns an object with delta information and a function to undo all operations.\n\t// For making computations in a granularity greater than day/time, specify largeUnit.\n\t// NOTE: The given `newProps` might be mutated for normalization purposes.\n\tfunction mutateEvent(event, newProps, largeUnit) {\n\t\tvar miscProps = {};\n\t\tvar oldProps;\n\t\tvar clearEnd;\n\t\tvar startDelta;\n\t\tvar endDelta;\n\t\tvar durationDelta;\n\t\tvar undoFunc;\n\n\t\t// diffs the dates in the appropriate way, returning a duration\n\t\tfunction diffDates(date1, date0) { // date1 - date0\n\t\t\tif (largeUnit) {\n\t\t\t\treturn diffByUnit(date1, date0, largeUnit);\n\t\t\t}\n\t\t\telse if (newProps.allDay) {\n\t\t\t\treturn diffDay(date1, date0);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn diffDayTime(date1, date0);\n\t\t\t}\n\t\t}\n\n\t\tnewProps = newProps || {};\n\n\t\t// normalize new date-related properties\n\t\tif (!newProps.start) {\n\t\t\tnewProps.start = event.start.clone();\n\t\t}\n\t\tif (newProps.end === undefined) {\n\t\t\tnewProps.end = event.end ? event.end.clone() : null;\n\t\t}\n\t\tif (newProps.allDay == null) { // is null or undefined?\n\t\t\tnewProps.allDay = event.allDay;\n\t\t}\n\t\tnormalizeEventRange(newProps);\n\n\t\t// create normalized versions of the original props to compare against\n\t\t// need a real end value, for diffing\n\t\toldProps = {\n\t\t\tstart: event._start.clone(),\n\t\t\tend: event._end ? event._end.clone() : t.getDefaultEventEnd(event._allDay, event._start),\n\t\t\tallDay: newProps.allDay // normalize the dates in the same regard as the new properties\n\t\t};\n\t\tnormalizeEventRange(oldProps);\n\n\t\t// need to clear the end date if explicitly changed to null\n\t\tclearEnd = event._end !== null && newProps.end === null;\n\n\t\t// compute the delta for moving the start date\n\t\tstartDelta = diffDates(newProps.start, oldProps.start);\n\n\t\t// compute the delta for moving the end date\n\t\tif (newProps.end) {\n\t\t\tendDelta = diffDates(newProps.end, oldProps.end);\n\t\t\tdurationDelta = endDelta.subtract(startDelta);\n\t\t}\n\t\telse {\n\t\t\tdurationDelta = null;\n\t\t}\n\n\t\t// gather all non-date-related properties\n\t\t$.each(newProps, function(name, val) {\n\t\t\tif (isMiscEventPropName(name)) {\n\t\t\t\tif (val !== undefined) {\n\t\t\t\t\tmiscProps[name] = val;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t// apply the operations to the event and all related events\n\t\tundoFunc = mutateEvents(\n\t\t\tclientEvents(event._id), // get events with this ID\n\t\t\tclearEnd,\n\t\t\tnewProps.allDay,\n\t\t\tstartDelta,\n\t\t\tdurationDelta,\n\t\t\tmiscProps\n\t\t);\n\n\t\treturn {\n\t\t\tdateDelta: startDelta,\n\t\t\tdurationDelta: durationDelta,\n\t\t\tundo: undoFunc\n\t\t};\n\t}\n\n\n\t// Modifies an array of events in the following ways (operations are in order):\n\t// - clear the event's `end`\n\t// - convert the event to allDay\n\t// - add `dateDelta` to the start and end\n\t// - add `durationDelta` to the event's duration\n\t// - assign `miscProps` to the event\n\t//\n\t// Returns a function that can be called to undo all the operations.\n\t//\n\t// TODO: don't use so many closures. possible memory issues when lots of events with same ID.\n\t//\n\tfunction mutateEvents(events, clearEnd, allDay, dateDelta, durationDelta, miscProps) {\n\t\tvar isAmbigTimezone = t.getIsAmbigTimezone();\n\t\tvar undoFunctions = [];\n\n\t\t// normalize zero-length deltas to be null\n\t\tif (dateDelta && !dateDelta.valueOf()) { dateDelta = null; }\n\t\tif (durationDelta && !durationDelta.valueOf()) { durationDelta = null; }\n\n\t\t$.each(events, function(i, event) {\n\t\t\tvar oldProps;\n\t\t\tvar newProps;\n\n\t\t\t// build an object holding all the old values, both date-related and misc.\n\t\t\t// for the undo function.\n\t\t\toldProps = {\n\t\t\t\tstart: event.start.clone(),\n\t\t\t\tend: event.end ? event.end.clone() : null,\n\t\t\t\tallDay: event.allDay\n\t\t\t};\n\t\t\t$.each(miscProps, function(name) {\n\t\t\t\toldProps[name] = event[name];\n\t\t\t});\n\n\t\t\t// new date-related properties. work off the original date snapshot.\n\t\t\t// ok to use references because they will be thrown away when backupEventDates is called.\n\t\t\tnewProps = {\n\t\t\t\tstart: event._start,\n\t\t\t\tend: event._end,\n\t\t\t\tallDay: allDay // normalize the dates in the same regard as the new properties\n\t\t\t};\n\t\t\tnormalizeEventRange(newProps); // massages start/end/allDay\n\n\t\t\t// strip or ensure the end date\n\t\t\tif (clearEnd) {\n\t\t\t\tnewProps.end = null;\n\t\t\t}\n\t\t\telse if (durationDelta && !newProps.end) { // the duration translation requires an end date\n\t\t\t\tnewProps.end = t.getDefaultEventEnd(newProps.allDay, newProps.start);\n\t\t\t}\n\n\t\t\tif (dateDelta) {\n\t\t\t\tnewProps.start.add(dateDelta);\n\t\t\t\tif (newProps.end) {\n\t\t\t\t\tnewProps.end.add(dateDelta);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (durationDelta) {\n\t\t\t\tnewProps.end.add(durationDelta); // end already ensured above\n\t\t\t}\n\n\t\t\t// if the dates have changed, and we know it is impossible to recompute the\n\t\t\t// timezone offsets, strip the zone.\n\t\t\tif (\n\t\t\t\tisAmbigTimezone &&\n\t\t\t\t!newProps.allDay &&\n\t\t\t\t(dateDelta || durationDelta)\n\t\t\t) {\n\t\t\t\tnewProps.start.stripZone();\n\t\t\t\tif (newProps.end) {\n\t\t\t\t\tnewProps.end.stripZone();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$.extend(event, miscProps, newProps); // copy over misc props, then date-related props\n\t\t\tbackupEventDates(event); // regenerate internal _start/_end/_allDay\n\n\t\t\tundoFunctions.push(function() {\n\t\t\t\t$.extend(event, oldProps);\n\t\t\t\tbackupEventDates(event); // regenerate internal _start/_end/_allDay\n\t\t\t});\n\t\t});\n\n\t\treturn function() {\n\t\t\tfor (var i = 0; i < undoFunctions.length; i++) {\n\t\t\t\tundoFunctions[i]();\n\t\t\t}\n\t\t};\n\t}\n\n\n\t/* Business Hours\n\t-----------------------------------------------------------------------------------------*/\n\n\tt.getBusinessHoursEvents = getBusinessHoursEvents;\n\n\n\t// Returns an array of events as to when the business hours occur in the given view.\n\t// Abuse of our event system :(\n\tfunction getBusinessHoursEvents(wholeDay) {\n\t\tvar optionVal = options.businessHours;\n\t\tvar defaultVal = {\n\t\t\tclassName: 'fc-nonbusiness',\n\t\t\tstart: '09:00',\n\t\t\tend: '17:00',\n\t\t\tdow: [ 1, 2, 3, 4, 5 ], // monday - friday\n\t\t\trendering: 'inverse-background'\n\t\t};\n\t\tvar view = t.getView();\n\t\tvar eventInput;\n\n\t\tif (optionVal) { // `true` (which means \"use the defaults\") or an override object\n\t\t\teventInput = $.extend(\n\t\t\t\t{}, // copy to a new object in either case\n\t\t\t\tdefaultVal,\n\t\t\t\ttypeof optionVal === 'object' ? optionVal : {} // override the defaults\n\t\t\t);\n\t\t}\n\n\t\tif (eventInput) {\n\n\t\t\t// if a whole-day series is requested, clear the start/end times\n\t\t\tif (wholeDay) {\n\t\t\t\teventInput.start = null;\n\t\t\t\teventInput.end = null;\n\t\t\t}\n\n\t\t\treturn expandEvent(\n\t\t\t\tbuildEventFromInput(eventInput),\n\t\t\t\tview.start,\n\t\t\t\tview.end\n\t\t\t);\n\t\t}\n\n\t\treturn [];\n\t}\n\n\n\t/* Overlapping / Constraining\n\t-----------------------------------------------------------------------------------------*/\n\n\tt.isEventRangeAllowed = isEventRangeAllowed;\n\tt.isSelectionRangeAllowed = isSelectionRangeAllowed;\n\tt.isExternalDropRangeAllowed = isExternalDropRangeAllowed;\n\n\n\tfunction isEventRangeAllowed(range, event) {\n\t\tvar source = event.source || {};\n\t\tvar constraint = firstDefined(\n\t\t\tevent.constraint,\n\t\t\tsource.constraint,\n\t\t\toptions.eventConstraint\n\t\t);\n\t\tvar overlap = firstDefined(\n\t\t\tevent.overlap,\n\t\t\tsource.overlap,\n\t\t\toptions.eventOverlap\n\t\t);\n\n\t\trange = ensureVisibleEventRange(range); // ensure a proper range with an end for isRangeAllowed\n\n\t\treturn isRangeAllowed(range, constraint, overlap, event);\n\t}\n\n\n\tfunction isSelectionRangeAllowed(range) {\n\t\treturn isRangeAllowed(range, options.selectConstraint, options.selectOverlap);\n\t}\n\n\n\t// when `eventProps` is defined, consider this an event.\n\t// `eventProps` can contain misc non-date-related info about the event.\n\tfunction isExternalDropRangeAllowed(range, eventProps) {\n\t\tvar eventInput;\n\t\tvar event;\n\n\t\t// note: very similar logic is in View's reportExternalDrop\n\t\tif (eventProps) {\n\t\t\teventInput = $.extend({}, eventProps, range);\n\t\t\tevent = expandEvent(buildEventFromInput(eventInput))[0];\n\t\t}\n\n\t\tif (event) {\n\t\t\treturn isEventRangeAllowed(range, event);\n\t\t}\n\t\telse { // treat it as a selection\n\n\t\t\trange = ensureVisibleEventRange(range); // ensure a proper range with an end for isSelectionRangeAllowed\n\n\t\t\treturn isSelectionRangeAllowed(range);\n\t\t}\n\t}\n\n\n\t// Returns true if the given range (caused by an event drop/resize or a selection) is allowed to exist\n\t// according to the constraint/overlap settings.\n\t// `event` is not required if checking a selection.\n\tfunction isRangeAllowed(range, constraint, overlap, event) {\n\t\tvar constraintEvents;\n\t\tvar anyContainment;\n\t\tvar peerEvents;\n\t\tvar i, peerEvent;\n\t\tvar peerOverlap;\n\n\t\t// normalize. fyi, we're normalizing in too many places :(\n\t\trange = $.extend({}, range); // copy all properties in case there are misc non-date properties\n\t\trange.start = range.start.clone().stripZone();\n\t\trange.end = range.end.clone().stripZone();\n\n\t\t// the range must be fully contained by at least one of produced constraint events\n\t\tif (constraint != null) {\n\n\t\t\t// not treated as an event! intermediate data structure\n\t\t\t// TODO: use ranges in the future\n\t\t\tconstraintEvents = constraintToEvents(constraint);\n\n\t\t\tanyContainment = false;\n\t\t\tfor (i = 0; i < constraintEvents.length; i++) {\n\t\t\t\tif (eventContainsRange(constraintEvents[i], range)) {\n\t\t\t\t\tanyContainment = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!anyContainment) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tpeerEvents = t.getPeerEvents(event, range);\n\n\t\tfor (i = 0; i < peerEvents.length; i++)  {\n\t\t\tpeerEvent = peerEvents[i];\n\n\t\t\t// there needs to be an actual intersection before disallowing anything\n\t\t\tif (eventIntersectsRange(peerEvent, range)) {\n\n\t\t\t\t// evaluate overlap for the given range and short-circuit if necessary\n\t\t\t\tif (overlap === false) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// if the event's overlap is a test function, pass the peer event in question as the first param\n\t\t\t\telse if (typeof overlap === 'function' && !overlap(peerEvent, event)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// if we are computing if the given range is allowable for an event, consider the other event's\n\t\t\t\t// EventObject-specific or Source-specific `overlap` property\n\t\t\t\tif (event) {\n\t\t\t\t\tpeerOverlap = firstDefined(\n\t\t\t\t\t\tpeerEvent.overlap,\n\t\t\t\t\t\t(peerEvent.source || {}).overlap\n\t\t\t\t\t\t// we already considered the global `eventOverlap`\n\t\t\t\t\t);\n\t\t\t\t\tif (peerOverlap === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t// if the peer event's overlap is a test function, pass the subject event as the first param\n\t\t\t\t\tif (typeof peerOverlap === 'function' && !peerOverlap(event, peerEvent)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\n\t// Given an event input from the API, produces an array of event objects. Possible event inputs:\n\t// 'businessHours'\n\t// An event ID (number or string)\n\t// An object with specific start/end dates or a recurring event (like what businessHours accepts)\n\tfunction constraintToEvents(constraintInput) {\n\n\t\tif (constraintInput === 'businessHours') {\n\t\t\treturn getBusinessHoursEvents();\n\t\t}\n\n\t\tif (typeof constraintInput === 'object') {\n\t\t\treturn expandEvent(buildEventFromInput(constraintInput));\n\t\t}\n\n\t\treturn clientEvents(constraintInput); // probably an ID\n\t}\n\n\n\t// Does the event's date range fully contain the given range?\n\t// start/end already assumed to have stripped zones :(\n\tfunction eventContainsRange(event, range) {\n\t\tvar eventStart = event.start.clone().stripZone();\n\t\tvar eventEnd = t.getEventEnd(event).stripZone();\n\n\t\treturn range.start >= eventStart && range.end <= eventEnd;\n\t}\n\n\n\t// Does the event's date range intersect with the given range?\n\t// start/end already assumed to have stripped zones :(\n\tfunction eventIntersectsRange(event, range) {\n\t\tvar eventStart = event.start.clone().stripZone();\n\t\tvar eventEnd = t.getEventEnd(event).stripZone();\n\n\t\treturn range.start < eventEnd && range.end > eventStart;\n\t}\n\n\n\tt.getEventCache = function() {\n\t\treturn cache;\n\t};\n\n}\n\n\n// Returns a list of events that the given event should be compared against when being considered for a move to\n// the specified range. Attached to the Calendar's prototype because EventManager is a mixin for a Calendar.\nCalendar.prototype.getPeerEvents = function(event, range) {\n\tvar cache = this.getEventCache();\n\tvar peerEvents = [];\n\tvar i, otherEvent;\n\n\tfor (i = 0; i < cache.length; i++) {\n\t\totherEvent = cache[i];\n\t\tif (\n\t\t\t!event ||\n\t\t\tevent._id !== otherEvent._id // don't compare the event to itself or other related [repeating] events\n\t\t) {\n\t\t\tpeerEvents.push(otherEvent);\n\t\t}\n\t}\n\n\treturn peerEvents;\n};\n\n\n// updates the \"backup\" properties, which are preserved in order to compute diffs later on.\nfunction backupEventDates(event) {\n\tevent._allDay = event.allDay;\n\tevent._start = event.start.clone();\n\tevent._end = event.end ? event.end.clone() : null;\n}\n\n;;\n\n/* An abstract class for the \"basic\" views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a DayGrid subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\n\nvar BasicView = View.extend({\n\n\tdayGrid: null, // the main subcomponent that does most of the heavy lifting\n\n\tdayNumbersVisible: false, // display day numbers on each day cell?\n\tweekNumbersVisible: false, // display week numbers along the side?\n\n\tweekNumberWidth: null, // width of all the week-number cells running down the side\n\n\theadRowEl: null, // the fake row element of the day-of-week header\n\n\n\tinitialize: function() {\n\t\tthis.dayGrid = new DayGrid(this);\n\t\tthis.coordMap = this.dayGrid.coordMap; // the view's date-to-cell mapping is identical to the subcomponent's\n\t},\n\n\n\t// Sets the display range and computes all necessary dates\n\tsetRange: function(range) {\n\t\tView.prototype.setRange.call(this, range); // call the super-method\n\n\t\tthis.dayGrid.breakOnWeeks = /year|month|week/.test(this.intervalUnit); // do before setRange\n\t\tthis.dayGrid.setRange(range);\n\t},\n\n\n\t// Compute the value to feed into setRange. Overrides superclass.\n\tcomputeRange: function(date) {\n\t\tvar range = View.prototype.computeRange.call(this, date); // get value from the super-method\n\n\t\t// year and month views should be aligned with weeks. this is already done for week\n\t\tif (/year|month/.test(range.intervalUnit)) {\n\t\t\trange.start.startOf('week');\n\t\t\trange.start = this.skipHiddenDays(range.start);\n\n\t\t\t// make end-of-week if not already\n\t\t\tif (range.end.weekday()) {\n\t\t\t\trange.end.add(1, 'week').startOf('week');\n\t\t\t\trange.end = this.skipHiddenDays(range.end, -1, true); // exclusively move backwards\n\t\t\t}\n\t\t}\n\n\t\treturn range;\n\t},\n\n\n\t// Renders the view into `this.el`, which should already be assigned\n\trenderDates: function() {\n\n\t\tthis.dayNumbersVisible = this.dayGrid.rowCnt > 1; // TODO: make grid responsible\n\t\tthis.weekNumbersVisible = this.opt('weekNumbers');\n\t\tthis.dayGrid.numbersVisible = this.dayNumbersVisible || this.weekNumbersVisible;\n\n\t\tthis.el.addClass('fc-basic-view').html(this.renderHtml());\n\n\t\tthis.headRowEl = this.el.find('thead .fc-row');\n\n\t\tthis.scrollerEl = this.el.find('.fc-day-grid-container');\n\t\tthis.dayGrid.coordMap.containerEl = this.scrollerEl; // constrain clicks/etc to the dimensions of the scroller\n\n\t\tthis.dayGrid.setElement(this.el.find('.fc-day-grid'));\n\t\tthis.dayGrid.renderDates(this.hasRigidRows());\n\t},\n\n\n\t// Unrenders the content of the view. Since we haven't separated skeleton rendering from date rendering,\n\t// always completely kill the dayGrid's rendering.\n\tunrenderDates: function() {\n\t\tthis.dayGrid.unrenderDates();\n\t\tthis.dayGrid.removeElement();\n\t},\n\n\n\trenderBusinessHours: function() {\n\t\tthis.dayGrid.renderBusinessHours();\n\t},\n\n\n\t// Builds the HTML skeleton for the view.\n\t// The day-grid component will render inside of a container defined by this HTML.\n\trenderHtml: function() {\n\t\treturn '' +\n\t\t\t'<table>' +\n\t\t\t\t'<thead class=\"fc-head\">' +\n\t\t\t\t\t'<tr>' +\n\t\t\t\t\t\t'<td class=\"' + this.widgetHeaderClass + '\">' +\n\t\t\t\t\t\t\tthis.dayGrid.headHtml() + // render the day-of-week headers\n\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t'</tr>' +\n\t\t\t\t'</thead>' +\n\t\t\t\t'<tbody class=\"fc-body\">' +\n\t\t\t\t\t'<tr>' +\n\t\t\t\t\t\t'<td class=\"' + this.widgetContentClass + '\">' +\n\t\t\t\t\t\t\t'<div class=\"fc-day-grid-container\">' +\n\t\t\t\t\t\t\t\t'<div class=\"fc-day-grid\"/>' +\n\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t'</tr>' +\n\t\t\t\t'</tbody>' +\n\t\t\t'</table>';\n\t},\n\n\n\t// Generates the HTML that will go before the day-of week header cells.\n\t// Queried by the DayGrid subcomponent when generating rows. Ordering depends on isRTL.\n\theadIntroHtml: function() {\n\t\tif (this.weekNumbersVisible) {\n\t\t\treturn '' +\n\t\t\t\t'<th class=\"fc-week-number ' + this.widgetHeaderClass + '\" ' + this.weekNumberStyleAttr() + '>' +\n\t\t\t\t\t'<span>' + // needed for matchCellWidths\n\t\t\t\t\t\thtmlEscape(this.opt('weekNumberTitle')) +\n\t\t\t\t\t'</span>' +\n\t\t\t\t'</th>';\n\t\t}\n\t},\n\n\n\t// Generates the HTML that will go before content-skeleton cells that display the day/week numbers.\n\t// Queried by the DayGrid subcomponent. Ordering depends on isRTL.\n\tnumberIntroHtml: function(row) {\n\t\tif (this.weekNumbersVisible) {\n\t\t\treturn '' +\n\t\t\t\t'<td class=\"fc-week-number\" ' + this.weekNumberStyleAttr() + '>' +\n\t\t\t\t\t'<span>' + // needed for matchCellWidths\n\t\t\t\t\t\tthis.dayGrid.getCell(row, 0).start.format('w') +\n\t\t\t\t\t'</span>' +\n\t\t\t\t'</td>';\n\t\t}\n\t},\n\n\n\t// Generates the HTML that goes before the day bg cells for each day-row.\n\t// Queried by the DayGrid subcomponent. Ordering depends on isRTL.\n\tdayIntroHtml: function() {\n\t\tif (this.weekNumbersVisible) {\n\t\t\treturn '<td class=\"fc-week-number ' + this.widgetContentClass + '\" ' +\n\t\t\t\tthis.weekNumberStyleAttr() + '></td>';\n\t\t}\n\t},\n\n\n\t// Generates the HTML that goes before every other type of row generated by DayGrid. Ordering depends on isRTL.\n\t// Affects helper-skeleton and highlight-skeleton rows.\n\tintroHtml: function() {\n\t\tif (this.weekNumbersVisible) {\n\t\t\treturn '<td class=\"fc-week-number\" ' + this.weekNumberStyleAttr() + '></td>';\n\t\t}\n\t},\n\n\n\t// Generates the HTML for the <td>s of the \"number\" row in the DayGrid's content skeleton.\n\t// The number row will only exist if either day numbers or week numbers are turned on.\n\tnumberCellHtml: function(cell) {\n\t\tvar date = cell.start;\n\t\tvar classes;\n\n\t\tif (!this.dayNumbersVisible) { // if there are week numbers but not day numbers\n\t\t\treturn '<td/>'; //  will create an empty space above events :(\n\t\t}\n\n\t\tclasses = this.dayGrid.getDayClasses(date);\n\t\tclasses.unshift('fc-day-number');\n\n\t\treturn '' +\n\t\t\t'<td class=\"' + classes.join(' ') + '\" data-date=\"' + date.format() + '\">' +\n\t\t\t\tdate.date() +\n\t\t\t'</td>';\n\t},\n\n\n\t// Generates an HTML attribute string for setting the width of the week number column, if it is known\n\tweekNumberStyleAttr: function() {\n\t\tif (this.weekNumberWidth !== null) {\n\t\t\treturn 'style=\"width:' + this.weekNumberWidth + 'px\"';\n\t\t}\n\t\treturn '';\n\t},\n\n\n\t// Determines whether each row should have a constant height\n\thasRigidRows: function() {\n\t\tvar eventLimit = this.opt('eventLimit');\n\t\treturn eventLimit && typeof eventLimit !== 'number';\n\t},\n\n\n\t/* Dimensions\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Refreshes the horizontal dimensions of the view\n\tupdateWidth: function() {\n\t\tif (this.weekNumbersVisible) {\n\t\t\t// Make sure all week number cells running down the side have the same width.\n\t\t\t// Record the width for cells created later.\n\t\t\tthis.weekNumberWidth = matchCellWidths(\n\t\t\t\tthis.el.find('.fc-week-number')\n\t\t\t);\n\t\t}\n\t},\n\n\n\t// Adjusts the vertical dimensions of the view to the specified values\n\tsetHeight: function(totalHeight, isAuto) {\n\t\tvar eventLimit = this.opt('eventLimit');\n\t\tvar scrollerHeight;\n\n\t\t// reset all heights to be natural\n\t\tunsetScroller(this.scrollerEl);\n\t\tuncompensateScroll(this.headRowEl);\n\n\t\tthis.dayGrid.removeSegPopover(); // kill the \"more\" popover if displayed\n\n\t\t// is the event limit a constant level number?\n\t\tif (eventLimit && typeof eventLimit === 'number') {\n\t\t\tthis.dayGrid.limitRows(eventLimit); // limit the levels first so the height can redistribute after\n\t\t}\n\n\t\tscrollerHeight = this.computeScrollerHeight(totalHeight);\n\t\tthis.setGridHeight(scrollerHeight, isAuto);\n\n\t\t// is the event limit dynamically calculated?\n\t\tif (eventLimit && typeof eventLimit !== 'number') {\n\t\t\tthis.dayGrid.limitRows(eventLimit); // limit the levels after the grid's row heights have been set\n\t\t}\n\n\t\tif (!isAuto && setPotentialScroller(this.scrollerEl, scrollerHeight)) { // using scrollbars?\n\n\t\t\tcompensateScroll(this.headRowEl, getScrollbarWidths(this.scrollerEl));\n\n\t\t\t// doing the scrollbar compensation might have created text overflow which created more height. redo\n\t\t\tscrollerHeight = this.computeScrollerHeight(totalHeight);\n\t\t\tthis.scrollerEl.height(scrollerHeight);\n\t\t}\n\t},\n\n\n\t// Sets the height of just the DayGrid component in this view\n\tsetGridHeight: function(height, isAuto) {\n\t\tif (isAuto) {\n\t\t\tundistributeHeight(this.dayGrid.rowEls); // let the rows be their natural height with no expanding\n\t\t}\n\t\telse {\n\t\t\tdistributeHeight(this.dayGrid.rowEls, height, true); // true = compensate for height-hogging rows\n\t\t}\n\t},\n\n\n\t/* Events\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders the given events onto the view and populates the segments array\n\trenderEvents: function(events) {\n\t\tthis.dayGrid.renderEvents(events);\n\n\t\tthis.updateHeight(); // must compensate for events that overflow the row\n\t},\n\n\n\t// Retrieves all segment objects that are rendered in the view\n\tgetEventSegs: function() {\n\t\treturn this.dayGrid.getEventSegs();\n\t},\n\n\n\t// Unrenders all event elements and clears internal segment data\n\tunrenderEvents: function() {\n\t\tthis.dayGrid.unrenderEvents();\n\n\t\t// we DON'T need to call updateHeight() because:\n\t\t// A) a renderEvents() call always happens after this, which will eventually call updateHeight()\n\t\t// B) in IE8, this causes a flash whenever events are rerendered\n\t},\n\n\n\t/* Dragging (for both events and external elements)\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// A returned value of `true` signals that a mock \"helper\" event has been rendered.\n\trenderDrag: function(dropLocation, seg) {\n\t\treturn this.dayGrid.renderDrag(dropLocation, seg);\n\t},\n\n\n\tunrenderDrag: function() {\n\t\tthis.dayGrid.unrenderDrag();\n\t},\n\n\n\t/* Selection\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of a selection\n\trenderSelection: function(range) {\n\t\tthis.dayGrid.renderSelection(range);\n\t},\n\n\n\t// Unrenders a visual indications of a selection\n\tunrenderSelection: function() {\n\t\tthis.dayGrid.unrenderSelection();\n\t}\n\n});\n\n;;\n\n/* A month view with day cells running in rows (one-per-week) and columns\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar MonthView = BasicView.extend({\n\n\t// Produces information about what range to display\n\tcomputeRange: function(date) {\n\t\tvar range = BasicView.prototype.computeRange.call(this, date); // get value from super-method\n\t\tvar rowCnt;\n\n\t\t// ensure 6 weeks\n\t\tif (this.isFixedWeeks()) {\n\t\t\trowCnt = Math.ceil(range.end.diff(range.start, 'weeks', true)); // could be partial weeks due to hiddenDays\n\t\t\trange.end.add(6 - rowCnt, 'weeks');\n\t\t}\n\n\t\treturn range;\n\t},\n\n\n\t// Overrides the default BasicView behavior to have special multi-week auto-height logic\n\tsetGridHeight: function(height, isAuto) {\n\n\t\tisAuto = isAuto || this.opt('weekMode') === 'variable'; // LEGACY: weekMode is deprecated\n\n\t\t// if auto, make the height of each row the height that it would be if there were 6 weeks\n\t\tif (isAuto) {\n\t\t\theight *= this.rowCnt / 6;\n\t\t}\n\n\t\tdistributeHeight(this.dayGrid.rowEls, height, !isAuto); // if auto, don't compensate for height-hogging rows\n\t},\n\n\n\tisFixedWeeks: function() {\n\t\tvar weekMode = this.opt('weekMode'); // LEGACY: weekMode is deprecated\n\t\tif (weekMode) {\n\t\t\treturn weekMode === 'fixed'; // if any other type of weekMode, assume NOT fixed\n\t\t}\n\n\t\treturn this.opt('fixedWeekCount');\n\t}\n\n});\n\n;;\n\nfcViews.basic = {\n\t'class': BasicView\n};\n\nfcViews.basicDay = {\n\ttype: 'basic',\n\tduration: { days: 1 }\n};\n\nfcViews.basicWeek = {\n\ttype: 'basic',\n\tduration: { weeks: 1 }\n};\n\nfcViews.month = {\n\t'class': MonthView,\n\tduration: { months: 1 }, // important for prev/next\n\tdefaults: {\n\t\tfixedWeekCount: true\n\t}\n};\n;;\n\n/* An abstract class for all agenda-related views. Displays one more columns with time slots running vertically.\n----------------------------------------------------------------------------------------------------------------------*/\n// Is a manager for the TimeGrid subcomponent and possibly the DayGrid subcomponent (if allDaySlot is on).\n// Responsible for managing width/height.\n\nvar AgendaView = View.extend({\n\n\ttimeGrid: null, // the main time-grid subcomponent of this view\n\tdayGrid: null, // the \"all-day\" subcomponent. if all-day is turned off, this will be null\n\n\taxisWidth: null, // the width of the time axis running down the side\n\n\tnoScrollRowEls: null, // set of fake row elements that must compensate when scrollerEl has scrollbars\n\n\t// when the time-grid isn't tall enough to occupy the given height, we render an <hr> underneath\n\tbottomRuleEl: null,\n\tbottomRuleHeight: null,\n\n\n\tinitialize: function() {\n\t\tthis.timeGrid = new TimeGrid(this);\n\n\t\tif (this.opt('allDaySlot')) { // should we display the \"all-day\" area?\n\t\t\tthis.dayGrid = new DayGrid(this); // the all-day subcomponent of this view\n\n\t\t\t// the coordinate grid will be a combination of both subcomponents' grids\n\t\t\tthis.coordMap = new ComboCoordMap([\n\t\t\t\tthis.dayGrid.coordMap,\n\t\t\t\tthis.timeGrid.coordMap\n\t\t\t]);\n\t\t}\n\t\telse {\n\t\t\tthis.coordMap = this.timeGrid.coordMap;\n\t\t}\n\t},\n\n\n\t/* Rendering\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Sets the display range and computes all necessary dates\n\tsetRange: function(range) {\n\t\tView.prototype.setRange.call(this, range); // call the super-method\n\n\t\tthis.timeGrid.setRange(range);\n\t\tif (this.dayGrid) {\n\t\t\tthis.dayGrid.setRange(range);\n\t\t}\n\t},\n\n\n\t// Renders the view into `this.el`, which has already been assigned\n\trenderDates: function() {\n\n\t\tthis.el.addClass('fc-agenda-view').html(this.renderHtml());\n\n\t\t// the element that wraps the time-grid that will probably scroll\n\t\tthis.scrollerEl = this.el.find('.fc-time-grid-container');\n\t\tthis.timeGrid.coordMap.containerEl = this.scrollerEl; // don't accept clicks/etc outside of this\n\n\t\tthis.timeGrid.setElement(this.el.find('.fc-time-grid'));\n\t\tthis.timeGrid.renderDates();\n\n\t\t// the <hr> that sometimes displays under the time-grid\n\t\tthis.bottomRuleEl = $('<hr class=\"fc-divider ' + this.widgetHeaderClass + '\"/>')\n\t\t\t.appendTo(this.timeGrid.el); // inject it into the time-grid\n\n\t\tif (this.dayGrid) {\n\t\t\tthis.dayGrid.setElement(this.el.find('.fc-day-grid'));\n\t\t\tthis.dayGrid.renderDates();\n\n\t\t\t// have the day-grid extend it's coordinate area over the <hr> dividing the two grids\n\t\t\tthis.dayGrid.bottomCoordPadding = this.dayGrid.el.next('hr').outerHeight();\n\t\t}\n\n\t\tthis.noScrollRowEls = this.el.find('.fc-row:not(.fc-scroller *)'); // fake rows not within the scroller\n\t},\n\n\n\t// Unrenders the content of the view. Since we haven't separated skeleton rendering from date rendering,\n\t// always completely kill each grid's rendering.\n\tunrenderDates: function() {\n\t\tthis.timeGrid.unrenderDates();\n\t\tthis.timeGrid.removeElement();\n\n\t\tif (this.dayGrid) {\n\t\t\tthis.dayGrid.unrenderDates();\n\t\t\tthis.dayGrid.removeElement();\n\t\t}\n\t},\n\n\n\trenderBusinessHours: function() {\n\t\tthis.timeGrid.renderBusinessHours();\n\n\t\tif (this.dayGrid) {\n\t\t\tthis.dayGrid.renderBusinessHours();\n\t\t}\n\t},\n\n\n\t// Builds the HTML skeleton for the view.\n\t// The day-grid and time-grid components will render inside containers defined by this HTML.\n\trenderHtml: function() {\n\t\treturn '' +\n\t\t\t'<table>' +\n\t\t\t\t'<thead class=\"fc-head\">' +\n\t\t\t\t\t'<tr>' +\n\t\t\t\t\t\t'<td class=\"' + this.widgetHeaderClass + '\">' +\n\t\t\t\t\t\t\tthis.timeGrid.headHtml() + // render the day-of-week headers\n\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t'</tr>' +\n\t\t\t\t'</thead>' +\n\t\t\t\t'<tbody class=\"fc-body\">' +\n\t\t\t\t\t'<tr>' +\n\t\t\t\t\t\t'<td class=\"' + this.widgetContentClass + '\">' +\n\t\t\t\t\t\t\t(this.dayGrid ?\n\t\t\t\t\t\t\t\t'<div class=\"fc-day-grid\"/>' +\n\t\t\t\t\t\t\t\t'<hr class=\"fc-divider ' + this.widgetHeaderClass + '\"/>' :\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t'<div class=\"fc-time-grid-container\">' +\n\t\t\t\t\t\t\t\t'<div class=\"fc-time-grid\"/>' +\n\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t'</tr>' +\n\t\t\t\t'</tbody>' +\n\t\t\t'</table>';\n\t},\n\n\n\t// Generates the HTML that will go before the day-of week header cells.\n\t// Queried by the TimeGrid subcomponent when generating rows. Ordering depends on isRTL.\n\theadIntroHtml: function() {\n\t\tvar date;\n\t\tvar weekText;\n\n\t\tif (this.opt('weekNumbers')) {\n\t\t\tdate = this.timeGrid.getCell(0).start;\n\t\t\tweekText = date.format(this.opt('smallWeekFormat'));\n\n\t\t\treturn '' +\n\t\t\t\t'<th class=\"fc-axis fc-week-number ' + this.widgetHeaderClass + '\" ' + this.axisStyleAttr() + '>' +\n\t\t\t\t\t'<span>' + // needed for matchCellWidths\n\t\t\t\t\t\thtmlEscape(weekText) +\n\t\t\t\t\t'</span>' +\n\t\t\t\t'</th>';\n\t\t}\n\t\telse {\n\t\t\treturn '<th class=\"fc-axis ' + this.widgetHeaderClass + '\" ' + this.axisStyleAttr() + '></th>';\n\t\t}\n\t},\n\n\n\t// Generates the HTML that goes before the all-day cells.\n\t// Queried by the DayGrid subcomponent when generating rows. Ordering depends on isRTL.\n\tdayIntroHtml: function() {\n\t\treturn '' +\n\t\t\t'<td class=\"fc-axis ' + this.widgetContentClass + '\" ' + this.axisStyleAttr() + '>' +\n\t\t\t\t'<span>' + // needed for matchCellWidths\n\t\t\t\t\t(this.opt('allDayHtml') || htmlEscape(this.opt('allDayText'))) +\n\t\t\t\t'</span>' +\n\t\t\t'</td>';\n\t},\n\n\n\t// Generates the HTML that goes before the bg of the TimeGrid slot area. Long vertical column.\n\tslotBgIntroHtml: function() {\n\t\treturn '<td class=\"fc-axis ' + this.widgetContentClass + '\" ' + this.axisStyleAttr() + '></td>';\n\t},\n\n\n\t// Generates the HTML that goes before all other types of cells.\n\t// Affects content-skeleton, helper-skeleton, highlight-skeleton for both the time-grid and day-grid.\n\t// Queried by the TimeGrid and DayGrid subcomponents when generating rows. Ordering depends on isRTL.\n\tintroHtml: function() {\n\t\treturn '<td class=\"fc-axis\" ' + this.axisStyleAttr() + '></td>';\n\t},\n\n\n\t// Generates an HTML attribute string for setting the width of the axis, if it is known\n\taxisStyleAttr: function() {\n\t\tif (this.axisWidth !== null) {\n\t\t\t return 'style=\"width:' + this.axisWidth + 'px\"';\n\t\t}\n\t\treturn '';\n\t},\n\n\n\t/* Dimensions\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\tupdateSize: function(isResize) {\n\t\tthis.timeGrid.updateSize(isResize);\n\n\t\tView.prototype.updateSize.call(this, isResize); // call the super-method\n\t},\n\n\n\t// Refreshes the horizontal dimensions of the view\n\tupdateWidth: function() {\n\t\t// make all axis cells line up, and record the width so newly created axis cells will have it\n\t\tthis.axisWidth = matchCellWidths(this.el.find('.fc-axis'));\n\t},\n\n\n\t// Adjusts the vertical dimensions of the view to the specified values\n\tsetHeight: function(totalHeight, isAuto) {\n\t\tvar eventLimit;\n\t\tvar scrollerHeight;\n\n\t\tif (this.bottomRuleHeight === null) {\n\t\t\t// calculate the height of the rule the very first time\n\t\t\tthis.bottomRuleHeight = this.bottomRuleEl.outerHeight();\n\t\t}\n\t\tthis.bottomRuleEl.hide(); // .show() will be called later if this <hr> is necessary\n\n\t\t// reset all dimensions back to the original state\n\t\tthis.scrollerEl.css('overflow', '');\n\t\tunsetScroller(this.scrollerEl);\n\t\tuncompensateScroll(this.noScrollRowEls);\n\n\t\t// limit number of events in the all-day area\n\t\tif (this.dayGrid) {\n\t\t\tthis.dayGrid.removeSegPopover(); // kill the \"more\" popover if displayed\n\n\t\t\teventLimit = this.opt('eventLimit');\n\t\t\tif (eventLimit && typeof eventLimit !== 'number') {\n\t\t\t\teventLimit = AGENDA_ALL_DAY_EVENT_LIMIT; // make sure \"auto\" goes to a real number\n\t\t\t}\n\t\t\tif (eventLimit) {\n\t\t\t\tthis.dayGrid.limitRows(eventLimit);\n\t\t\t}\n\t\t}\n\n\t\tif (!isAuto) { // should we force dimensions of the scroll container, or let the contents be natural height?\n\n\t\t\tscrollerHeight = this.computeScrollerHeight(totalHeight);\n\t\t\tif (setPotentialScroller(this.scrollerEl, scrollerHeight)) { // using scrollbars?\n\n\t\t\t\t// make the all-day and header rows lines up\n\t\t\t\tcompensateScroll(this.noScrollRowEls, getScrollbarWidths(this.scrollerEl));\n\n\t\t\t\t// the scrollbar compensation might have changed text flow, which might affect height, so recalculate\n\t\t\t\t// and reapply the desired height to the scroller.\n\t\t\t\tscrollerHeight = this.computeScrollerHeight(totalHeight);\n\t\t\t\tthis.scrollerEl.height(scrollerHeight);\n\t\t\t}\n\t\t\telse { // no scrollbars\n\t\t\t\t// still, force a height and display the bottom rule (marks the end of day)\n\t\t\t\tthis.scrollerEl.height(scrollerHeight).css('overflow', 'hidden'); // in case <hr> goes outside\n\t\t\t\tthis.bottomRuleEl.show();\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Computes the initial pre-configured scroll state prior to allowing the user to change it\n\tcomputeInitialScroll: function() {\n\t\tvar scrollTime = moment.duration(this.opt('scrollTime'));\n\t\tvar top = this.timeGrid.computeTimeTop(scrollTime);\n\n\t\t// zoom can give weird floating-point values. rather scroll a little bit further\n\t\ttop = Math.ceil(top);\n\n\t\tif (top) {\n\t\t\ttop++; // to overcome top border that slots beyond the first have. looks better\n\t\t}\n\n\t\treturn top;\n\t},\n\n\n\t/* Events\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders events onto the view and populates the View's segment array\n\trenderEvents: function(events) {\n\t\tvar dayEvents = [];\n\t\tvar timedEvents = [];\n\t\tvar daySegs = [];\n\t\tvar timedSegs;\n\t\tvar i;\n\n\t\t// separate the events into all-day and timed\n\t\tfor (i = 0; i < events.length; i++) {\n\t\t\tif (events[i].allDay) {\n\t\t\t\tdayEvents.push(events[i]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttimedEvents.push(events[i]);\n\t\t\t}\n\t\t}\n\n\t\t// render the events in the subcomponents\n\t\ttimedSegs = this.timeGrid.renderEvents(timedEvents);\n\t\tif (this.dayGrid) {\n\t\t\tdaySegs = this.dayGrid.renderEvents(dayEvents);\n\t\t}\n\n\t\t// the all-day area is flexible and might have a lot of events, so shift the height\n\t\tthis.updateHeight();\n\t},\n\n\n\t// Retrieves all segment objects that are rendered in the view\n\tgetEventSegs: function() {\n\t\treturn this.timeGrid.getEventSegs().concat(\n\t\t\tthis.dayGrid ? this.dayGrid.getEventSegs() : []\n\t\t);\n\t},\n\n\n\t// Unrenders all event elements and clears internal segment data\n\tunrenderEvents: function() {\n\n\t\t// unrender the events in the subcomponents\n\t\tthis.timeGrid.unrenderEvents();\n\t\tif (this.dayGrid) {\n\t\t\tthis.dayGrid.unrenderEvents();\n\t\t}\n\n\t\t// we DON'T need to call updateHeight() because:\n\t\t// A) a renderEvents() call always happens after this, which will eventually call updateHeight()\n\t\t// B) in IE8, this causes a flash whenever events are rerendered\n\t},\n\n\n\t/* Dragging (for events and external elements)\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// A returned value of `true` signals that a mock \"helper\" event has been rendered.\n\trenderDrag: function(dropLocation, seg) {\n\t\tif (dropLocation.start.hasTime()) {\n\t\t\treturn this.timeGrid.renderDrag(dropLocation, seg);\n\t\t}\n\t\telse if (this.dayGrid) {\n\t\t\treturn this.dayGrid.renderDrag(dropLocation, seg);\n\t\t}\n\t},\n\n\n\tunrenderDrag: function() {\n\t\tthis.timeGrid.unrenderDrag();\n\t\tif (this.dayGrid) {\n\t\t\tthis.dayGrid.unrenderDrag();\n\t\t}\n\t},\n\n\n\t/* Selection\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of a selection\n\trenderSelection: function(range) {\n\t\tif (range.start.hasTime() || range.end.hasTime()) {\n\t\t\tthis.timeGrid.renderSelection(range);\n\t\t}\n\t\telse if (this.dayGrid) {\n\t\t\tthis.dayGrid.renderSelection(range);\n\t\t}\n\t},\n\n\n\t// Unrenders a visual indications of a selection\n\tunrenderSelection: function() {\n\t\tthis.timeGrid.unrenderSelection();\n\t\tif (this.dayGrid) {\n\t\t\tthis.dayGrid.unrenderSelection();\n\t\t}\n\t}\n\n});\n\n;;\n\nvar AGENDA_ALL_DAY_EVENT_LIMIT = 5;\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar AGENDA_STOCK_SUB_DURATIONS = [\n\t{ hours: 1 },\n\t{ minutes: 30 },\n\t{ minutes: 15 },\n\t{ seconds: 30 },\n\t{ seconds: 15 }\n];\n\nfcViews.agenda = {\n\t'class': AgendaView,\n\tdefaults: {\n\t\tallDaySlot: true,\n\t\tallDayText: 'all-day',\n\t\tslotDuration: '00:30:00',\n\t\tminTime: '00:00:00',\n\t\tmaxTime: '24:00:00',\n\t\tslotEventOverlap: true // a bad name. confused with overlap/constraint system\n\t}\n};\n\nfcViews.agendaDay = {\n\ttype: 'agenda',\n\tduration: { days: 1 }\n};\n\nfcViews.agendaWeek = {\n\ttype: 'agenda',\n\tduration: { weeks: 1 }\n};\n;;\n\nreturn fc; // export for Node/CommonJS\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/fullcalendar/dist/fullcalendar.js\n ** module id = 24\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_25__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 25\n ** module chunks = 0\n **/","//! moment.js\n//! version : 2.10.6\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, function () { 'use strict';\n\n    var hookCallback;\n\n    function utils_hooks__hooks () {\n        return hookCallback.apply(null, arguments);\n    }\n\n    // This is done to register the method called with moment()\n    // without creating circular dependencies.\n    function setHookCallback (callback) {\n        hookCallback = callback;\n    }\n\n    function isArray(input) {\n        return Object.prototype.toString.call(input) === '[object Array]';\n    }\n\n    function isDate(input) {\n        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n    }\n\n    function map(arr, fn) {\n        var res = [], i;\n        for (i = 0; i < arr.length; ++i) {\n            res.push(fn(arr[i], i));\n        }\n        return res;\n    }\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (hasOwnProp(b, i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (hasOwnProp(b, 'toString')) {\n            a.toString = b.toString;\n        }\n\n        if (hasOwnProp(b, 'valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function create_utc__createUTC (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, true).utc();\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object.\n        return {\n            empty           : false,\n            unusedTokens    : [],\n            unusedInput     : [],\n            overflow        : -2,\n            charsLeftOver   : 0,\n            nullInput       : false,\n            invalidMonth    : null,\n            invalidFormat   : false,\n            userInvalidated : false,\n            iso             : false\n        };\n    }\n\n    function getParsingFlags(m) {\n        if (m._pf == null) {\n            m._pf = defaultParsingFlags();\n        }\n        return m._pf;\n    }\n\n    function valid__isValid(m) {\n        if (m._isValid == null) {\n            var flags = getParsingFlags(m);\n            m._isValid = !isNaN(m._d.getTime()) &&\n                flags.overflow < 0 &&\n                !flags.empty &&\n                !flags.invalidMonth &&\n                !flags.invalidWeekday &&\n                !flags.nullInput &&\n                !flags.invalidFormat &&\n                !flags.userInvalidated;\n\n            if (m._strict) {\n                m._isValid = m._isValid &&\n                    flags.charsLeftOver === 0 &&\n                    flags.unusedTokens.length === 0 &&\n                    flags.bigHour === undefined;\n            }\n        }\n        return m._isValid;\n    }\n\n    function valid__createInvalid (flags) {\n        var m = create_utc__createUTC(NaN);\n        if (flags != null) {\n            extend(getParsingFlags(m), flags);\n        }\n        else {\n            getParsingFlags(m).userInvalidated = true;\n        }\n\n        return m;\n    }\n\n    var momentProperties = utils_hooks__hooks.momentProperties = [];\n\n    function copyConfig(to, from) {\n        var i, prop, val;\n\n        if (typeof from._isAMomentObject !== 'undefined') {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (typeof from._i !== 'undefined') {\n            to._i = from._i;\n        }\n        if (typeof from._f !== 'undefined') {\n            to._f = from._f;\n        }\n        if (typeof from._l !== 'undefined') {\n            to._l = from._l;\n        }\n        if (typeof from._strict !== 'undefined') {\n            to._strict = from._strict;\n        }\n        if (typeof from._tzm !== 'undefined') {\n            to._tzm = from._tzm;\n        }\n        if (typeof from._isUTC !== 'undefined') {\n            to._isUTC = from._isUTC;\n        }\n        if (typeof from._offset !== 'undefined') {\n            to._offset = from._offset;\n        }\n        if (typeof from._pf !== 'undefined') {\n            to._pf = getParsingFlags(from);\n        }\n        if (typeof from._locale !== 'undefined') {\n            to._locale = from._locale;\n        }\n\n        if (momentProperties.length > 0) {\n            for (i in momentProperties) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (typeof val !== 'undefined') {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    var updateInProgress = false;\n\n    // Moment prototype object\n    function Moment(config) {\n        copyConfig(this, config);\n        this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n        // Prevent infinite loop in case updateOffset creates new moment\n        // objects.\n        if (updateInProgress === false) {\n            updateInProgress = true;\n            utils_hooks__hooks.updateOffset(this);\n            updateInProgress = false;\n        }\n    }\n\n    function isMoment (obj) {\n        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n    }\n\n    function absFloor (number) {\n        if (number < 0) {\n            return Math.ceil(number);\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if ((dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    function Locale() {\n    }\n\n    var locales = {};\n    var globalLocale;\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0, j, next, locale, split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return null;\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null;\n        // TODO: Find a better way to register and load all the locales in Node\n        if (!locales[name] && typeof module !== 'undefined' &&\n                module && module.exports) {\n            try {\n                oldLocale = globalLocale._abbr;\n                require('./locale/' + name);\n                // because defineLocale currently also sets the global locale, we\n                // want to undo that for lazy loaded locales\n                locale_locales__getSetGlobalLocale(oldLocale);\n            } catch (e) { }\n        }\n        return locales[name];\n    }\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    function locale_locales__getSetGlobalLocale (key, values) {\n        var data;\n        if (key) {\n            if (typeof values === 'undefined') {\n                data = locale_locales__getLocale(key);\n            }\n            else {\n                data = defineLocale(key, values);\n            }\n\n            if (data) {\n                // moment.duration._locale = moment._locale = data;\n                globalLocale = data;\n            }\n        }\n\n        return globalLocale._abbr;\n    }\n\n    function defineLocale (name, values) {\n        if (values !== null) {\n            values.abbr = name;\n            locales[name] = locales[name] || new Locale();\n            locales[name].set(values);\n\n            // backwards compat for now: also set the locale\n            locale_locales__getSetGlobalLocale(name);\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    }\n\n    // returns locale data\n    function locale_locales__getLocale (key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return globalLocale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    }\n\n    var aliases = {};\n\n    function addUnitAlias (unit, shorthand) {\n        var lowerCase = unit.toLowerCase();\n        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n    }\n\n    function normalizeUnits(units) {\n        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (hasOwnProp(inputObject, prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    function makeGetSet (unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                get_set__set(this, unit, value);\n                utils_hooks__hooks.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return get_set__get(this, unit);\n            }\n        };\n    }\n\n    function get_set__get (mom, unit) {\n        return mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]();\n    }\n\n    function get_set__set (mom, unit, value) {\n        return mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n    }\n\n    // MOMENTS\n\n    function getSet (units, value) {\n        var unit;\n        if (typeof units === 'object') {\n            for (unit in units) {\n                this.set(unit, units[unit]);\n            }\n        } else {\n            units = normalizeUnits(units);\n            if (typeof this[units] === 'function') {\n                return this[units](value);\n            }\n        }\n        return this;\n    }\n\n    function zeroFill(number, targetLength, forceSign) {\n        var absNumber = '' + Math.abs(number),\n            zerosToFill = targetLength - absNumber.length,\n            sign = number >= 0;\n        return (sign ? (forceSign ? '+' : '') : '-') +\n            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n    }\n\n    var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\n    var localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\n    var formatFunctions = {};\n\n    var formatTokenFunctions = {};\n\n    // token:    'M'\n    // padded:   ['MM', 2]\n    // ordinal:  'Mo'\n    // callback: function () { this.month() + 1 }\n    function addFormatToken (token, padded, ordinal, callback) {\n        var func = callback;\n        if (typeof callback === 'string') {\n            func = function () {\n                return this[callback]();\n            };\n        }\n        if (token) {\n            formatTokenFunctions[token] = func;\n        }\n        if (padded) {\n            formatTokenFunctions[padded[0]] = function () {\n                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n            };\n        }\n        if (ordinal) {\n            formatTokenFunctions[ordinal] = function () {\n                return this.localeData().ordinal(func.apply(this, arguments), token);\n            };\n        }\n    }\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens), i, length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '';\n            for (i = 0; i < length; i++) {\n                output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n    var match1         = /\\d/;            //       0 - 9\n    var match2         = /\\d\\d/;          //      00 - 99\n    var match3         = /\\d{3}/;         //     000 - 999\n    var match4         = /\\d{4}/;         //    0000 - 9999\n    var match6         = /[+-]?\\d{6}/;    // -999999 - 999999\n    var match1to2      = /\\d\\d?/;         //       0 - 99\n    var match1to3      = /\\d{1,3}/;       //       0 - 999\n    var match1to4      = /\\d{1,4}/;       //       0 - 9999\n    var match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\n    var matchUnsigned  = /\\d+/;           //       0 - inf\n    var matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\n    var matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\n\n    var matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n    // any word (or two) characters or numbers including two/three word month in arabic.\n    var matchWord = /[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i;\n\n    var regexes = {};\n\n    function isFunction (sth) {\n        // https://github.com/moment/moment/issues/2325\n        return typeof sth === 'function' &&\n            Object.prototype.toString.call(sth) === '[object Function]';\n    }\n\n\n    function addRegexToken (token, regex, strictRegex) {\n        regexes[token] = isFunction(regex) ? regex : function (isStrict) {\n            return (isStrict && strictRegex) ? strictRegex : regex;\n        };\n    }\n\n    function getParseRegexForToken (token, config) {\n        if (!hasOwnProp(regexes, token)) {\n            return new RegExp(unescapeFormat(token));\n        }\n\n        return regexes[token](config._strict, config._locale);\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function unescapeFormat(s) {\n        return s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n            return p1 || p2 || p3 || p4;\n        }).replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    var tokens = {};\n\n    function addParseToken (token, callback) {\n        var i, func = callback;\n        if (typeof token === 'string') {\n            token = [token];\n        }\n        if (typeof callback === 'number') {\n            func = function (input, array) {\n                array[callback] = toInt(input);\n            };\n        }\n        for (i = 0; i < token.length; i++) {\n            tokens[token[i]] = func;\n        }\n    }\n\n    function addWeekParseToken (token, callback) {\n        addParseToken(token, function (input, array, config, token) {\n            config._w = config._w || {};\n            callback(input, config._w, config, token);\n        });\n    }\n\n    function addTimeToArrayFromToken(token, input, config) {\n        if (input != null && hasOwnProp(tokens, token)) {\n            tokens[token](input, config._a, config, token);\n        }\n    }\n\n    var YEAR = 0;\n    var MONTH = 1;\n    var DATE = 2;\n    var HOUR = 3;\n    var MINUTE = 4;\n    var SECOND = 5;\n    var MILLISECOND = 6;\n\n    function daysInMonth(year, month) {\n        return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();\n    }\n\n    // FORMATTING\n\n    addFormatToken('M', ['MM', 2], 'Mo', function () {\n        return this.month() + 1;\n    });\n\n    addFormatToken('MMM', 0, 0, function (format) {\n        return this.localeData().monthsShort(this, format);\n    });\n\n    addFormatToken('MMMM', 0, 0, function (format) {\n        return this.localeData().months(this, format);\n    });\n\n    // ALIASES\n\n    addUnitAlias('month', 'M');\n\n    // PARSING\n\n    addRegexToken('M',    match1to2);\n    addRegexToken('MM',   match1to2, match2);\n    addRegexToken('MMM',  matchWord);\n    addRegexToken('MMMM', matchWord);\n\n    addParseToken(['M', 'MM'], function (input, array) {\n        array[MONTH] = toInt(input) - 1;\n    });\n\n    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n        var month = config._locale.monthsParse(input, token, config._strict);\n        // if we didn't find a month name, mark the date as invalid.\n        if (month != null) {\n            array[MONTH] = month;\n        } else {\n            getParsingFlags(config).invalidMonth = input;\n        }\n    });\n\n    // LOCALES\n\n    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\n    function localeMonths (m) {\n        return this._months[m.month()];\n    }\n\n    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\n    function localeMonthsShort (m) {\n        return this._monthsShort[m.month()];\n    }\n\n    function localeMonthsParse (monthName, format, strict) {\n        var i, mom, regex;\n\n        if (!this._monthsParse) {\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n        }\n\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = create_utc__createUTC([2000, i]);\n            if (strict && !this._longMonthsParse[i]) {\n                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n            }\n            if (!strict && !this._monthsParse[i]) {\n                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (!strict && this._monthsParse[i].test(monthName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function setMonth (mom, value) {\n        var dayOfMonth;\n\n        // TODO: Move this out of here!\n        if (typeof value === 'string') {\n            value = mom.localeData().monthsParse(value);\n            // TODO: Another silent failure?\n            if (typeof value !== 'number') {\n                return mom;\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function getSetMonth (value) {\n        if (value != null) {\n            setMonth(this, value);\n            utils_hooks__hooks.updateOffset(this, true);\n            return this;\n        } else {\n            return get_set__get(this, 'Month');\n        }\n    }\n\n    function getDaysInMonth () {\n        return daysInMonth(this.year(), this.month());\n    }\n\n    function checkOverflow (m) {\n        var overflow;\n        var a = m._a;\n\n        if (a && getParsingFlags(m).overflow === -2) {\n            overflow =\n                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n                -1;\n\n            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n                overflow = DATE;\n            }\n\n            getParsingFlags(m).overflow = overflow;\n        }\n\n        return m;\n    }\n\n    function warn(msg) {\n        if (utils_hooks__hooks.suppressDeprecationWarnings === false && typeof console !== 'undefined' && console.warn) {\n            console.warn('Deprecation warning: ' + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n\n        return extend(function () {\n            if (firstTime) {\n                warn(msg + '\\n' + (new Error()).stack);\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    var deprecations = {};\n\n    function deprecateSimple(name, msg) {\n        if (!deprecations[name]) {\n            warn(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    utils_hooks__hooks.suppressDeprecationWarnings = false;\n\n    var from_string__isoRegex = /^\\s*(?:[+-]\\d{6}|\\d{4})-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\n    var isoDates = [\n        ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d{2}-\\d{2}/],\n        ['YYYY-MM-DD', /\\d{4}-\\d{2}-\\d{2}/],\n        ['GGGG-[W]WW-E', /\\d{4}-W\\d{2}-\\d/],\n        ['GGGG-[W]WW', /\\d{4}-W\\d{2}/],\n        ['YYYY-DDD', /\\d{4}-\\d{3}/]\n    ];\n\n    // iso time formats and regexes\n    var isoTimes = [\n        ['HH:mm:ss.SSSS', /(T| )\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n        ['HH:mm:ss', /(T| )\\d\\d:\\d\\d:\\d\\d/],\n        ['HH:mm', /(T| )\\d\\d:\\d\\d/],\n        ['HH', /(T| )\\d\\d/]\n    ];\n\n    var aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n    // date from iso format\n    function configFromISO(config) {\n        var i, l,\n            string = config._i,\n            match = from_string__isoRegex.exec(string);\n\n        if (match) {\n            getParsingFlags(config).iso = true;\n            for (i = 0, l = isoDates.length; i < l; i++) {\n                if (isoDates[i][1].exec(string)) {\n                    config._f = isoDates[i][0];\n                    break;\n                }\n            }\n            for (i = 0, l = isoTimes.length; i < l; i++) {\n                if (isoTimes[i][1].exec(string)) {\n                    // match[6] should be 'T' or space\n                    config._f += (match[6] || ' ') + isoTimes[i][0];\n                    break;\n                }\n            }\n            if (string.match(matchOffset)) {\n                config._f += 'Z';\n            }\n            configFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from iso format or fallback\n    function configFromString(config) {\n        var matched = aspNetJsonRegex.exec(config._i);\n\n        if (matched !== null) {\n            config._d = new Date(+matched[1]);\n            return;\n        }\n\n        configFromISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n            utils_hooks__hooks.createFromInputFallback(config);\n        }\n    }\n\n    utils_hooks__hooks.createFromInputFallback = deprecate(\n        'moment construction falls back to js Date. This is ' +\n        'discouraged and will be removed in upcoming major ' +\n        'release. Please refer to ' +\n        'https://github.com/moment/moment/issues/1407 for more info.',\n        function (config) {\n            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n        }\n    );\n\n    function createDate (y, m, d, h, M, s, ms) {\n        //can't just apply() to create a date:\n        //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply\n        var date = new Date(y, m, d, h, M, s, ms);\n\n        //the date constructor doesn't accept years < 1970\n        if (y < 1970) {\n            date.setFullYear(y);\n        }\n        return date;\n    }\n\n    function createUTCDate (y) {\n        var date = new Date(Date.UTC.apply(null, arguments));\n        if (y < 1970) {\n            date.setUTCFullYear(y);\n        }\n        return date;\n    }\n\n    addFormatToken(0, ['YY', 2], 0, function () {\n        return this.year() % 100;\n    });\n\n    addFormatToken(0, ['YYYY',   4],       0, 'year');\n    addFormatToken(0, ['YYYYY',  5],       0, 'year');\n    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n    // ALIASES\n\n    addUnitAlias('year', 'y');\n\n    // PARSING\n\n    addRegexToken('Y',      matchSigned);\n    addRegexToken('YY',     match1to2, match2);\n    addRegexToken('YYYY',   match1to4, match4);\n    addRegexToken('YYYYY',  match1to6, match6);\n    addRegexToken('YYYYYY', match1to6, match6);\n\n    addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n    addParseToken('YYYY', function (input, array) {\n        array[YEAR] = input.length === 2 ? utils_hooks__hooks.parseTwoDigitYear(input) : toInt(input);\n    });\n    addParseToken('YY', function (input, array) {\n        array[YEAR] = utils_hooks__hooks.parseTwoDigitYear(input);\n    });\n\n    // HELPERS\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    // HOOKS\n\n    utils_hooks__hooks.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    // MOMENTS\n\n    var getSetYear = makeGetSet('FullYear', false);\n\n    function getIsLeapYear () {\n        return isLeapYear(this.year());\n    }\n\n    addFormatToken('w', ['ww', 2], 'wo', 'week');\n    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n    // ALIASES\n\n    addUnitAlias('week', 'w');\n    addUnitAlias('isoWeek', 'W');\n\n    // PARSING\n\n    addRegexToken('w',  match1to2);\n    addRegexToken('ww', match1to2, match2);\n    addRegexToken('W',  match1to2);\n    addRegexToken('WW', match1to2, match2);\n\n    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n        week[token.substr(0, 1)] = toInt(input);\n    });\n\n    // HELPERS\n\n    // firstDayOfWeek       0 = sun, 6 = sat\n    //                      the day of the week that starts the week\n    //                      (usually sunday or monday)\n    // firstDayOfWeekOfYear 0 = sun, 6 = sat\n    //                      the first week is the week that contains the first\n    //                      of this day of the week\n    //                      (eg. ISO weeks use thursday (4))\n    function weekOfYear(mom, firstDayOfWeek, firstDayOfWeekOfYear) {\n        var end = firstDayOfWeekOfYear - firstDayOfWeek,\n            daysToDayOfWeek = firstDayOfWeekOfYear - mom.day(),\n            adjustedMoment;\n\n\n        if (daysToDayOfWeek > end) {\n            daysToDayOfWeek -= 7;\n        }\n\n        if (daysToDayOfWeek < end - 7) {\n            daysToDayOfWeek += 7;\n        }\n\n        adjustedMoment = local__createLocal(mom).add(daysToDayOfWeek, 'd');\n        return {\n            week: Math.ceil(adjustedMoment.dayOfYear() / 7),\n            year: adjustedMoment.year()\n        };\n    }\n\n    // LOCALES\n\n    function localeWeek (mom) {\n        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n    }\n\n    var defaultLocaleWeek = {\n        dow : 0, // Sunday is the first day of the week.\n        doy : 6  // The week that contains Jan 1st is the first week of the year.\n    };\n\n    function localeFirstDayOfWeek () {\n        return this._week.dow;\n    }\n\n    function localeFirstDayOfYear () {\n        return this._week.doy;\n    }\n\n    // MOMENTS\n\n    function getSetWeek (input) {\n        var week = this.localeData().week(this);\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    function getSetISOWeek (input) {\n        var week = weekOfYear(this, 1, 4).week;\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n    // ALIASES\n\n    addUnitAlias('dayOfYear', 'DDD');\n\n    // PARSING\n\n    addRegexToken('DDD',  match1to3);\n    addRegexToken('DDDD', match3);\n    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n        config._dayOfYear = toInt(input);\n    });\n\n    // HELPERS\n\n    //http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, firstDayOfWeekOfYear, firstDayOfWeek) {\n        var week1Jan = 6 + firstDayOfWeek - firstDayOfWeekOfYear, janX = createUTCDate(year, 0, 1 + week1Jan), d = janX.getUTCDay(), dayOfYear;\n        if (d < firstDayOfWeek) {\n            d += 7;\n        }\n\n        weekday = weekday != null ? 1 * weekday : firstDayOfWeek;\n\n        dayOfYear = 1 + week1Jan + 7 * (week - 1) - d + weekday;\n\n        return {\n            year: dayOfYear > 0 ? year : year - 1,\n            dayOfYear: dayOfYear > 0 ?  dayOfYear : daysInYear(year - 1) + dayOfYear\n        };\n    }\n\n    // MOMENTS\n\n    function getSetDayOfYear (input) {\n        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n    }\n\n    // Pick the first defined of two or three arguments.\n    function defaults(a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (b != null) {\n            return b;\n        }\n        return c;\n    }\n\n    function currentDateArray(config) {\n        var now = new Date();\n        if (config._useUTC) {\n            return [now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate()];\n        }\n        return [now.getFullYear(), now.getMonth(), now.getDate()];\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function configFromArray (config) {\n        var i, date, input = [], currentDate, yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear) {\n            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n            if (config._dayOfYear > daysInYear(yearToUse)) {\n                getParsingFlags(config)._overflowDayOfYear = true;\n            }\n\n            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // Check for 24:00:00.000\n        if (config._a[HOUR] === 24 &&\n                config._a[MINUTE] === 0 &&\n                config._a[SECOND] === 0 &&\n                config._a[MILLISECOND] === 0) {\n            config._nextDay = true;\n            config._a[HOUR] = 0;\n        }\n\n        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n        // Apply timezone offset from input. The actual utcOffset can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n        }\n\n        if (config._nextDay) {\n            config._a[HOUR] = 24;\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(local__createLocal(), 1, 4).year);\n            week = defaults(w.W, 1);\n            weekday = defaults(w.E, 1);\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            weekYear = defaults(w.gg, config._a[YEAR], weekOfYear(local__createLocal(), dow, doy).year);\n            week = defaults(w.w, 1);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < dow) {\n                    ++week;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from begining of week\n                weekday = w.e + dow;\n            } else {\n                // default to begining of week\n                weekday = dow;\n            }\n        }\n        temp = dayOfYearFromWeeks(weekYear, week, weekday, doy, dow);\n\n        config._a[YEAR] = temp.year;\n        config._dayOfYear = temp.dayOfYear;\n    }\n\n    utils_hooks__hooks.ISO_8601 = function () {};\n\n    // date from string and format string\n    function configFromStringAndFormat(config) {\n        // TODO: Move this to another part of the creation flow to prevent circular deps\n        if (config._f === utils_hooks__hooks.ISO_8601) {\n            configFromISO(config);\n            return;\n        }\n\n        config._a = [];\n        getParsingFlags(config).empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i, parsedInput, tokens, token, skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0;\n\n        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n        for (i = 0; i < tokens.length; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    getParsingFlags(config).unusedInput.push(skipped);\n                }\n                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    getParsingFlags(config).empty = false;\n                }\n                else {\n                    getParsingFlags(config).unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            }\n            else if (config._strict && !parsedInput) {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            getParsingFlags(config).unusedInput.push(string);\n        }\n\n        // clear _12h flag if hour is <= 12\n        if (getParsingFlags(config).bigHour === true &&\n                config._a[HOUR] <= 12 &&\n                config._a[HOUR] > 0) {\n            getParsingFlags(config).bigHour = undefined;\n        }\n        // handle meridiem\n        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n        configFromArray(config);\n        checkOverflow(config);\n    }\n\n\n    function meridiemFixWrap (locale, hour, meridiem) {\n        var isPm;\n\n        if (meridiem == null) {\n            // nothing to do\n            return hour;\n        }\n        if (locale.meridiemHour != null) {\n            return locale.meridiemHour(hour, meridiem);\n        } else if (locale.isPM != null) {\n            // Fallback\n            isPm = locale.isPM(meridiem);\n            if (isPm && hour < 12) {\n                hour += 12;\n            }\n            if (!isPm && hour === 12) {\n                hour = 0;\n            }\n            return hour;\n        } else {\n            // this is not supposed to happen\n            return hour;\n        }\n    }\n\n    function configFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n\n            scoreToBeat,\n            i,\n            currentScore;\n\n        if (config._f.length === 0) {\n            getParsingFlags(config).invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < config._f.length; i++) {\n            currentScore = 0;\n            tempConfig = copyConfig({}, config);\n            if (config._useUTC != null) {\n                tempConfig._useUTC = config._useUTC;\n            }\n            tempConfig._f = config._f[i];\n            configFromStringAndFormat(tempConfig);\n\n            if (!valid__isValid(tempConfig)) {\n                continue;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n            //or tokens\n            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n            getParsingFlags(tempConfig).score = currentScore;\n\n            if (scoreToBeat == null || currentScore < scoreToBeat) {\n                scoreToBeat = currentScore;\n                bestMoment = tempConfig;\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    function configFromObject(config) {\n        if (config._d) {\n            return;\n        }\n\n        var i = normalizeObjectUnits(config._i);\n        config._a = [i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond];\n\n        configFromArray(config);\n    }\n\n    function createFromConfig (config) {\n        var res = new Moment(checkOverflow(prepareConfig(config)));\n        if (res._nextDay) {\n            // Adding is smart enough around DST\n            res.add(1, 'd');\n            res._nextDay = undefined;\n        }\n\n        return res;\n    }\n\n    function prepareConfig (config) {\n        var input = config._i,\n            format = config._f;\n\n        config._locale = config._locale || locale_locales__getLocale(config._l);\n\n        if (input === null || (format === undefined && input === '')) {\n            return valid__createInvalid({nullInput: true});\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (isMoment(input)) {\n            return new Moment(checkOverflow(input));\n        } else if (isArray(format)) {\n            configFromStringAndArray(config);\n        } else if (format) {\n            configFromStringAndFormat(config);\n        } else if (isDate(input)) {\n            config._d = input;\n        } else {\n            configFromInput(config);\n        }\n\n        return config;\n    }\n\n    function configFromInput(config) {\n        var input = config._i;\n        if (input === undefined) {\n            config._d = new Date();\n        } else if (isDate(input)) {\n            config._d = new Date(+input);\n        } else if (typeof input === 'string') {\n            configFromString(config);\n        } else if (isArray(input)) {\n            config._a = map(input.slice(0), function (obj) {\n                return parseInt(obj, 10);\n            });\n            configFromArray(config);\n        } else if (typeof(input) === 'object') {\n            configFromObject(config);\n        } else if (typeof(input) === 'number') {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            utils_hooks__hooks.createFromInputFallback(config);\n        }\n    }\n\n    function createLocalOrUTC (input, format, locale, strict, isUTC) {\n        var c = {};\n\n        if (typeof(locale) === 'boolean') {\n            strict = locale;\n            locale = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c._isAMomentObject = true;\n        c._useUTC = c._isUTC = isUTC;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n\n        return createFromConfig(c);\n    }\n\n    function local__createLocal (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, false);\n    }\n\n    var prototypeMin = deprecate(\n         'moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548',\n         function () {\n             var other = local__createLocal.apply(null, arguments);\n             return other < this ? this : other;\n         }\n     );\n\n    var prototypeMax = deprecate(\n        'moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548',\n        function () {\n            var other = local__createLocal.apply(null, arguments);\n            return other > this ? this : other;\n        }\n    );\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return local__createLocal();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (!moments[i].isValid() || moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    // TODO: Use [].sort instead?\n    function min () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    }\n\n    function max () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    }\n\n    function Duration (duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        // representation for dateAddRemove\n        this._milliseconds = +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 36e5; // 1000 * 60 * 60\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days +\n            weeks * 7;\n        // It is impossible translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months +\n            quarters * 3 +\n            years * 12;\n\n        this._data = {};\n\n        this._locale = locale_locales__getLocale();\n\n        this._bubble();\n    }\n\n    function isDuration (obj) {\n        return obj instanceof Duration;\n    }\n\n    function offset (token, separator) {\n        addFormatToken(token, 0, 0, function () {\n            var offset = this.utcOffset();\n            var sign = '+';\n            if (offset < 0) {\n                offset = -offset;\n                sign = '-';\n            }\n            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n        });\n    }\n\n    offset('Z', ':');\n    offset('ZZ', '');\n\n    // PARSING\n\n    addRegexToken('Z',  matchOffset);\n    addRegexToken('ZZ', matchOffset);\n    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n        config._useUTC = true;\n        config._tzm = offsetFromString(input);\n    });\n\n    // HELPERS\n\n    // timezone chunker\n    // '+10:00' > ['10',  '00']\n    // '-1530'  > ['-15', '30']\n    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n    function offsetFromString(string) {\n        var matches = ((string || '').match(matchOffset) || []);\n        var chunk   = matches[matches.length - 1] || [];\n        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n        var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return parts[0] === '+' ? minutes : -minutes;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function cloneWithOffset(input, model) {\n        var res, diff;\n        if (model._isUTC) {\n            res = model.clone();\n            diff = (isMoment(input) || isDate(input) ? +input : +local__createLocal(input)) - (+res);\n            // Use low-level api, because this fn is low-level api.\n            res._d.setTime(+res._d + diff);\n            utils_hooks__hooks.updateOffset(res, false);\n            return res;\n        } else {\n            return local__createLocal(input).local();\n        }\n    }\n\n    function getDateOffset (m) {\n        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n        // https://github.com/moment/moment/pull/1871\n        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n    }\n\n    // HOOKS\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    utils_hooks__hooks.updateOffset = function () {};\n\n    // MOMENTS\n\n    // keepLocalTime = true means only change the timezone, without\n    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n    // +0200, so we adjust the time as needed, to be valid.\n    //\n    // Keeping the time actually adds/subtracts (one hour)\n    // from the actual represented time. That is why we call updateOffset\n    // a second time. In case it wants us to change the offset again\n    // _changeInProgress == true case, then we have to adjust, because\n    // there is no such time in the given timezone.\n    function getSetOffset (input, keepLocalTime) {\n        var offset = this._offset || 0,\n            localAdjust;\n        if (input != null) {\n            if (typeof input === 'string') {\n                input = offsetFromString(input);\n            }\n            if (Math.abs(input) < 16) {\n                input = input * 60;\n            }\n            if (!this._isUTC && keepLocalTime) {\n                localAdjust = getDateOffset(this);\n            }\n            this._offset = input;\n            this._isUTC = true;\n            if (localAdjust != null) {\n                this.add(localAdjust, 'm');\n            }\n            if (offset !== input) {\n                if (!keepLocalTime || this._changeInProgress) {\n                    add_subtract__addSubtract(this, create__createDuration(input - offset, 'm'), 1, false);\n                } else if (!this._changeInProgress) {\n                    this._changeInProgress = true;\n                    utils_hooks__hooks.updateOffset(this, true);\n                    this._changeInProgress = null;\n                }\n            }\n            return this;\n        } else {\n            return this._isUTC ? offset : getDateOffset(this);\n        }\n    }\n\n    function getSetZone (input, keepLocalTime) {\n        if (input != null) {\n            if (typeof input !== 'string') {\n                input = -input;\n            }\n\n            this.utcOffset(input, keepLocalTime);\n\n            return this;\n        } else {\n            return -this.utcOffset();\n        }\n    }\n\n    function setOffsetToUTC (keepLocalTime) {\n        return this.utcOffset(0, keepLocalTime);\n    }\n\n    function setOffsetToLocal (keepLocalTime) {\n        if (this._isUTC) {\n            this.utcOffset(0, keepLocalTime);\n            this._isUTC = false;\n\n            if (keepLocalTime) {\n                this.subtract(getDateOffset(this), 'm');\n            }\n        }\n        return this;\n    }\n\n    function setOffsetToParsedOffset () {\n        if (this._tzm) {\n            this.utcOffset(this._tzm);\n        } else if (typeof this._i === 'string') {\n            this.utcOffset(offsetFromString(this._i));\n        }\n        return this;\n    }\n\n    function hasAlignedHourOffset (input) {\n        input = input ? local__createLocal(input).utcOffset() : 0;\n\n        return (this.utcOffset() - input) % 60 === 0;\n    }\n\n    function isDaylightSavingTime () {\n        return (\n            this.utcOffset() > this.clone().month(0).utcOffset() ||\n            this.utcOffset() > this.clone().month(5).utcOffset()\n        );\n    }\n\n    function isDaylightSavingTimeShifted () {\n        if (typeof this._isDSTShifted !== 'undefined') {\n            return this._isDSTShifted;\n        }\n\n        var c = {};\n\n        copyConfig(c, this);\n        c = prepareConfig(c);\n\n        if (c._a) {\n            var other = c._isUTC ? create_utc__createUTC(c._a) : local__createLocal(c._a);\n            this._isDSTShifted = this.isValid() &&\n                compareArrays(c._a, other.toArray()) > 0;\n        } else {\n            this._isDSTShifted = false;\n        }\n\n        return this._isDSTShifted;\n    }\n\n    function isLocal () {\n        return !this._isUTC;\n    }\n\n    function isUtcOffset () {\n        return this._isUTC;\n    }\n\n    function isUtc () {\n        return this._isUTC && this._offset === 0;\n    }\n\n    var aspNetRegex = /(\\-)?(?:(\\d*)\\.)?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?)?/;\n\n    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n    var create__isoRegex = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;\n\n    function create__createDuration (input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            diffRes;\n\n        if (isDuration(input)) {\n            duration = {\n                ms : input._milliseconds,\n                d  : input._days,\n                M  : input._months\n            };\n        } else if (typeof input === 'number') {\n            duration = {};\n            if (key) {\n                duration[key] = input;\n            } else {\n                duration.milliseconds = input;\n            }\n        } else if (!!(match = aspNetRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y  : 0,\n                d  : toInt(match[DATE])        * sign,\n                h  : toInt(match[HOUR])        * sign,\n                m  : toInt(match[MINUTE])      * sign,\n                s  : toInt(match[SECOND])      * sign,\n                ms : toInt(match[MILLISECOND]) * sign\n            };\n        } else if (!!(match = create__isoRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y : parseIso(match[2], sign),\n                M : parseIso(match[3], sign),\n                d : parseIso(match[4], sign),\n                h : parseIso(match[5], sign),\n                m : parseIso(match[6], sign),\n                s : parseIso(match[7], sign),\n                w : parseIso(match[8], sign)\n            };\n        } else if (duration == null) {// checks for null or undefined\n            duration = {};\n        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n            diffRes = momentsDifference(local__createLocal(duration.from), local__createLocal(duration.to));\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n            ret._locale = input._locale;\n        }\n\n        return ret;\n    }\n\n    create__createDuration.fn = Duration.prototype;\n\n    function parseIso (inp, sign) {\n        // We'd normally use ~~inp for this, but unfortunately it also\n        // converts floats to ints.\n        // inp may be undefined, so careful calling replace on it.\n        var res = inp && parseFloat(inp.replace(',', '.'));\n        // apply sign while we're at it\n        return (isNaN(res) ? 0 : res) * sign;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = {milliseconds: 0, months: 0};\n\n        res.months = other.month() - base.month() +\n            (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        other = cloneWithOffset(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period).');\n                tmp = val; val = period; period = tmp;\n            }\n\n            val = typeof val === 'string' ? +val : val;\n            dur = create__createDuration(val, period);\n            add_subtract__addSubtract(this, dur, direction);\n            return this;\n        };\n    }\n\n    function add_subtract__addSubtract (mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = duration._days,\n            months = duration._months;\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (milliseconds) {\n            mom._d.setTime(+mom._d + milliseconds * isAdding);\n        }\n        if (days) {\n            get_set__set(mom, 'Date', get_set__get(mom, 'Date') + days * isAdding);\n        }\n        if (months) {\n            setMonth(mom, get_set__get(mom, 'Month') + months * isAdding);\n        }\n        if (updateOffset) {\n            utils_hooks__hooks.updateOffset(mom, days || months);\n        }\n    }\n\n    var add_subtract__add      = createAdder(1, 'add');\n    var add_subtract__subtract = createAdder(-1, 'subtract');\n\n    function moment_calendar__calendar (time, formats) {\n        // We want to compare the start of today, vs this.\n        // Getting start-of-today depends on whether we're local/utc/offset or not.\n        var now = time || local__createLocal(),\n            sod = cloneWithOffset(now, this).startOf('day'),\n            diff = this.diff(sod, 'days', true),\n            format = diff < -6 ? 'sameElse' :\n                diff < -1 ? 'lastWeek' :\n                diff < 0 ? 'lastDay' :\n                diff < 1 ? 'sameDay' :\n                diff < 2 ? 'nextDay' :\n                diff < 7 ? 'nextWeek' : 'sameElse';\n        return this.format(formats && formats[format] || this.localeData().calendar(format, this, local__createLocal(now)));\n    }\n\n    function clone () {\n        return new Moment(this);\n    }\n\n    function isAfter (input, units) {\n        var inputMs;\n        units = normalizeUnits(typeof units !== 'undefined' ? units : 'millisecond');\n        if (units === 'millisecond') {\n            input = isMoment(input) ? input : local__createLocal(input);\n            return +this > +input;\n        } else {\n            inputMs = isMoment(input) ? +input : +local__createLocal(input);\n            return inputMs < +this.clone().startOf(units);\n        }\n    }\n\n    function isBefore (input, units) {\n        var inputMs;\n        units = normalizeUnits(typeof units !== 'undefined' ? units : 'millisecond');\n        if (units === 'millisecond') {\n            input = isMoment(input) ? input : local__createLocal(input);\n            return +this < +input;\n        } else {\n            inputMs = isMoment(input) ? +input : +local__createLocal(input);\n            return +this.clone().endOf(units) < inputMs;\n        }\n    }\n\n    function isBetween (from, to, units) {\n        return this.isAfter(from, units) && this.isBefore(to, units);\n    }\n\n    function isSame (input, units) {\n        var inputMs;\n        units = normalizeUnits(units || 'millisecond');\n        if (units === 'millisecond') {\n            input = isMoment(input) ? input : local__createLocal(input);\n            return +this === +input;\n        } else {\n            inputMs = +local__createLocal(input);\n            return +(this.clone().startOf(units)) <= inputMs && inputMs <= +(this.clone().endOf(units));\n        }\n    }\n\n    function diff (input, units, asFloat) {\n        var that = cloneWithOffset(input, this),\n            zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4,\n            delta, output;\n\n        units = normalizeUnits(units);\n\n        if (units === 'year' || units === 'month' || units === 'quarter') {\n            output = monthDiff(this, that);\n            if (units === 'quarter') {\n                output = output / 3;\n            } else if (units === 'year') {\n                output = output / 12;\n            }\n        } else {\n            delta = this - that;\n            output = units === 'second' ? delta / 1e3 : // 1000\n                units === 'minute' ? delta / 6e4 : // 1000 * 60\n                units === 'hour' ? delta / 36e5 : // 1000 * 60 * 60\n                units === 'day' ? (delta - zoneDelta) / 864e5 : // 1000 * 60 * 60 * 24, negate dst\n                units === 'week' ? (delta - zoneDelta) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst\n                delta;\n        }\n        return asFloat ? output : absFloor(output);\n    }\n\n    function monthDiff (a, b) {\n        // difference in months\n        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n            // b is in (anchor - 1 month, anchor + 1 month)\n            anchor = a.clone().add(wholeMonthDiff, 'months'),\n            anchor2, adjust;\n\n        if (b - anchor < 0) {\n            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor - anchor2);\n        } else {\n            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor2 - anchor);\n        }\n\n        return -(wholeMonthDiff + adjust);\n    }\n\n    utils_hooks__hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n\n    function toString () {\n        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n    }\n\n    function moment_format__toISOString () {\n        var m = this.clone().utc();\n        if (0 < m.year() && m.year() <= 9999) {\n            if ('function' === typeof Date.prototype.toISOString) {\n                // native implementation is ~50x faster, use it when we can\n                return this.toDate().toISOString();\n            } else {\n                return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n            }\n        } else {\n            return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n        }\n    }\n\n    function format (inputString) {\n        var output = formatMoment(this, inputString || utils_hooks__hooks.defaultFormat);\n        return this.localeData().postformat(output);\n    }\n\n    function from (time, withoutSuffix) {\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n        return create__createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n    }\n\n    function fromNow (withoutSuffix) {\n        return this.from(local__createLocal(), withoutSuffix);\n    }\n\n    function to (time, withoutSuffix) {\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n        return create__createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n    }\n\n    function toNow (withoutSuffix) {\n        return this.to(local__createLocal(), withoutSuffix);\n    }\n\n    function locale (key) {\n        var newLocaleData;\n\n        if (key === undefined) {\n            return this._locale._abbr;\n        } else {\n            newLocaleData = locale_locales__getLocale(key);\n            if (newLocaleData != null) {\n                this._locale = newLocaleData;\n            }\n            return this;\n        }\n    }\n\n    var lang = deprecate(\n        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n        function (key) {\n            if (key === undefined) {\n                return this.localeData();\n            } else {\n                return this.locale(key);\n            }\n        }\n    );\n\n    function localeData () {\n        return this._locale;\n    }\n\n    function startOf (units) {\n        units = normalizeUnits(units);\n        // the following switch intentionally omits break keywords\n        // to utilize falling through the cases.\n        switch (units) {\n        case 'year':\n            this.month(0);\n            /* falls through */\n        case 'quarter':\n        case 'month':\n            this.date(1);\n            /* falls through */\n        case 'week':\n        case 'isoWeek':\n        case 'day':\n            this.hours(0);\n            /* falls through */\n        case 'hour':\n            this.minutes(0);\n            /* falls through */\n        case 'minute':\n            this.seconds(0);\n            /* falls through */\n        case 'second':\n            this.milliseconds(0);\n        }\n\n        // weeks are a special case\n        if (units === 'week') {\n            this.weekday(0);\n        }\n        if (units === 'isoWeek') {\n            this.isoWeekday(1);\n        }\n\n        // quarters are also special\n        if (units === 'quarter') {\n            this.month(Math.floor(this.month() / 3) * 3);\n        }\n\n        return this;\n    }\n\n    function endOf (units) {\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond') {\n            return this;\n        }\n        return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');\n    }\n\n    function to_type__valueOf () {\n        return +this._d - ((this._offset || 0) * 60000);\n    }\n\n    function unix () {\n        return Math.floor(+this / 1000);\n    }\n\n    function toDate () {\n        return this._offset ? new Date(+this) : this._d;\n    }\n\n    function toArray () {\n        var m = this;\n        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n    }\n\n    function toObject () {\n        var m = this;\n        return {\n            years: m.year(),\n            months: m.month(),\n            date: m.date(),\n            hours: m.hours(),\n            minutes: m.minutes(),\n            seconds: m.seconds(),\n            milliseconds: m.milliseconds()\n        };\n    }\n\n    function moment_valid__isValid () {\n        return valid__isValid(this);\n    }\n\n    function parsingFlags () {\n        return extend({}, getParsingFlags(this));\n    }\n\n    function invalidAt () {\n        return getParsingFlags(this).overflow;\n    }\n\n    addFormatToken(0, ['gg', 2], 0, function () {\n        return this.weekYear() % 100;\n    });\n\n    addFormatToken(0, ['GG', 2], 0, function () {\n        return this.isoWeekYear() % 100;\n    });\n\n    function addWeekYearFormatToken (token, getter) {\n        addFormatToken(0, [token, token.length], 0, getter);\n    }\n\n    addWeekYearFormatToken('gggg',     'weekYear');\n    addWeekYearFormatToken('ggggg',    'weekYear');\n    addWeekYearFormatToken('GGGG',  'isoWeekYear');\n    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n    // ALIASES\n\n    addUnitAlias('weekYear', 'gg');\n    addUnitAlias('isoWeekYear', 'GG');\n\n    // PARSING\n\n    addRegexToken('G',      matchSigned);\n    addRegexToken('g',      matchSigned);\n    addRegexToken('GG',     match1to2, match2);\n    addRegexToken('gg',     match1to2, match2);\n    addRegexToken('GGGG',   match1to4, match4);\n    addRegexToken('gggg',   match1to4, match4);\n    addRegexToken('GGGGG',  match1to6, match6);\n    addRegexToken('ggggg',  match1to6, match6);\n\n    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n        week[token.substr(0, 2)] = toInt(input);\n    });\n\n    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n        week[token] = utils_hooks__hooks.parseTwoDigitYear(input);\n    });\n\n    // HELPERS\n\n    function weeksInYear(year, dow, doy) {\n        return weekOfYear(local__createLocal([year, 11, 31 + dow - doy]), dow, doy).week;\n    }\n\n    // MOMENTS\n\n    function getSetWeekYear (input) {\n        var year = weekOfYear(this, this.localeData()._week.dow, this.localeData()._week.doy).year;\n        return input == null ? year : this.add((input - year), 'y');\n    }\n\n    function getSetISOWeekYear (input) {\n        var year = weekOfYear(this, 1, 4).year;\n        return input == null ? year : this.add((input - year), 'y');\n    }\n\n    function getISOWeeksInYear () {\n        return weeksInYear(this.year(), 1, 4);\n    }\n\n    function getWeeksInYear () {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n    }\n\n    addFormatToken('Q', 0, 0, 'quarter');\n\n    // ALIASES\n\n    addUnitAlias('quarter', 'Q');\n\n    // PARSING\n\n    addRegexToken('Q', match1);\n    addParseToken('Q', function (input, array) {\n        array[MONTH] = (toInt(input) - 1) * 3;\n    });\n\n    // MOMENTS\n\n    function getSetQuarter (input) {\n        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n    }\n\n    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n    // ALIASES\n\n    addUnitAlias('date', 'D');\n\n    // PARSING\n\n    addRegexToken('D',  match1to2);\n    addRegexToken('DD', match1to2, match2);\n    addRegexToken('Do', function (isStrict, locale) {\n        return isStrict ? locale._ordinalParse : locale._ordinalParseLenient;\n    });\n\n    addParseToken(['D', 'DD'], DATE);\n    addParseToken('Do', function (input, array) {\n        array[DATE] = toInt(input.match(match1to2)[0], 10);\n    });\n\n    // MOMENTS\n\n    var getSetDayOfMonth = makeGetSet('Date', true);\n\n    addFormatToken('d', 0, 'do', 'day');\n\n    addFormatToken('dd', 0, 0, function (format) {\n        return this.localeData().weekdaysMin(this, format);\n    });\n\n    addFormatToken('ddd', 0, 0, function (format) {\n        return this.localeData().weekdaysShort(this, format);\n    });\n\n    addFormatToken('dddd', 0, 0, function (format) {\n        return this.localeData().weekdays(this, format);\n    });\n\n    addFormatToken('e', 0, 0, 'weekday');\n    addFormatToken('E', 0, 0, 'isoWeekday');\n\n    // ALIASES\n\n    addUnitAlias('day', 'd');\n    addUnitAlias('weekday', 'e');\n    addUnitAlias('isoWeekday', 'E');\n\n    // PARSING\n\n    addRegexToken('d',    match1to2);\n    addRegexToken('e',    match1to2);\n    addRegexToken('E',    match1to2);\n    addRegexToken('dd',   matchWord);\n    addRegexToken('ddd',  matchWord);\n    addRegexToken('dddd', matchWord);\n\n    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config) {\n        var weekday = config._locale.weekdaysParse(input);\n        // if we didn't get a weekday name, mark the date as invalid\n        if (weekday != null) {\n            week.d = weekday;\n        } else {\n            getParsingFlags(config).invalidWeekday = input;\n        }\n    });\n\n    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n        week[token] = toInt(input);\n    });\n\n    // HELPERS\n\n    function parseWeekday(input, locale) {\n        if (typeof input !== 'string') {\n            return input;\n        }\n\n        if (!isNaN(input)) {\n            return parseInt(input, 10);\n        }\n\n        input = locale.weekdaysParse(input);\n        if (typeof input === 'number') {\n            return input;\n        }\n\n        return null;\n    }\n\n    // LOCALES\n\n    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\n    function localeWeekdays (m) {\n        return this._weekdays[m.day()];\n    }\n\n    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\n    function localeWeekdaysShort (m) {\n        return this._weekdaysShort[m.day()];\n    }\n\n    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\n    function localeWeekdaysMin (m) {\n        return this._weekdaysMin[m.day()];\n    }\n\n    function localeWeekdaysParse (weekdayName) {\n        var i, mom, regex;\n\n        this._weekdaysParse = this._weekdaysParse || [];\n\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n            if (!this._weekdaysParse[i]) {\n                mom = local__createLocal([2000, 1]).day(i);\n                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (this._weekdaysParse[i].test(weekdayName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function getSetDayOfWeek (input) {\n        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n        if (input != null) {\n            input = parseWeekday(input, this.localeData());\n            return this.add(input - day, 'd');\n        } else {\n            return day;\n        }\n    }\n\n    function getSetLocaleDayOfWeek (input) {\n        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n        return input == null ? weekday : this.add(input - weekday, 'd');\n    }\n\n    function getSetISODayOfWeek (input) {\n        // behaves the same as moment#day except\n        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n        // as a setter, sunday should belong to the previous week.\n        return input == null ? this.day() || 7 : this.day(this.day() % 7 ? input : input - 7);\n    }\n\n    addFormatToken('H', ['HH', 2], 0, 'hour');\n    addFormatToken('h', ['hh', 2], 0, function () {\n        return this.hours() % 12 || 12;\n    });\n\n    function meridiem (token, lowercase) {\n        addFormatToken(token, 0, 0, function () {\n            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n        });\n    }\n\n    meridiem('a', true);\n    meridiem('A', false);\n\n    // ALIASES\n\n    addUnitAlias('hour', 'h');\n\n    // PARSING\n\n    function matchMeridiem (isStrict, locale) {\n        return locale._meridiemParse;\n    }\n\n    addRegexToken('a',  matchMeridiem);\n    addRegexToken('A',  matchMeridiem);\n    addRegexToken('H',  match1to2);\n    addRegexToken('h',  match1to2);\n    addRegexToken('HH', match1to2, match2);\n    addRegexToken('hh', match1to2, match2);\n\n    addParseToken(['H', 'HH'], HOUR);\n    addParseToken(['a', 'A'], function (input, array, config) {\n        config._isPm = config._locale.isPM(input);\n        config._meridiem = input;\n    });\n    addParseToken(['h', 'hh'], function (input, array, config) {\n        array[HOUR] = toInt(input);\n        getParsingFlags(config).bigHour = true;\n    });\n\n    // LOCALES\n\n    function localeIsPM (input) {\n        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n        // Using charAt should be more compatible.\n        return ((input + '').toLowerCase().charAt(0) === 'p');\n    }\n\n    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\n    function localeMeridiem (hours, minutes, isLower) {\n        if (hours > 11) {\n            return isLower ? 'pm' : 'PM';\n        } else {\n            return isLower ? 'am' : 'AM';\n        }\n    }\n\n\n    // MOMENTS\n\n    // Setting the hour should keep the time, because the user explicitly\n    // specified which hour he wants. So trying to maintain the same hour (in\n    // a new timezone) makes sense. Adding/subtracting hours does not follow\n    // this rule.\n    var getSetHour = makeGetSet('Hours', true);\n\n    addFormatToken('m', ['mm', 2], 0, 'minute');\n\n    // ALIASES\n\n    addUnitAlias('minute', 'm');\n\n    // PARSING\n\n    addRegexToken('m',  match1to2);\n    addRegexToken('mm', match1to2, match2);\n    addParseToken(['m', 'mm'], MINUTE);\n\n    // MOMENTS\n\n    var getSetMinute = makeGetSet('Minutes', false);\n\n    addFormatToken('s', ['ss', 2], 0, 'second');\n\n    // ALIASES\n\n    addUnitAlias('second', 's');\n\n    // PARSING\n\n    addRegexToken('s',  match1to2);\n    addRegexToken('ss', match1to2, match2);\n    addParseToken(['s', 'ss'], SECOND);\n\n    // MOMENTS\n\n    var getSetSecond = makeGetSet('Seconds', false);\n\n    addFormatToken('S', 0, 0, function () {\n        return ~~(this.millisecond() / 100);\n    });\n\n    addFormatToken(0, ['SS', 2], 0, function () {\n        return ~~(this.millisecond() / 10);\n    });\n\n    addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n    addFormatToken(0, ['SSSS', 4], 0, function () {\n        return this.millisecond() * 10;\n    });\n    addFormatToken(0, ['SSSSS', 5], 0, function () {\n        return this.millisecond() * 100;\n    });\n    addFormatToken(0, ['SSSSSS', 6], 0, function () {\n        return this.millisecond() * 1000;\n    });\n    addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n        return this.millisecond() * 10000;\n    });\n    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n        return this.millisecond() * 100000;\n    });\n    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n        return this.millisecond() * 1000000;\n    });\n\n\n    // ALIASES\n\n    addUnitAlias('millisecond', 'ms');\n\n    // PARSING\n\n    addRegexToken('S',    match1to3, match1);\n    addRegexToken('SS',   match1to3, match2);\n    addRegexToken('SSS',  match1to3, match3);\n\n    var token;\n    for (token = 'SSSS'; token.length <= 9; token += 'S') {\n        addRegexToken(token, matchUnsigned);\n    }\n\n    function parseMs(input, array) {\n        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n    }\n\n    for (token = 'S'; token.length <= 9; token += 'S') {\n        addParseToken(token, parseMs);\n    }\n    // MOMENTS\n\n    var getSetMillisecond = makeGetSet('Milliseconds', false);\n\n    addFormatToken('z',  0, 0, 'zoneAbbr');\n    addFormatToken('zz', 0, 0, 'zoneName');\n\n    // MOMENTS\n\n    function getZoneAbbr () {\n        return this._isUTC ? 'UTC' : '';\n    }\n\n    function getZoneName () {\n        return this._isUTC ? 'Coordinated Universal Time' : '';\n    }\n\n    var momentPrototype__proto = Moment.prototype;\n\n    momentPrototype__proto.add          = add_subtract__add;\n    momentPrototype__proto.calendar     = moment_calendar__calendar;\n    momentPrototype__proto.clone        = clone;\n    momentPrototype__proto.diff         = diff;\n    momentPrototype__proto.endOf        = endOf;\n    momentPrototype__proto.format       = format;\n    momentPrototype__proto.from         = from;\n    momentPrototype__proto.fromNow      = fromNow;\n    momentPrototype__proto.to           = to;\n    momentPrototype__proto.toNow        = toNow;\n    momentPrototype__proto.get          = getSet;\n    momentPrototype__proto.invalidAt    = invalidAt;\n    momentPrototype__proto.isAfter      = isAfter;\n    momentPrototype__proto.isBefore     = isBefore;\n    momentPrototype__proto.isBetween    = isBetween;\n    momentPrototype__proto.isSame       = isSame;\n    momentPrototype__proto.isValid      = moment_valid__isValid;\n    momentPrototype__proto.lang         = lang;\n    momentPrototype__proto.locale       = locale;\n    momentPrototype__proto.localeData   = localeData;\n    momentPrototype__proto.max          = prototypeMax;\n    momentPrototype__proto.min          = prototypeMin;\n    momentPrototype__proto.parsingFlags = parsingFlags;\n    momentPrototype__proto.set          = getSet;\n    momentPrototype__proto.startOf      = startOf;\n    momentPrototype__proto.subtract     = add_subtract__subtract;\n    momentPrototype__proto.toArray      = toArray;\n    momentPrototype__proto.toObject     = toObject;\n    momentPrototype__proto.toDate       = toDate;\n    momentPrototype__proto.toISOString  = moment_format__toISOString;\n    momentPrototype__proto.toJSON       = moment_format__toISOString;\n    momentPrototype__proto.toString     = toString;\n    momentPrototype__proto.unix         = unix;\n    momentPrototype__proto.valueOf      = to_type__valueOf;\n\n    // Year\n    momentPrototype__proto.year       = getSetYear;\n    momentPrototype__proto.isLeapYear = getIsLeapYear;\n\n    // Week Year\n    momentPrototype__proto.weekYear    = getSetWeekYear;\n    momentPrototype__proto.isoWeekYear = getSetISOWeekYear;\n\n    // Quarter\n    momentPrototype__proto.quarter = momentPrototype__proto.quarters = getSetQuarter;\n\n    // Month\n    momentPrototype__proto.month       = getSetMonth;\n    momentPrototype__proto.daysInMonth = getDaysInMonth;\n\n    // Week\n    momentPrototype__proto.week           = momentPrototype__proto.weeks        = getSetWeek;\n    momentPrototype__proto.isoWeek        = momentPrototype__proto.isoWeeks     = getSetISOWeek;\n    momentPrototype__proto.weeksInYear    = getWeeksInYear;\n    momentPrototype__proto.isoWeeksInYear = getISOWeeksInYear;\n\n    // Day\n    momentPrototype__proto.date       = getSetDayOfMonth;\n    momentPrototype__proto.day        = momentPrototype__proto.days             = getSetDayOfWeek;\n    momentPrototype__proto.weekday    = getSetLocaleDayOfWeek;\n    momentPrototype__proto.isoWeekday = getSetISODayOfWeek;\n    momentPrototype__proto.dayOfYear  = getSetDayOfYear;\n\n    // Hour\n    momentPrototype__proto.hour = momentPrototype__proto.hours = getSetHour;\n\n    // Minute\n    momentPrototype__proto.minute = momentPrototype__proto.minutes = getSetMinute;\n\n    // Second\n    momentPrototype__proto.second = momentPrototype__proto.seconds = getSetSecond;\n\n    // Millisecond\n    momentPrototype__proto.millisecond = momentPrototype__proto.milliseconds = getSetMillisecond;\n\n    // Offset\n    momentPrototype__proto.utcOffset            = getSetOffset;\n    momentPrototype__proto.utc                  = setOffsetToUTC;\n    momentPrototype__proto.local                = setOffsetToLocal;\n    momentPrototype__proto.parseZone            = setOffsetToParsedOffset;\n    momentPrototype__proto.hasAlignedHourOffset = hasAlignedHourOffset;\n    momentPrototype__proto.isDST                = isDaylightSavingTime;\n    momentPrototype__proto.isDSTShifted         = isDaylightSavingTimeShifted;\n    momentPrototype__proto.isLocal              = isLocal;\n    momentPrototype__proto.isUtcOffset          = isUtcOffset;\n    momentPrototype__proto.isUtc                = isUtc;\n    momentPrototype__proto.isUTC                = isUtc;\n\n    // Timezone\n    momentPrototype__proto.zoneAbbr = getZoneAbbr;\n    momentPrototype__proto.zoneName = getZoneName;\n\n    // Deprecations\n    momentPrototype__proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\n    momentPrototype__proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\n    momentPrototype__proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\n    momentPrototype__proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779', getSetZone);\n\n    var momentPrototype = momentPrototype__proto;\n\n    function moment__createUnix (input) {\n        return local__createLocal(input * 1000);\n    }\n\n    function moment__createInZone () {\n        return local__createLocal.apply(null, arguments).parseZone();\n    }\n\n    var defaultCalendar = {\n        sameDay : '[Today at] LT',\n        nextDay : '[Tomorrow at] LT',\n        nextWeek : 'dddd [at] LT',\n        lastDay : '[Yesterday at] LT',\n        lastWeek : '[Last] dddd [at] LT',\n        sameElse : 'L'\n    };\n\n    function locale_calendar__calendar (key, mom, now) {\n        var output = this._calendar[key];\n        return typeof output === 'function' ? output.call(mom, now) : output;\n    }\n\n    var defaultLongDateFormat = {\n        LTS  : 'h:mm:ss A',\n        LT   : 'h:mm A',\n        L    : 'MM/DD/YYYY',\n        LL   : 'MMMM D, YYYY',\n        LLL  : 'MMMM D, YYYY h:mm A',\n        LLLL : 'dddd, MMMM D, YYYY h:mm A'\n    };\n\n    function longDateFormat (key) {\n        var format = this._longDateFormat[key],\n            formatUpper = this._longDateFormat[key.toUpperCase()];\n\n        if (format || !formatUpper) {\n            return format;\n        }\n\n        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n            return val.slice(1);\n        });\n\n        return this._longDateFormat[key];\n    }\n\n    var defaultInvalidDate = 'Invalid date';\n\n    function invalidDate () {\n        return this._invalidDate;\n    }\n\n    var defaultOrdinal = '%d';\n    var defaultOrdinalParse = /\\d{1,2}/;\n\n    function ordinal (number) {\n        return this._ordinal.replace('%d', number);\n    }\n\n    function preParsePostFormat (string) {\n        return string;\n    }\n\n    var defaultRelativeTime = {\n        future : 'in %s',\n        past   : '%s ago',\n        s  : 'a few seconds',\n        m  : 'a minute',\n        mm : '%d minutes',\n        h  : 'an hour',\n        hh : '%d hours',\n        d  : 'a day',\n        dd : '%d days',\n        M  : 'a month',\n        MM : '%d months',\n        y  : 'a year',\n        yy : '%d years'\n    };\n\n    function relative__relativeTime (number, withoutSuffix, string, isFuture) {\n        var output = this._relativeTime[string];\n        return (typeof output === 'function') ?\n            output(number, withoutSuffix, string, isFuture) :\n            output.replace(/%d/i, number);\n    }\n\n    function pastFuture (diff, output) {\n        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n        return typeof format === 'function' ? format(output) : format.replace(/%s/i, output);\n    }\n\n    function locale_set__set (config) {\n        var prop, i;\n        for (i in config) {\n            prop = config[i];\n            if (typeof prop === 'function') {\n                this[i] = prop;\n            } else {\n                this['_' + i] = prop;\n            }\n        }\n        // Lenient ordinal parsing accepts just a number in addition to\n        // number + (possibly) stuff coming from _ordinalParseLenient.\n        this._ordinalParseLenient = new RegExp(this._ordinalParse.source + '|' + (/\\d{1,2}/).source);\n    }\n\n    var prototype__proto = Locale.prototype;\n\n    prototype__proto._calendar       = defaultCalendar;\n    prototype__proto.calendar        = locale_calendar__calendar;\n    prototype__proto._longDateFormat = defaultLongDateFormat;\n    prototype__proto.longDateFormat  = longDateFormat;\n    prototype__proto._invalidDate    = defaultInvalidDate;\n    prototype__proto.invalidDate     = invalidDate;\n    prototype__proto._ordinal        = defaultOrdinal;\n    prototype__proto.ordinal         = ordinal;\n    prototype__proto._ordinalParse   = defaultOrdinalParse;\n    prototype__proto.preparse        = preParsePostFormat;\n    prototype__proto.postformat      = preParsePostFormat;\n    prototype__proto._relativeTime   = defaultRelativeTime;\n    prototype__proto.relativeTime    = relative__relativeTime;\n    prototype__proto.pastFuture      = pastFuture;\n    prototype__proto.set             = locale_set__set;\n\n    // Month\n    prototype__proto.months       =        localeMonths;\n    prototype__proto._months      = defaultLocaleMonths;\n    prototype__proto.monthsShort  =        localeMonthsShort;\n    prototype__proto._monthsShort = defaultLocaleMonthsShort;\n    prototype__proto.monthsParse  =        localeMonthsParse;\n\n    // Week\n    prototype__proto.week = localeWeek;\n    prototype__proto._week = defaultLocaleWeek;\n    prototype__proto.firstDayOfYear = localeFirstDayOfYear;\n    prototype__proto.firstDayOfWeek = localeFirstDayOfWeek;\n\n    // Day of Week\n    prototype__proto.weekdays       =        localeWeekdays;\n    prototype__proto._weekdays      = defaultLocaleWeekdays;\n    prototype__proto.weekdaysMin    =        localeWeekdaysMin;\n    prototype__proto._weekdaysMin   = defaultLocaleWeekdaysMin;\n    prototype__proto.weekdaysShort  =        localeWeekdaysShort;\n    prototype__proto._weekdaysShort = defaultLocaleWeekdaysShort;\n    prototype__proto.weekdaysParse  =        localeWeekdaysParse;\n\n    // Hours\n    prototype__proto.isPM = localeIsPM;\n    prototype__proto._meridiemParse = defaultLocaleMeridiemParse;\n    prototype__proto.meridiem = localeMeridiem;\n\n    function lists__get (format, index, field, setter) {\n        var locale = locale_locales__getLocale();\n        var utc = create_utc__createUTC().set(setter, index);\n        return locale[field](utc, format);\n    }\n\n    function list (format, index, field, count, setter) {\n        if (typeof format === 'number') {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n\n        if (index != null) {\n            return lists__get(format, index, field, setter);\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < count; i++) {\n            out[i] = lists__get(format, i, field, setter);\n        }\n        return out;\n    }\n\n    function lists__listMonths (format, index) {\n        return list(format, index, 'months', 12, 'month');\n    }\n\n    function lists__listMonthsShort (format, index) {\n        return list(format, index, 'monthsShort', 12, 'month');\n    }\n\n    function lists__listWeekdays (format, index) {\n        return list(format, index, 'weekdays', 7, 'day');\n    }\n\n    function lists__listWeekdaysShort (format, index) {\n        return list(format, index, 'weekdaysShort', 7, 'day');\n    }\n\n    function lists__listWeekdaysMin (format, index) {\n        return list(format, index, 'weekdaysMin', 7, 'day');\n    }\n\n    locale_locales__getSetGlobalLocale('en', {\n        ordinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (toInt(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        }\n    });\n\n    // Side effect imports\n    utils_hooks__hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', locale_locales__getSetGlobalLocale);\n    utils_hooks__hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', locale_locales__getLocale);\n\n    var mathAbs = Math.abs;\n\n    function duration_abs__abs () {\n        var data           = this._data;\n\n        this._milliseconds = mathAbs(this._milliseconds);\n        this._days         = mathAbs(this._days);\n        this._months       = mathAbs(this._months);\n\n        data.milliseconds  = mathAbs(data.milliseconds);\n        data.seconds       = mathAbs(data.seconds);\n        data.minutes       = mathAbs(data.minutes);\n        data.hours         = mathAbs(data.hours);\n        data.months        = mathAbs(data.months);\n        data.years         = mathAbs(data.years);\n\n        return this;\n    }\n\n    function duration_add_subtract__addSubtract (duration, input, value, direction) {\n        var other = create__createDuration(input, value);\n\n        duration._milliseconds += direction * other._milliseconds;\n        duration._days         += direction * other._days;\n        duration._months       += direction * other._months;\n\n        return duration._bubble();\n    }\n\n    // supports only 2.0-style add(1, 's') or add(duration)\n    function duration_add_subtract__add (input, value) {\n        return duration_add_subtract__addSubtract(this, input, value, 1);\n    }\n\n    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n    function duration_add_subtract__subtract (input, value) {\n        return duration_add_subtract__addSubtract(this, input, value, -1);\n    }\n\n    function absCeil (number) {\n        if (number < 0) {\n            return Math.floor(number);\n        } else {\n            return Math.ceil(number);\n        }\n    }\n\n    function bubble () {\n        var milliseconds = this._milliseconds;\n        var days         = this._days;\n        var months       = this._months;\n        var data         = this._data;\n        var seconds, minutes, hours, years, monthsFromDays;\n\n        // if we have a mix of positive and negative values, bubble down first\n        // check: https://github.com/moment/moment/issues/2166\n        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n                (milliseconds <= 0 && days <= 0 && months <= 0))) {\n            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n            days = 0;\n            months = 0;\n        }\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n\n        seconds           = absFloor(milliseconds / 1000);\n        data.seconds      = seconds % 60;\n\n        minutes           = absFloor(seconds / 60);\n        data.minutes      = minutes % 60;\n\n        hours             = absFloor(minutes / 60);\n        data.hours        = hours % 24;\n\n        days += absFloor(hours / 24);\n\n        // convert days to months\n        monthsFromDays = absFloor(daysToMonths(days));\n        months += monthsFromDays;\n        days -= absCeil(monthsToDays(monthsFromDays));\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        data.days   = days;\n        data.months = months;\n        data.years  = years;\n\n        return this;\n    }\n\n    function daysToMonths (days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        // 400 years have 12 months === 4800\n        return days * 4800 / 146097;\n    }\n\n    function monthsToDays (months) {\n        // the reverse of daysToMonths\n        return months * 146097 / 4800;\n    }\n\n    function as (units) {\n        var days;\n        var months;\n        var milliseconds = this._milliseconds;\n\n        units = normalizeUnits(units);\n\n        if (units === 'month' || units === 'year') {\n            days   = this._days   + milliseconds / 864e5;\n            months = this._months + daysToMonths(days);\n            return units === 'month' ? months : months / 12;\n        } else {\n            // handle milliseconds separately because of floating point math errors (issue #1867)\n            days = this._days + Math.round(monthsToDays(this._months));\n            switch (units) {\n                case 'week'   : return days / 7     + milliseconds / 6048e5;\n                case 'day'    : return days         + milliseconds / 864e5;\n                case 'hour'   : return days * 24    + milliseconds / 36e5;\n                case 'minute' : return days * 1440  + milliseconds / 6e4;\n                case 'second' : return days * 86400 + milliseconds / 1000;\n                // Math.floor prevents floating point math errors here\n                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n                default: throw new Error('Unknown unit ' + units);\n            }\n        }\n    }\n\n    // TODO: Use this.as('ms')?\n    function duration_as__valueOf () {\n        return (\n            this._milliseconds +\n            this._days * 864e5 +\n            (this._months % 12) * 2592e6 +\n            toInt(this._months / 12) * 31536e6\n        );\n    }\n\n    function makeAs (alias) {\n        return function () {\n            return this.as(alias);\n        };\n    }\n\n    var asMilliseconds = makeAs('ms');\n    var asSeconds      = makeAs('s');\n    var asMinutes      = makeAs('m');\n    var asHours        = makeAs('h');\n    var asDays         = makeAs('d');\n    var asWeeks        = makeAs('w');\n    var asMonths       = makeAs('M');\n    var asYears        = makeAs('y');\n\n    function duration_get__get (units) {\n        units = normalizeUnits(units);\n        return this[units + 's']();\n    }\n\n    function makeGetter(name) {\n        return function () {\n            return this._data[name];\n        };\n    }\n\n    var milliseconds = makeGetter('milliseconds');\n    var seconds      = makeGetter('seconds');\n    var minutes      = makeGetter('minutes');\n    var hours        = makeGetter('hours');\n    var days         = makeGetter('days');\n    var months       = makeGetter('months');\n    var years        = makeGetter('years');\n\n    function weeks () {\n        return absFloor(this.days() / 7);\n    }\n\n    var round = Math.round;\n    var thresholds = {\n        s: 45,  // seconds to minute\n        m: 45,  // minutes to hour\n        h: 22,  // hours to day\n        d: 26,  // days to month\n        M: 11   // months to year\n    };\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function duration_humanize__relativeTime (posNegDuration, withoutSuffix, locale) {\n        var duration = create__createDuration(posNegDuration).abs();\n        var seconds  = round(duration.as('s'));\n        var minutes  = round(duration.as('m'));\n        var hours    = round(duration.as('h'));\n        var days     = round(duration.as('d'));\n        var months   = round(duration.as('M'));\n        var years    = round(duration.as('y'));\n\n        var a = seconds < thresholds.s && ['s', seconds]  ||\n                minutes === 1          && ['m']           ||\n                minutes < thresholds.m && ['mm', minutes] ||\n                hours   === 1          && ['h']           ||\n                hours   < thresholds.h && ['hh', hours]   ||\n                days    === 1          && ['d']           ||\n                days    < thresholds.d && ['dd', days]    ||\n                months  === 1          && ['M']           ||\n                months  < thresholds.M && ['MM', months]  ||\n                years   === 1          && ['y']           || ['yy', years];\n\n        a[2] = withoutSuffix;\n        a[3] = +posNegDuration > 0;\n        a[4] = locale;\n        return substituteTimeAgo.apply(null, a);\n    }\n\n    // This function allows you to set a threshold for relative time strings\n    function duration_humanize__getSetRelativeTimeThreshold (threshold, limit) {\n        if (thresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return thresholds[threshold];\n        }\n        thresholds[threshold] = limit;\n        return true;\n    }\n\n    function humanize (withSuffix) {\n        var locale = this.localeData();\n        var output = duration_humanize__relativeTime(this, !withSuffix, locale);\n\n        if (withSuffix) {\n            output = locale.pastFuture(+this, output);\n        }\n\n        return locale.postformat(output);\n    }\n\n    var iso_string__abs = Math.abs;\n\n    function iso_string__toISOString() {\n        // for ISO strings we do not use the normal bubbling rules:\n        //  * milliseconds bubble up until they become hours\n        //  * days do not bubble at all\n        //  * months bubble up until they become years\n        // This is because there is no context-free conversion between hours and days\n        // (think of clock changes)\n        // and also not between days and months (28-31 days per month)\n        var seconds = iso_string__abs(this._milliseconds) / 1000;\n        var days         = iso_string__abs(this._days);\n        var months       = iso_string__abs(this._months);\n        var minutes, hours, years;\n\n        // 3600 seconds -> 60 minutes -> 1 hour\n        minutes           = absFloor(seconds / 60);\n        hours             = absFloor(minutes / 60);\n        seconds %= 60;\n        minutes %= 60;\n\n        // 12 months -> 1 year\n        years  = absFloor(months / 12);\n        months %= 12;\n\n\n        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n        var Y = years;\n        var M = months;\n        var D = days;\n        var h = hours;\n        var m = minutes;\n        var s = seconds;\n        var total = this.asSeconds();\n\n        if (!total) {\n            // this is the same as C#'s (Noda) and python (isodate)...\n            // but not other JS (goog.date)\n            return 'P0D';\n        }\n\n        return (total < 0 ? '-' : '') +\n            'P' +\n            (Y ? Y + 'Y' : '') +\n            (M ? M + 'M' : '') +\n            (D ? D + 'D' : '') +\n            ((h || m || s) ? 'T' : '') +\n            (h ? h + 'H' : '') +\n            (m ? m + 'M' : '') +\n            (s ? s + 'S' : '');\n    }\n\n    var duration_prototype__proto = Duration.prototype;\n\n    duration_prototype__proto.abs            = duration_abs__abs;\n    duration_prototype__proto.add            = duration_add_subtract__add;\n    duration_prototype__proto.subtract       = duration_add_subtract__subtract;\n    duration_prototype__proto.as             = as;\n    duration_prototype__proto.asMilliseconds = asMilliseconds;\n    duration_prototype__proto.asSeconds      = asSeconds;\n    duration_prototype__proto.asMinutes      = asMinutes;\n    duration_prototype__proto.asHours        = asHours;\n    duration_prototype__proto.asDays         = asDays;\n    duration_prototype__proto.asWeeks        = asWeeks;\n    duration_prototype__proto.asMonths       = asMonths;\n    duration_prototype__proto.asYears        = asYears;\n    duration_prototype__proto.valueOf        = duration_as__valueOf;\n    duration_prototype__proto._bubble        = bubble;\n    duration_prototype__proto.get            = duration_get__get;\n    duration_prototype__proto.milliseconds   = milliseconds;\n    duration_prototype__proto.seconds        = seconds;\n    duration_prototype__proto.minutes        = minutes;\n    duration_prototype__proto.hours          = hours;\n    duration_prototype__proto.days           = days;\n    duration_prototype__proto.weeks          = weeks;\n    duration_prototype__proto.months         = months;\n    duration_prototype__proto.years          = years;\n    duration_prototype__proto.humanize       = humanize;\n    duration_prototype__proto.toISOString    = iso_string__toISOString;\n    duration_prototype__proto.toString       = iso_string__toISOString;\n    duration_prototype__proto.toJSON         = iso_string__toISOString;\n    duration_prototype__proto.locale         = locale;\n    duration_prototype__proto.localeData     = localeData;\n\n    // Deprecations\n    duration_prototype__proto.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', iso_string__toISOString);\n    duration_prototype__proto.lang = lang;\n\n    // Side effect imports\n\n    addFormatToken('X', 0, 0, 'unix');\n    addFormatToken('x', 0, 0, 'valueOf');\n\n    // PARSING\n\n    addRegexToken('x', matchSigned);\n    addRegexToken('X', matchTimestamp);\n    addParseToken('X', function (input, array, config) {\n        config._d = new Date(parseFloat(input, 10) * 1000);\n    });\n    addParseToken('x', function (input, array, config) {\n        config._d = new Date(toInt(input));\n    });\n\n    // Side effect imports\n\n\n    utils_hooks__hooks.version = '2.10.6';\n\n    setHookCallback(local__createLocal);\n\n    utils_hooks__hooks.fn                    = momentPrototype;\n    utils_hooks__hooks.min                   = min;\n    utils_hooks__hooks.max                   = max;\n    utils_hooks__hooks.utc                   = create_utc__createUTC;\n    utils_hooks__hooks.unix                  = moment__createUnix;\n    utils_hooks__hooks.months                = lists__listMonths;\n    utils_hooks__hooks.isDate                = isDate;\n    utils_hooks__hooks.locale                = locale_locales__getSetGlobalLocale;\n    utils_hooks__hooks.invalid               = valid__createInvalid;\n    utils_hooks__hooks.duration              = create__createDuration;\n    utils_hooks__hooks.isMoment              = isMoment;\n    utils_hooks__hooks.weekdays              = lists__listWeekdays;\n    utils_hooks__hooks.parseZone             = moment__createInZone;\n    utils_hooks__hooks.localeData            = locale_locales__getLocale;\n    utils_hooks__hooks.isDuration            = isDuration;\n    utils_hooks__hooks.monthsShort           = lists__listMonthsShort;\n    utils_hooks__hooks.weekdaysMin           = lists__listWeekdaysMin;\n    utils_hooks__hooks.defineLocale          = defineLocale;\n    utils_hooks__hooks.weekdaysShort         = lists__listWeekdaysShort;\n    utils_hooks__hooks.normalizeUnits        = normalizeUnits;\n    utils_hooks__hooks.relativeTimeThreshold = duration_humanize__getSetRelativeTimeThreshold;\n\n    var _moment = utils_hooks__hooks;\n\n    return _moment;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/moment.js\n ** module id = 26\n ** module chunks = 0\n **/","var map = {\n\t\"./en-gb\": 28,\n\t\"./en-gb.js\": 28\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 27;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale en-gb\n ** module id = 27\n ** module chunks = 0\n **/","//! moment.js locale configuration\n//! locale : great britain english (en-gb)\n//! author : Chris Gedrim : https://github.com/chrisgedrim\n\n(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var en_gb = moment.defineLocale('en-gb', {\n        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[Today at] LT',\n            nextDay : '[Tomorrow at] LT',\n            nextWeek : 'dddd [at] LT',\n            lastDay : '[Yesterday at] LT',\n            lastWeek : '[Last] dddd [at] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : '%s ago',\n            s : 'a few seconds',\n            m : 'a minute',\n            mm : '%d minutes',\n            h : 'an hour',\n            hh : '%d hours',\n            d : 'a day',\n            dd : '%d days',\n            M : 'a month',\n            MM : '%d months',\n            y : 'a year',\n            yy : '%d years'\n        },\n        ordinalParse: /\\d{1,2}(st|nd|rd|th)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return en_gb;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/en-gb.js\n ** module id = 28\n ** module chunks = 0\n **/","'use strict';\n\n/*\n * Utily functions for Booking.js\n */\n\nmodule.exports = {\n\n  log: function(message) {\n    throw new Error(message);\n    console.log('Timekit Booking: ' + message);\n  }\n\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils.js\n ** module id = 29\n ** module chunks = 0\n **/","'use strict';\n\n/*\n * Utily functions for Booking.js\n */\nvar $ = require('jquery');\n\nmodule.exports = {\n\n  timezoneHelper: function(data) {\n\n    var tzText = '';\n\n    if (data.tzOffsetDiff === 0) {\n      tzText = 'You are in the same timezone as ' + data.hostName;\n    } else {\n      tzText = 'Your timezone is ' + data.tzOffsetDiffAbs + ' hours ' + (data.aheadOfHost ? 'ahead' : 'behind') + ' ' + data.hostName + ' (calendar shown in your local time)';\n    }\n\n    var el = $('<span>' + tzText + '</span>');\n\n    return el;\n  }\n\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/templates.js\n ** module id = 30\n ** module chunks = 0\n **/","'use strict';\n\n/*\n * Default configuration for for Booking.js\n */\n\nmodule.exports = {\n\n  targetEl: '#bookingjs',\n  email: '',\n  apiToken: '',\n  calendar: '',\n  name: '',\n  avatar: '',\n  debug: false,\n  timekitConfig: {\n    app: 'sign-up'\n  },\n  findTime: {\n    filters: {\n      'and': [\n        { 'business_hours': {}},\n        { 'exclude_weekend': {}}\n      ]\n    },\n    future: '3 weeks',\n    duration: '1 hour'\n  },\n  createEvent: {\n    invite: true\n  },\n  fullCalendar: {\n    header: {\n      left: 'today',\n      center: '',\n      right: 'prev, next'\n    },\n    views: {\n      basic: {\n        columnFormat: 'dddd M/D',\n        timeFormat: 'h:mm a'\n      },\n      agenda: {\n        timeFormat: 'h:mm a',\n        displayEventEnd: false\n      }\n    },\n    allDaySlot: false,\n    scrollTime: '08:00:00',\n    //minTime: '08:00:00',\n    //maxTime: '19:00:00',\n    timezone: 'local'\n  },\n  localization: {\n    showTimezoneHelper: true,\n    dateFormat: 'D. MMMM YYYY',\n    timeFormat: 'h:mm a'\n  },\n  styling: {\n    fullCalendarCore: true,\n    fullCalendarTheme: true,\n    general: true\n  }\n\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/defaultConfig.js\n ** module id = 31\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./fullcalendar.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./fullcalendar.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./fullcalendar.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/fullcalendar/dist/fullcalendar.css\n ** module id = 32\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*!\\n * FullCalendar v2.4.0 Stylesheet\\n * Docs & License: http://fullcalendar.io/\\n * (c) 2015 Adam Shaw\\n */.fc{direction:ltr;text-align:left}.fc-rtl{text-align:right}body .fc{font-size:1em}.fc-unthemed .fc-divider,.fc-unthemed .fc-popover,.fc-unthemed .fc-row,.fc-unthemed tbody,.fc-unthemed td,.fc-unthemed th,.fc-unthemed thead{border-color:#ddd}.fc-unthemed .fc-popover{background-color:#fff}.fc-unthemed .fc-divider,.fc-unthemed .fc-popover .fc-header{background:#eee}.fc-unthemed .fc-popover .fc-header .fc-close{color:#666}.fc-unthemed .fc-today{background:#fcf8e3}.fc-highlight{background:#bce8f1}.fc-bgevent,.fc-highlight{opacity:.3;filter:alpha(opacity=30)}.fc-bgevent{background:#8fdf82}.fc-nonbusiness{background:#d7d7d7}.fc-icon{display:inline-block;width:1em;height:1em;line-height:1em;font-size:1em;text-align:center;overflow:hidden;font-family:Courier New,Courier,monospace;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fc-icon:after{position:relative;margin:0 -1em}.fc-icon-left-single-arrow:after{content:\\\"\\\\2039\\\";font-weight:700;font-size:200%;top:-7%;left:3%}.fc-icon-right-single-arrow:after{content:\\\"\\\\203A\\\";font-weight:700;font-size:200%;top:-7%;left:-3%}.fc-icon-left-double-arrow:after{content:\\\"\\\\AB\\\";font-size:160%;top:-7%}.fc-icon-right-double-arrow:after{content:\\\"\\\\BB\\\";font-size:160%;top:-7%}.fc-icon-left-triangle:after{content:\\\"\\\\25C4\\\";font-size:125%;top:3%;left:-2%}.fc-icon-right-triangle:after{content:\\\"\\\\25BA\\\";font-size:125%;top:3%;left:2%}.fc-icon-down-triangle:after{content:\\\"\\\\25BC\\\";font-size:125%;top:2%}.fc-icon-x:after{content:\\\"\\\\D7\\\";font-size:200%;top:6%}.fc button{box-sizing:border-box;margin:0;height:2.1em;padding:0 .6em;font-size:1em;white-space:nowrap;cursor:pointer}.fc button::-moz-focus-inner{margin:0;padding:0}.fc-state-default{border:1px solid}.fc-state-default.fc-corner-left{border-top-left-radius:4px;border-bottom-left-radius:4px}.fc-state-default.fc-corner-right{border-top-right-radius:4px;border-bottom-right-radius:4px}.fc button .fc-icon{position:relative;top:-.05em;margin:0 .2em;vertical-align:middle}.fc-state-default{background-color:#f5f5f5;background-image:-webkit-gradient(linear,0 0,0 100%,from(#fff),to(#e6e6e6));background-image:-webkit-linear-gradient(top,#fff,#e6e6e6);background-image:linear-gradient(to bottom,#fff,#e6e6e6);background-repeat:repeat-x;border-color:#e6e6e6 #e6e6e6 #bfbfbf;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25);color:#333;text-shadow:0 1px 1px hsla(0,0%,100%,.75);box-shadow:inset 0 1px 0 hsla(0,0%,100%,.2),0 1px 2px rgba(0,0,0,.05)}.fc-state-active,.fc-state-disabled,.fc-state-down,.fc-state-hover{color:#333;background-color:#e6e6e6}.fc-state-hover{color:#333;text-decoration:none;background-position:0 -15px;-webkit-transition:background-position .1s linear;transition:background-position .1s linear}.fc-state-active,.fc-state-down{background-color:#ccc;background-image:none;box-shadow:inset 0 2px 4px rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.05)}.fc-state-disabled{cursor:default;background-image:none;opacity:.65;filter:alpha(opacity=65);box-shadow:none}.fc-button-group{display:inline-block}.fc .fc-button-group>*{float:left;margin:0 0 0 -1px}.fc .fc-button-group>:first-child{margin-left:0}.fc-popover{position:absolute;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc-popover .fc-header{padding:2px 4px}.fc-popover .fc-header .fc-title{margin:0 2px}.fc-popover .fc-header .fc-close{cursor:pointer}.fc-ltr .fc-popover .fc-header .fc-title,.fc-rtl .fc-popover .fc-header .fc-close{float:left}.fc-ltr .fc-popover .fc-header .fc-close,.fc-rtl .fc-popover .fc-header .fc-title{float:right}.fc-unthemed .fc-popover{border-width:1px;border-style:solid}.fc-unthemed .fc-popover .fc-header .fc-close{font-size:.9em;margin-top:2px}.fc-popover>.ui-widget-header+.ui-widget-content{border-top:0}.fc-divider{border-style:solid;border-width:1px}hr.fc-divider{height:0;margin:0;padding:0 0 2px;border-width:1px 0}.fc-clear{clear:both}.fc-bg,.fc-bgevent-skeleton,.fc-helper-skeleton,.fc-highlight-skeleton{position:absolute;top:0;left:0;right:0}.fc-bg{bottom:0}.fc-bg table{height:100%}.fc table{width:100%;table-layout:fixed;border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{border-style:solid;border-width:1px;padding:0;vertical-align:top}.fc td.fc-today{border-style:double}.fc .fc-row{border-style:solid;border-width:0}.fc-row table{border-left:0 hidden transparent;border-right:0 hidden transparent;border-bottom:0 hidden transparent}.fc-row:first-child table{border-top:0 hidden transparent}.fc-row{position:relative}.fc-row .fc-bg{z-index:1}.fc-row .fc-bgevent-skeleton,.fc-row .fc-highlight-skeleton{bottom:0}.fc-row .fc-bgevent-skeleton table,.fc-row .fc-highlight-skeleton table{height:100%}.fc-row .fc-bgevent-skeleton td,.fc-row .fc-highlight-skeleton td{border-color:transparent}.fc-row .fc-bgevent-skeleton{z-index:2}.fc-row .fc-highlight-skeleton{z-index:3}.fc-row .fc-content-skeleton{position:relative;z-index:4;padding-bottom:2px}.fc-row .fc-helper-skeleton{z-index:5}.fc-row .fc-content-skeleton td,.fc-row .fc-helper-skeleton td{background:none;border-color:transparent;border-bottom:0}.fc-row .fc-content-skeleton tbody td,.fc-row .fc-helper-skeleton tbody td{border-top:0}.fc-scroller{overflow-y:scroll;overflow-x:hidden}.fc-scroller>*{position:relative;width:100%;overflow:hidden}.fc-event{position:relative;display:block;font-size:.85em;line-height:1.3;border-radius:3px;border:1px solid #3a87ad;background-color:#3a87ad;font-weight:400}.fc-event,.fc-event:hover,.ui-widget .fc-event{color:#fff;text-decoration:none}.fc-event.fc-draggable,.fc-event[href]{cursor:pointer}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-event .fc-bg{z-index:1;background:#fff;opacity:.25;filter:alpha(opacity=25)}.fc-event .fc-content{position:relative;z-index:2}.fc-event .fc-resizer{position:absolute;z-index:3}.fc-ltr .fc-h-event.fc-not-start,.fc-rtl .fc-h-event.fc-not-end{margin-left:0;border-left-width:0;padding-left:1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-ltr .fc-h-event.fc-not-end,.fc-rtl .fc-h-event.fc-not-start{margin-right:0;border-right-width:0;padding-right:1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-h-event .fc-resizer{top:-1px;bottom:-1px;left:-1px;right:-1px;width:5px}.fc-ltr .fc-h-event .fc-start-resizer,.fc-ltr .fc-h-event .fc-start-resizer:after,.fc-ltr .fc-h-event .fc-start-resizer:before,.fc-rtl .fc-h-event .fc-end-resizer,.fc-rtl .fc-h-event .fc-end-resizer:after,.fc-rtl .fc-h-event .fc-end-resizer:before{right:auto;cursor:w-resize}.fc-ltr .fc-h-event .fc-end-resizer,.fc-ltr .fc-h-event .fc-end-resizer:after,.fc-ltr .fc-h-event .fc-end-resizer:before,.fc-rtl .fc-h-event .fc-start-resizer,.fc-rtl .fc-h-event .fc-start-resizer:after,.fc-rtl .fc-h-event .fc-start-resizer:before{left:auto;cursor:e-resize}.fc-day-grid-event{margin:1px 2px 0;padding:0 1px}.fc-day-grid-event .fc-content{white-space:nowrap;overflow:hidden}.fc-day-grid-event .fc-time{font-weight:700}.fc-day-grid-event .fc-resizer{left:-3px;right:-3px;width:7px}a.fc-more{margin:1px 3px;font-size:.85em;cursor:pointer;text-decoration:none}a.fc-more:hover{text-decoration:underline}.fc-limited{display:none}.fc-day-grid .fc-row{z-index:1}.fc-more-popover{z-index:2;width:220px}.fc-more-popover .fc-event-container{padding:10px}.fc-toolbar{text-align:center;margin-bottom:1em}.fc-toolbar .fc-left{float:left}.fc-toolbar .fc-right{float:right}.fc-toolbar .fc-center{display:inline-block}.fc .fc-toolbar>*>*{float:left;margin-left:.75em}.fc .fc-toolbar>*>:first-child{margin-left:0}.fc-toolbar h2{margin:0}.fc-toolbar button{position:relative}.fc-toolbar .fc-state-hover,.fc-toolbar .ui-state-hover{z-index:2}.fc-toolbar .fc-state-down{z-index:3}.fc-toolbar .fc-state-active,.fc-toolbar .ui-state-active{z-index:4}.fc-toolbar button:focus{z-index:5}.fc-view-container *,.fc-view-container :after,.fc-view-container :before{box-sizing:content-box}.fc-view,.fc-view>table{position:relative;z-index:1}.fc-basicDay-view .fc-content-skeleton,.fc-basicWeek-view .fc-content-skeleton{padding-top:1px;padding-bottom:1em}.fc-basic-view .fc-body .fc-row{min-height:4em}.fc-row.fc-rigid{overflow:hidden}.fc-row.fc-rigid .fc-content-skeleton{position:absolute;top:0;left:0;right:0}.fc-basic-view .fc-day-number,.fc-basic-view .fc-week-number{padding:0 2px}.fc-basic-view td.fc-day-number,.fc-basic-view td.fc-week-number span{padding-top:2px;padding-bottom:2px}.fc-basic-view .fc-week-number{text-align:center}.fc-basic-view .fc-week-number span{display:inline-block;min-width:1.25em}.fc-ltr .fc-basic-view .fc-day-number{text-align:right}.fc-rtl .fc-basic-view .fc-day-number{text-align:left}.fc-day-number.fc-other-month{opacity:.3;filter:alpha(opacity=30)}.fc-agenda-view .fc-day-grid{position:relative;z-index:2}.fc-agenda-view .fc-day-grid .fc-row{min-height:3em}.fc-agenda-view .fc-day-grid .fc-row .fc-content-skeleton{padding-top:1px;padding-bottom:1em}.fc .fc-axis{vertical-align:middle;padding:0 4px;white-space:nowrap}.fc-ltr .fc-axis{text-align:right}.fc-rtl .fc-axis{text-align:left}.ui-widget td.fc-axis{font-weight:400}.fc-time-grid,.fc-time-grid-container{position:relative;z-index:1}.fc-time-grid{min-height:100%}.fc-time-grid table{border:0 hidden transparent}.fc-time-grid>.fc-bg{z-index:1}.fc-time-grid .fc-slats,.fc-time-grid>hr{position:relative;z-index:2}.fc-time-grid .fc-bgevent-skeleton,.fc-time-grid .fc-content-skeleton{position:absolute;top:0;left:0;right:0}.fc-time-grid .fc-bgevent-skeleton{z-index:3}.fc-time-grid .fc-highlight-skeleton{z-index:4}.fc-time-grid .fc-content-skeleton{z-index:5}.fc-time-grid .fc-helper-skeleton{z-index:6}.fc-time-grid .fc-slats td{height:1.5em;border-bottom:0}.fc-time-grid .fc-slats .fc-minor td{border-top-style:dotted}.fc-time-grid .fc-slats .ui-widget-content{background:none}.fc-time-grid .fc-highlight-container{position:relative}.fc-time-grid .fc-highlight{position:absolute;left:0;right:0}.fc-time-grid .fc-bgevent-container,.fc-time-grid .fc-event-container{position:relative}.fc-ltr .fc-time-grid .fc-event-container{margin:0 2.5% 0 2px}.fc-rtl .fc-time-grid .fc-event-container{margin:0 2px 0 2.5%}.fc-time-grid .fc-bgevent,.fc-time-grid .fc-event{position:absolute;z-index:1}.fc-time-grid .fc-bgevent{left:0;right:0}.fc-v-event.fc-not-start{border-top-width:0;padding-top:1px;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event.fc-not-end{border-bottom-width:0;padding-bottom:1px;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-time-grid-event{overflow:hidden}.fc-time-grid-event .fc-time,.fc-time-grid-event .fc-title{padding:0 1px}.fc-time-grid-event .fc-time{font-size:.85em;white-space:nowrap}.fc-time-grid-event.fc-short .fc-content{white-space:nowrap}.fc-time-grid-event.fc-short .fc-time,.fc-time-grid-event.fc-short .fc-title{display:inline-block;vertical-align:top}.fc-time-grid-event.fc-short .fc-time span{display:none}.fc-time-grid-event.fc-short .fc-time:before{content:attr(data-start)}.fc-time-grid-event.fc-short .fc-time:after{content:\\\"\\\\A0-\\\\A0\\\"}.fc-time-grid-event.fc-short .fc-title{font-size:.85em;padding:0}.fc-time-grid-event .fc-resizer{left:0;right:0;bottom:0;height:8px;overflow:hidden;line-height:8px;font-size:11px;font-family:monospace;text-align:center;cursor:s-resize}.fc-time-grid-event .fc-resizer:after{content:\\\"=\\\"}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/fullcalendar/dist/fullcalendar.css\n ** module id = 33\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 34\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 35\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./fullcalendar-theme.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./fullcalendar-theme.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./fullcalendar-theme.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/styles/fullcalendar-theme.scss\n ** module id = 36\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".fc-view-container{background-color:#fbfbfb}.fc-row.fc-widget-header{border-bottom:1px solid #ececec}.fc-state-default{text-shadow:none;box-shadow:none;background-image:none;background-color:#fff;border-color:#fff}.fc-button{text-transform:uppercase;font-weight:700;font-size:13px}.fc-content-skeleton{border-top:1px solid #ddd}.fc-toolbar{padding:0;margin-bottom:0;border-bottom:1px solid #ececec}.fc .fc-toolbar>*>button{padding:15px;height:auto;outline:0;margin-left:0;transition:opacity .2s ease;opacity:.3}.fc .fc-toolbar>*>button:hover{opacity:1}.fc .fc-toolbar>*>button.fc-state-disabled{transition:opacity 0s;opacity:0}.fc .fc-toolbar>*>button .fc-icon{font-size:1.1em}.fc-unthemed .fc-today{background:#fff}.fc-body>tr>.fc-widget-content,.fc-head>tr>.fc-widget-header{border:0!important}.fc th{border-color:#fff;padding:5px}.fc-unthemed .fc-divider,.fc-unthemed .fc-popover .fc-header{background-color:transparent}.fc-event{transition:all .2s;border:none;border-left:3px solid #689ad8;padding:5px;background-color:#fff;border-radius:4px;color:#444;margin:1px 0;box-shadow:0 1px 2px rgba(0,0,0,.07);cursor:pointer}.fc-event:hover{color:#fff;background-color:#3f7fce;border-left:3px solid #3f7fce}.fc-day-grid-event{padding:15px;margin:5px}.fc-time-grid .fc-slats .fc-minor td{border-top-style:none}.fc-time-grid-event.fc-short .fc-time:after{content:''}.fc-time-grid-event .fc-time{font-size:1.1em}.fc-unthemed .fc-divider,.fc-unthemed .fc-popover,.fc-unthemed .fc-row,.fc-unthemed tbody,.fc-unthemed td,.fc-unthemed th,.fc-unthemed thead{border-color:#ececec}.fc-agendaMonthly-view .fc-event{color:#fff}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/sass-loader!./src/styles/fullcalendar-theme.scss\n ** module id = 37\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./booking.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./booking.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./booking.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/styles/booking.scss\n ** module id = 38\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".bookingjs{max-width:700px;font-family:sans-serif;font-size:13px;border-radius:4px;background-color:#fff;box-shadow:rgba(0,0,0,.2) 0 2px 4px 0;margin:50px auto 20px;overflow:hidden}.bookingjs-timezonehelper{color:#aeaeae;text-align:center;padding:7px;background-color:#fbfbfb;border-top:1px solid #ececec;height:15px}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/sass-loader!./src/styles/booking.scss\n ** module id = 39\n ** module chunks = 0\n **/"],"sourceRoot":""}